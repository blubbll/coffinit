"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[26800],{226800:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=p(n(118915)),o=p(n(972247)),a=p(n(636602)),u=p(n(516818)),l=p(n(308920)),i=n(692711),s=p(n(40856)),c=n(264720),f=n(770348),d=p(n(247001));function p(e){return e&&e.__esModule?e:{default:e}}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}function y(e,t,n){void 0===t&&(t=null);a.default.dispatch(v({type:f.ActionTypes.USER_SETTINGS_MODAL_INIT,section:e,subsection:t},n))}var _={open:function(e,t,n){void 0===e&&(e=null);void 0===t&&(t=null);void 0===n&&(n={openWithoutBackstack:!1});y(e,t,n);(0,c.pushLayer)(f.Layers.USER_SETTINGS)},init:y,close:function(){var e=u.default.onClose;a.default.dispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_CLOSE});null!=e&&e()},setSection:function(e,t){void 0===t&&(t=null);a.default.dirtyDispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_SET_SECTION,section:e,subsection:t})},clearSubsection:function(){a.default.dirtyDispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_CLEAR_SUBSECTION})},updateAccount:function(e){a.default.dispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_UPDATE_ACCOUNT,settings:e})},submitComplete:function(){a.default.dispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_SUBMIT_COMPLETE})},reset:function(){a.default.dispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_RESET})},saveAccountChanges:function(e,t){var n=this;a.default.dispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_SUBMIT});var u=e.username,c=e.email,p=e.emailToken,y=e.password,_=e.avatar,O=e.newPassword,h=e.discriminator,S=t.close;return(0,s.default)({title:d.default.Messages.TWO_FA_CHANGE_ACCOUNT},(function(e){var t=v({username:u,email:c,email_token:p,password:y,avatar:_,new_password:O},e,{discriminator:null!=h&&""!==h?h:void 0}),n=o.default.get(f.DEVICE_TOKEN);if(null!=f.DEVICE_PUSH_PROVIDER&&null!=n){t.push_provider=f.DEVICE_PUSH_PROVIDER;t.push_token=n}var a=o.default.get(f.DEVICE_VOIP_TOKEN);if(null!=f.DEVICE_PUSH_VOIP_PROVIDER&&null!=a){t.push_voip_provider=f.DEVICE_PUSH_VOIP_PROVIDER;t.push_voip_token=a}return r.default.patch({url:f.Endpoints.ME,body:t,oldFormErrors:!0})}),{checkEnabled:!1,hooks:{onEarlyClose:function(){return a.default.dispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_SUBMIT_FAILURE,errors:{}})}}}).then((function(e){var t=e.body,r=t.token;l.default.track(f.AnalyticEvents.USER_AVATAR_UPDATED,{animated:(0,i.isAnimatedIconHash)(t.avatar)});delete t.token;a.default.dispatch({type:f.ActionTypes.UPDATE_TOKEN,token:r,userId:t.id});a.default.dispatch({type:f.ActionTypes.CURRENT_USER_UPDATE,user:t});S?n.close():n.submitComplete();return e}),(function(e){a.default.dispatch({type:f.ActionTypes.USER_SETTINGS_MODAL_SUBMIT_FAILURE,errors:e.body});return e}))}};t.default=_},410671:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=y(n(956117)),u=y(n(558402)),l=y(n(279950)),i=n(354479),s=y(n(510596)),c=n(3400),f=y(n(971639)),d=y(n(776360)),p=y(n(247001)),v=y(n(949095));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function O(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=o;else if(u>1){for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).headerId=(0,i.uid)();t.state={code:""};t.setRef=function(e){t._input=e};t.handleSubmit=function(e){e.preventDefault();(0,t.props.handleSubmit)(t.state.code)};t.handleCancel=function(){var e=t.props,n=e.onClose,r=e.handleEarlyClose;n();null==r||r()};t.handleCodeChange=function(e){t.setState({code:e})};return t}t.prototype.render=function(){var e=this.props,t=e.title,n=e.actionText,r=e.children,i=e.error,y=e.isLoading,_=e.disallowBackupCodes,h=e.transitionState,S=this.state.code,T=o.Children.count(r)>0?O(u.default,{type:u.default.Types.WARNING,className:v.default.card},void 0,O(d.default,{size:d.default.Sizes.SIZE_16},void 0,r)):null;return O(c.ModalRoot,{transitionState:h,"aria-labelledby":this.headerId},void 0,O("form",{onSubmit:this.handleSubmit},void 0,O(c.ModalHeader,{separator:!1,id:this.headerId},void 0,O(f.default,{tag:f.default.Tags.H2,size:f.default.Sizes.SIZE_20},void 0,t)),O(c.ModalContent,{},void 0,T,O(s.default,{title:_?p.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:p.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,className:v.default.spacing},void 0,O(l.default,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:_?p.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:p.default.Messages.TWO_FA_AUTH_CODE,maxLength:10,value:S,autoComplete:"one-time-code",autoFocus:!0}),null!=i&&""!==i?O(d.default,{color:d.default.Colors.STATUS_RED,size:d.default.Sizes.SIZE_12,className:v.default.error},void 0,i):null)),O(c.ModalFooter,{},void 0,O(a.default,{type:"submit",disabled:y},void 0,null!=n?n:p.default.Messages.CONFIRM),O(a.default,{onClick:this.handleCancel,disabled:y,look:a.default.Looks.LINK,color:a.default.Colors.PRIMARY},void 0,p.default.Messages.CANCEL))))};return t}(o.PureComponent);S.displayName="MFAConfirm";S.defaultProps={btnClass:"",isLoading:!1,disallowBackupCodes:!1,error:null};var T=S;t.default=T},345034:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null);if(!Object.is(e,n.current)){t.current=n.current;n.current=e}return t.current};var r=n(667294)},516818:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=s(n(496486)),a=s(n(536211)),u=s(n(636602)),l=s(n(728429)),i=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return d.apply(this,arguments)}var p=i.FormStates.CLOSED,v=null,y={},_={},O=null,h=null,S=!1,T=!1,E=null,b=null,m=null;function g(e){var t,n,r,o,a=l.default.getCurrentUser();if(null==a)return M();v=null!==(t=e.section)&&void 0!==t?t:v;null!=e.subsection&&null!=v&&(y[v]=e.subsection);T=!!e.openWithoutBackstack;p=i.FormStates.OPEN;_={};O=((n={})[i.UserSettingsSections.ACCOUNT]={userId:a.id,username:a.username,discriminator:a.discriminator,email:a.email,avatar:a.avatar,password:"",newPassword:null,claimed:a.isClaimed()},n);h=d({},O);b=null!==(r=e.onClose)&&void 0!==r?r:null;m=null!==(o=e.analyticsLocation)&&void 0!==o?o:null}function M(){p=i.FormStates.CLOSED;S=!1;O=null;h=null;v=null;y={};b=null;m=null}function P(){p=i.FormStates.OPEN;_={}}var A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.initialize=function(){this.waitFor(l.default)};n.hasChanges=function(){return null!=h&&null!=O&&(!(!this.isOpen()&&E!==i.DrawerTabTypes.USER_SETTINGS)&&!o.default.isEqual(h,O))};n.isOpen=function(){return S};n.getSection=function(){return v};n.getSubsection=function(){return null!=v?y[v]:null};n.shouldOpenWithoutBackstack=function(){return T};n.getProps=function(){return{submitting:p===i.FormStates.SUBMITTING,section:v,subsection:null!=y&&null!=v?y[v]:null,settings:h,errors:_,hasChanges:this.hasChanges(),openWithoutBackstack:T,analyticsLocation:m}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"onClose",get:function(){return b}}]);return t}(a.default.Store);A.displayName="UserSettingsModalStore";var C=new A(u.default,((r={})[i.ActionTypes.USER_SETTINGS_MODAL_OPEN]=function(e){S=!0;g(e)},r[i.ActionTypes.USER_SETTINGS_MODAL_INIT]=g,r[i.ActionTypes.USER_SETTINGS_MODAL_CLOSE]=M,r[i.ActionTypes.LOGOUT]=M,r[i.ActionTypes.USER_SETTINGS_MODAL_SUBMIT]=function(){p=i.FormStates.SUBMITTING},r[i.ActionTypes.USER_SETTINGS_MODAL_SUBMIT_FAILURE]=function(e){var t;if(p!==i.FormStates.SUBMITTING)return!1;p=i.FormStates.OPEN;v=i.UserSettingsSections.ACCOUNT;_=null!==(t=e.errors)&&void 0!==t?t:{}},r[i.ActionTypes.USER_SETTINGS_MODAL_SET_SECTION]=function(e){v=e.section;null!=e.subsection&&(y[v]=e.subsection)},r[i.ActionTypes.USER_SETTINGS_MODAL_CLEAR_SUBSECTION]=function(){null!=v&&delete y[v]},r[i.ActionTypes.USER_SETTINGS_MODAL_UPDATE_ACCOUNT]=function(e){var t=e.settings;null==h&&(h={});var n=h[i.UserSettingsSections.ACCOUNT];h[i.UserSettingsSections.ACCOUNT]=d({},n,{},t)},r[i.ActionTypes.USER_SETTINGS_MODAL_SUBMIT_COMPLETE]=P,r[i.ActionTypes.USER_SETTINGS_MODAL_RESET]=function(){var e=l.default.getCurrentUser();P();if(null!=e){var t;O=((t={})[i.UserSettingsSections.ACCOUNT]={userId:e.id,username:e.username,discriminator:e.discriminator,email:e.email,avatar:e.avatar,password:"",newPassword:null,claimed:e.isClaimed()},t);h=d({},O)}},r[i.ActionTypes.DRAWER_SELECT_TAB]=function(e){E=e.tab;return null==v&&E===i.DrawerTabTypes.USER_SETTINGS&&g({type:i.ActionTypes.USER_SETTINGS_MODAL_INIT,section:null,subsection:null,openWithoutBackstack:!1})},r));t.default=C},558402:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Types=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=i(n(294184)),a=n(773336),u=i(n(66636)),l=["children","editable","type","className","outline"];function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d={PRIMARY:"cardPrimary",DANGER:"cardDanger",WARNING:"cardWarning",SUCCESS:"cardSuccess",BRAND:"cardBrand",CUSTOM:"card"};t.Types=d;var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,n=t.children,i=t.editable,s=t.type,f=t.className,p=t.outline,v=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(t,l);p?e="outline":s===d.PRIMARY&&i&&(e="editable");return r.createElement("div",c({className:(0,o.default)(f,(0,a.getClass)(u.default,s,e))},v),n)};return t}(r.PureComponent);p.displayName="Card";p.Types=d;p.defaultProps={type:d.PRIMARY,outline:!1,editable:!1};var v=p;t.default=v},279950:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.Error=E;t.default=t.TextInputSizes=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(294184)),u=n(248088),l=v(n(345034)),i=v(n(314234)),s=n(773336),c=v(n(776360)),f=v(n(641501)),d=["transform"],p=["error","className","inputClassName","inputPrefix","disabled","size","editable","inputRef","prefixElement","focusProps"];function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function O(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=o;else if(u>1){for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}var T={DEFAULT:"default",MINI:"mini"};t.TextInputSizes=T;function E(e){var t=e.error,n=(0,u.useTransition)(t,{config:{tension:250,clamp:!0},from:{marginTop:0,height:0,opacity:0,transform:"translate3d(0, -100%, 0)"},enter:{marginTop:4,height:"auto",opacity:1,transform:"translate3d(0, -0px, 0)"},leave:{marginTop:0,height:0,opacity:0,transform:"translate3d(0, -100%, 0)"}}),r=(0,l.default)(t);return o.createElement(o.Fragment,null,n((function(e,n,o){var a=o.key,l=e.transform,i=S(e,d);return null!=n&&""!==n?O(u.animated.div,{style:h({},i,{overflow:"hidden"})},a,O(u.animated.div,{style:{transform:l}},void 0,O(c.default,{color:c.default.Colors.ERROR,size:c.default.Sizes.SIZE_12},void 0,null!=t&&""!==t?t:r))):null})))}var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){var n,r;null===(n=(r=t.props).onChange)||void 0===n||n.call(r,e.currentTarget.value,t.props.name)};t.onFocus=function(e){var n,r;null===(n=(r=t.props).onFocus)||void 0===n||n.call(r,e,t.props.name)};t.onBlur=function(e){var n,r;null===(n=(r=t.props).onBlur)||void 0===n||n.call(r,e,t.props.name)};return t}t.prototype.render=function(){var e,t=this.props,n=t.error,r=t.className,u=t.inputClassName,l=t.inputPrefix,c=t.disabled,d=t.size,v=t.editable,y=t.inputRef,_=t.prefixElement,T=t.focusProps,b=S(t,p);return O("div",{className:(0,a.default)(f.default.inputWrapper,r)},void 0,null!=_&&_,null!=l?O("span",{className:f.default.inputPrefix},void 0,l):null,o.createElement(i.default,T,o.createElement("input",h({className:(0,a.default)((0,s.getClass)(f.default,"input",d),u,(e={},e[f.default.error]=n,e[f.default.disabled]=c,e[f.default.editable]=v,e)),disabled:c,readOnly:!1===v||void 0},b,{onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,ref:y}))),O(E,{error:n}))};return t}(o.PureComponent);b.displayName="TextInput";b.Sizes=T;b.defaultProps={name:"",size:T.DEFAULT,disabled:!1,type:"text",placeholder:"",autoFocus:!1,maxLength:999};var m=b;t.default=m},510596:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=i(n(667294)),a=i(n(662197)),u=["children","disabled","className","titleClassName","tag","required","style","title","error","titleId"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}function s(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=o;else if(u>1){for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}
if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}var f=function(e){var t=e.children,n=e.disabled,r=void 0!==n&&n,l=e.className,i=e.titleClassName,f=e.tag,d=void 0===f?a.Tags.H5:f,p=e.required,v=void 0!==p&&p,y=e.style,_=e.title,O=e.error,h=e.titleId,S=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,u);return s("div",{className:null!=l?l:void 0,style:null!=y?y:void 0},void 0,null!=_||null!=O?o.createElement(a.default,c({tag:d,disabled:r,required:v,error:O,className:i,id:h},S),_):null,t)};f.displayName="FormItem";f.Tags=a.Tags;var d=f;t.default=d},86997:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.resolveThunk=t.default=void 0;var r,o=(r=n(496486))&&r.__esModule?r:{default:r};var a=function(e){return"function"==typeof e?e():e};t.resolveThunk=a;var u=o.default.curry((function(e,t,n){return a(t)?e(n):n({})}));t.default=u},40856:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o,a=d(n(496486)),u=d(n(728429)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(86997)),i=["promiseFn","resolve","reject","code","mfaCodeHandler","isModalOpen"],s=["hooks"],c=["checkEnabled"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}function v(){v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return v.apply(this,arguments)}var y=function(){throw new Error("updateModal has not been implemented.")},_=n(546331);r=_.showModal;y=_.updateModalProps;o=n(194322).closeModal;function O(){var e,t;return null!==(e=null===(t=u.default.getCurrentUser())||void 0===t?void 0:t.mfaEnabled)&&void 0!==e&&e}function h(e){var t=e.promiseFn,n=e.resolve,a=e.reject,u=e.confirmModalProps,l=e.hooks.onEarlyClose;if(null!=r)var i=r(d,s,u);else l();function s(){null==l||l()}function c(e){o(i);n(e)}function f(e){o(i);a(e)}function d(e){y(i,d,s,v({},u,{isLoading:!0}));return S({promiseFn:t,resolve:c,reject:f,code:e,mfaCodeHandler:p,isModalOpen:!0})}function p(e){var t=e.res;y(i,d,s,v({},u,{error:t.body.message}))}}function S(e){var t=e.promiseFn,n=e.resolve,r=e.reject,o=e.code,a=e.mfaCodeHandler,u=void 0===a?h:a,l=e.isModalOpen,s=void 0!==l&&l,c=p(e,i);return t(null!=o?{code:o}:{}).then(n,(function(e){if(function(e,t){return e.body&&60008===e.body.code||t&&429===e.status}(e,s))return u(v({promiseFn:t,resolve:n,reject:r,res:e},c));r(e)}))}var T=a.default.curry((function(e,t,n){void 0===n&&(n={});var r=n,o=r.checkEnabled,a=void 0===o?O:o;return function(e,t){var n=e.hooks,r=void 0===n?{}:n,o=p(e,s);return(0,l.default)((function(e){return new Promise((function(n,a){((0,l.resolveThunk)(t)?h:S)(v({promiseFn:e,resolve:n,reject:a,hooks:r},o))}))}),!0)}(v({confirmModalProps:e},p(r,c)),a)(t)}),2);t.default=T},546331:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.showModal=function(e,t,n){return(0,u.openModal)(s(e,t,n))};t.updateModalProps=function(e,t,n,r){return(0,u.updateModal)(e,s(t,n,r))};var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=(r=n(410671))&&r.__esModule?r:{default:r},u=n(194322);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return i.apply(this,arguments)}var s=function(e,t,n){return function(r){return o.createElement(a.default,i({handleSubmit:e,handleEarlyClose:t},n,r))}}}}]);