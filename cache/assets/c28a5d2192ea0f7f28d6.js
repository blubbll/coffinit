"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[50690],{890861:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=S;var r,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var a=u?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(r,l,a):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}(n(667294)),l=n(536211),a=n(982437),o=n(799393),i=n(145122),f=M(n(711195)),d=M(n(423046)),s=M(n(30098)),c=M(n(689389)),p=M(n(728429)),v=n(194322),y=n(770348),m=M(n(247001)),b=M(n(35637));function M(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function g(){
g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function h(e,t,n,r,u,l,a){try{var o=e[l](a),i=o.value}catch(e){n(e);return}o.done?t(i):Promise.resolve(i).then(r,u)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var l=e.apply(t,n);function a(e){h(l,r,u,a,o,"next",e)}function o(e){h(l,r,u,a,o,"throw",e)}a(void 0)}))}}function P(e,t,n,u){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=u;else if(a>1){for(var o=new Array(a),i=0;i<a;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var f in l)void 0===t[f]&&(t[f]=l[f]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,r,M,O){
var h=s.default.getGuild(e),S=d.default.getId(),w=(0,l.useStateFromStores)([p.default],(function(){return p.default.getUser(t)}));(0,l.useStateFromStores)([c.default],(function(){return c.default.getGuildVersion(e)}),[e]);var N=u.useMemo((function(){var n;return(n={})[e]=[t],n}),[e,t]);(0,a.useSubscribeGuildMembers)(N);var j=M===y.AppContext.POPOUT;if(null==h||j)return null;var C=S===t&&(c.default.can(y.Permissions.CHANGE_NICKNAME,h)||c.default.can(y.Permissions.MANAGE_NICKNAMES,h)),E=S===t,I=c.default.canManageUser(y.Permissions.MANAGE_NICKNAMES,t,h);if(!(C||I||E))return null;if(null==w)return null;var k=E?m.default.Messages.CHANGE_IDENTITY:m.default.Messages.CHANGE_NICKNAME;return P(i.MenuItem,{id:"change-nickname",label:P("div",{className:b.default.labelWrapper},void 0,P("span",{className:b.default.label},void 0,k)),icon:O,action:function(){if(E){(0,f.default)(w.id,w.getAvatarURL(e,80),{guildId:e});(0,o.openGuildIdentitySettings)(h,r)}else(0,
v.openModalLazy)(_(regeneratorRuntime.mark((function t(){var l,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(63797)]).then(n.bind(n,263797));case 2:l=t.sent;a=l.default;return t.abrupt("return",(function(t){return u.createElement(a,g({},t,{guildId:e,user:w,analyticsSource:r}))}));case 5:case"end":return t.stop()}}),t)}))))}})}S.displayName="useChangeIdentityItem"},239199:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var a=u?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(r,l,a):r[l]=e[l]}r.default=e;n&&n.set(e,r)}(n(667294))
;var r,u=d(n(709403)),l=n(264720),a=n(145122),o=d(n(423046)),i=n(770348),f=d(n(247001));function d(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e,t,n,u){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=u;else if(a>1){for(var o=new Array(a),i=0;i<a;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var f in l)void 0===t[f]&&(t[f]=l[f]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){var n=o.default.getId(),r=t===i.AppContext.POPOUT;return n===e||r?null:c(a.MenuItem,{id:"message-user",label:f.default.Messages.USER_POPOUT_MESSAGE,action:function(){u.default.openPrivateChannel(e);(0,l.popLayer)()}})}p.displayName="useMessageUserItem"},669e3:(e,t,n)=>{
Object.defineProperty(t,"__esModule",{value:!0});t.default=w;P(n(667294));var r,u=n(536211),l=h(n(415275)),a=h(n(136873)),o=n(678928),i=n(145122),f=h(n(423046)),d=h(n(644263)),s=P(n(517286)),c=h(n(30098)),p=h(n(689389)),v=h(n(290629)),y=h(n(728429)),m=h(n(387692)),b=n(319986),M=h(n(656016)),O=n(770348),g=h(n(247001));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var a=u?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(r,l,a):r[l]=e[l]}r.default=e;n&&n.set(e,r);return r}function S(e,t,n,u){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=u;else if(a>1){for(var o=new Array(a),i=0;i<a;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var f in l)void 0===t[f]&&(t[f]=l[f]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){var n=(0,u.useStateFromStores)([s.default],(function(){return s.default.getChannels(t)[s.GUILD_VOCAL_CHANNELS_KEY]}),[t]),r=(0,u.useStateFromStores)([m.default,d.default],(function(){var n=m.default.getUserVoiceChannelId(t,e.id);return d.default.getChannel(n)}),[t,e.id]);if(null==r)return null;var h=e.id===f.default.getId();if(!h&&!p.default.can(O.Permissions.MOVE_MEMBERS,r))return null;var _=n.filter((function(t){var n=t.channel;return n.id!==r.id&&(h?p.default.can(O.Permissions.CONNECT,n)&&!(0,
b.isChannelFull)(n,m.default,c.default):p.default.can(O.Permissions.MOVE_MEMBERS,n)&&(p.default.can(O.Permissions.CONNECT,n)||M.default.can({permission:O.Permissions.CONNECT,user:e,context:n}))&&!(0,b.isChannelFull)(n,m.default,c.default))}));if(0===_.length)return null;return S(i.MenuItem,{id:"voice-move",label:g.default.Messages.MOVE_TO},void 0,_.map((function(n){var r=n.channel;return S(i.MenuItem,{id:r.id,action:function(){return function(n){e.id===f.default.getId()?a.default.selectVoiceChannel(n.id):l.default.setChannel(t,e.id,n.id)}(r)},label:(0,o.computeChannelName)(r,y.default,v.default)},r.id)})))}w.displayName="useMoveUserVoiceItems"},606485:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=M;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var a=u?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(r,l,a):r[l]=e[l]}r.default=e;n&&n.set(e,r)}(n(667294));var r,u=n(235234),l=n(536211),a=v(n(964285)),o=n(145122),i=v(n(876874)),f=v(n(30098)),d=v(n(689389)),s=n(770348),c=v(n(247001)),p=v(n(950677));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n,u){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=u;else if(a>1){for(var o=new Array(a),i=0;i<a;i++)o[i]=arguments[i+3];t.children=o}if(t&&l)for(var f in l)void 0===t[f]&&(t[f]=l[f]);else t||(t=l||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){var t
;return m("div",{className:p.default.roleRow},void 0,m("div",{className:p.default.roleDot,style:{backgroundColor:null!==(t=e.colorString)&&void 0!==t?t:(0,u.int2hex)(s.DEFAULT_ROLE_COLOR)}}),m("div",{},void 0,e.name))}b.displayName="coloredRoleLabel";function M(e,t){var n=(0,l.useStateFromStores)([f.default],(function(){return f.default.getGuild(t)}),[t]),r=(0,l.useStateFromStoresObject)([i.default,d.default],(function(){var r=i.default.getMember(t,e);return{userRoles:null!=r?r.roles:[],isGuildMember:null!=r,canManageRoles:null!=n&&d.default.can(s.Permissions.MANAGE_ROLES,n)}}),[e,t,n]),u=r.userRoles,p=r.isGuildMember,v=r.canManageRoles;if(__OVERLAY__)return null;if(null==u||null==n)return null;if(!p)return null;var y=d.default.getHighestRole(n),M=Object.values(n.roles).filter((function(e){return e.id!==n.id})),O=v?M.map((function(r){var l=r.managed||!d.default.isRoleHigher(n,y,r),i=-1!==u.indexOf(r.id);return l&&!i?null:m(o.MenuCheckboxItem,{id:r.id,label:function(){return b(r)},
disabled:l,action:function(){return function(n){u.includes(n.id)?a.default.updateMemberRoles(t,e,u.filter((function(e){return e!==n.id})),[],[n.id]):a.default.updateMemberRoles(t,e,u.concat([n.id]),[n.id],[])}(r)},checked:i},r.id)})):M.filter((function(e){return-1!==u.indexOf(e.id)})).map((function(e){return e.id===n.id?null:m(o.MenuItem,{id:e.id,label:function(){return b(e)}},e.id)}));return 0===O.length?null:m(o.MenuItem,{id:"roles",label:c.default.Messages.ROLES_LIST.format({numRoles:3})},void 0,O)}M.displayName="useUserRolesItems"}}]);
//# sourceMappingURL=c28a5d2192ea0f7f28d6.js.map