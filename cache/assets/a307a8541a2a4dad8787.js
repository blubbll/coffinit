"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[39048],{372989:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=o(n(730381)),u=o(n(415275));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,u,o,a){try{var i=e[o](a),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,u)}var i={setCommunicationDisabledDuration:function(e,t,n,o){return(i=regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return u.default.setCommunicationDisabledUntil(e,t,null!=n?(0,r.default)().add(n,"s").toISOString():null,n,o);case 2:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var u=i.apply(e,t);function o(e){a(u,n,r,o,l,"next",e)}function l(e){a(u,n,r,o,l,"throw",e)}o(void 0)}))})();var i}};t.default=i},892858:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0})
;t.openDisableCommunication=function(e,t){(0,u.openModalLazy)(l(regeneratorRuntime.mark((function u(){var o,i;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:u.next=2;return Promise.all([n.e(40532),n.e(66857)]).then(n.bind(n,266857));case 2:o=u.sent;i=o.default;return u.abrupt("return",(function(n){return r.createElement(i,a({guildId:e,userId:t},n))}));case 5:case"end":return u.stop()}}),u)}))))};t.openEnableCommunication=function(e,t){(0,u.openModalLazy)(l(regeneratorRuntime.mark((function u(){var o,i;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:u.next=2;return Promise.all([n.e(40532),n.e(41958)]).then(n.bind(n,41958));case 2:o=u.sent;i=o.default;return u.abrupt("return",(function(n){return r.createElement(i,a({guildId:e,userId:t},n))}));case 5:case"end":return u.stop()}}),u)}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t)
;if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=u?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),u=n(194322);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(){a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return a.apply(this,arguments)}function i(e,t,n,r,u,o,a){try{var i=e[o](a),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,u)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var o=e.apply(t,n);function a(e){i(o,r,u,a,l,"next",e)}function l(e){i(o,r,u,a,l,"throw",e)}a(void 0)}))}}},
239048:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r){var O=u.useMemo((function(){var n;return(n={})[t]=[e.id],n}),[t,e.id]);(0,l.useSubscribeGuildMembers)(O);(0,o.useStateFromStores)([v.default],(function(){return v.default.getGuildVersion(t)}),[t]);var R=(0,o.useStateFromStores)([m.default],(function(){return m.default.getGuild(t)}),[t]),P=(0,o.useStateFromStores)([y.default],(function(){var t;return(null===(t=y.default.getCurrentUser())||void 0===t?void 0:t.id)===e.id}),[e.id]),N=(0,o.useStateFromStores)([p.default],(function(){return p.default.getChannel(r)}),[r]),j=(z=(0,f.default)(e.id,t),$=2,function(e){if(Array.isArray(e))return e}(z)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,u,o=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){i=!0;u=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw u}}
return o}}(z,$)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(z,$)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],x=null==N?void 0:N.isGuildStageVoice(),U=(0,o.useStateFromStoresObject)([b.default],(function(){var n,r,u,o=b.default.getVoiceState(t,e.id);return{muted:null!==(n=null==o?void 0:o.mute)&&void 0!==n&&n,deafened:null!==(r=null==o?void 0:o.deaf)&&void 0!==r&&r,suppressed:null!==(u=null==o?void 0:o.suppress)&&void 0!==u&&u,voiceConnected:null!=(null==o?void 0:o.channelId)}})),T=U.muted,G=U.deafened,L=U.suppressed,F=U.voiceConnected,B=(0,
s.default)(t,e.id),W=F&&null!=r?[!x&&v.default.canWithPartialContext(I.Permissions.MUTE_MEMBERS,{channelId:r})?A(d.MenuCheckboxItem,{id:"voice-mute",label:_.default.Messages.SERVER_VOICE_MUTE,checked:T||L,color:C.MenuItemColor.DANGER,action:function(){return i.default.setServerMute(t,e.id,!(T||L))}},"voice-mute"):null,!x&&v.default.canWithPartialContext(I.Permissions.DEAFEN_MEMBERS,{channelId:r})?A(d.MenuCheckboxItem,{id:"voice-deafen",label:_.default.Messages.SERVER_DEAFEN,checked:G,color:C.MenuItemColor.DANGER,action:function(){return i.default.setServerDeaf(t,e.id,!G)}},"voice-deafen"):null,!P&&null!=R&&v.default.canWithPartialContext(I.Permissions.MOVE_MEMBERS,{channelId:r})?A(d.MenuItem,{id:"voice-disconnect",label:P?_.default.Messages.DISCONNECT_SELF:_.default.Messages.DISCONNECT_OTHER,color:C.MenuItemColor.DANGER,action:function(){return i.default.setChannel(t,e.id,null)}},"voice-disconnect"):null]:[],K=function(){var t=D(regeneratorRuntime.mark((function t(n,r,u){var o
;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ctrlKey&&!n.metaKey){t.next=10;break}t.prev=1;t.next=4;return a.default.setCommunicationDisabledDuration(r,u,S.DisableCommunicationDuration.DURATION_60_SEC);case 4:(0,E.showToast)((0,M.createToast)(_.default.Messages.GUILD_COMMUNICATION_DISABLED_SUCCESS.format({user:null!==(o=g.default.getName(r,null,e))&&void 0!==o?o:""}),M.ToastType.SUCCESS));t.next=10;break;case 7:t.prev=7;t.t0=t.catch(1);(0,E.showToast)((0,M.createToast)(_.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR,M.ToastType.FAILURE));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,r){return t.apply(this,arguments)}}(),V=P||null==R?[]:[B?j?A(d.MenuItem,{id:"removetimeout",label:_.default.Messages.ENABLE_GUILD_COMMUNICATION_FOR_USER.format({user:e.username}),color:C.MenuItemColor.DANGER,action:function(){(0,c.openEnableCommunication)(t,e.id)}},"removetimeout"):A(d.MenuItem,{id:"timeout",
label:_.default.Messages.DISABLE_GUILD_COMMUNICATION_FOR_USER.format({user:e.username}),color:C.MenuItemColor.DANGER,action:function(n){if(n.ctrlKey||n.metaKey)return K(n,t,e.id);(0,c.openDisableCommunication)(t,e.id)}},"timeout"):null,v.default.canManageUser(I.Permissions.KICK_MEMBERS,e,R)?A(d.MenuItem,{id:"kick",label:_.default.Messages.KICK_USER.format({user:e.username}),color:C.MenuItemColor.DANGER,action:function(){return(0,h.openModalLazy)(D(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.all([n.e(40532),n.e(39238)]).then(n.bind(n,439238));case 2:o=r.sent;a=o.default;return r.abrupt("return",(function(n){return u.createElement(a,w({},n,{guildId:t,user:e}))}));case 5:case"end":return r.stop()}}),r)}))))}},"kick"):null,v.default.canManageUser(I.Permissions.BAN_MEMBERS,e,R)?A(d.MenuItem,{id:"ban",label:_.default.Messages.BAN_USER.format({user:e.username}),
color:C.MenuItemColor.DANGER,action:function(){return(0,h.openModalLazy)(D(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.all([n.e(40532),n.e(95405)]).then(n.bind(n,295405));case 2:o=r.sent;a=o.default;return r.abrupt("return",(function(n){return u.createElement(a,w({},n,{guildId:t,user:e}))}));case 5:case"end":return r.stop()}}),r)}))))}},"ban"):null];var z,$;return[].concat(W,V)};var r,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=u?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),o=n(536211),a=O(n(372989)),i=O(n(415275)),l=n(982437),c=n(892858),s=O(n(506309)),f=O(n(514756)),d=n(145122),p=O(n(644263)),m=O(n(30098)),v=O(n(689389)),y=O(n(728429)),b=O(n(387692)),h=n(194322),M=n(767019),E=n(143586),g=O(n(29652)),I=n(770348),S=n(397769),C=n(474477),_=O(n(247001));function O(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return w.apply(this,arguments)}function P(e,t,n,r,u,o,a){try{var i=e[o](a),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,u)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var o=e.apply(t,n);function a(e){P(o,r,u,a,i,"next",e)}function i(e){P(o,r,u,a,i,"throw",e)}a(void 0)}))}}
function A(e,t,n,u){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=u;else if(a>1){for(var i=new Array(a),l=0;l<a;l++)i[l]=arguments[l+3];t.children=i}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}}}]);
//# sourceMappingURL=a307a8541a2a4dad8787.js.map