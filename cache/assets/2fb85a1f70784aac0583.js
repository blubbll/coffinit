"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[86955],{839924:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});n.getGuildIdentitySettingsPatch=function(e){var n=e.pendingAvatar,t=e.pendingNickname,r=e.pendingBanner,i=e.pendingBio,a=e.pendingPronouns,o={};void 0!==n&&(o.avatar=n);void 0!==r&&(o.banner=r);null!=i&&(o.bio=i);null!=a&&(o.pronouns=a);void 0!==t&&(o.nick=t);return o};n.setNewPendingGuildIdentityBio=function(e,n){(0,r.setPendingBio)(e===n?void 0:e)};n.setNewPendingGuildIdentityPronouns=function(e,n){(0,r.setPendingPronouns)(e===n?void 0:e)};n.setNewPendingNickname=function(e,n){(0,r.setPendingNickname)(e===n?void 0:e)};var r=t(799393)},862976:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});n.default=E;var r,i=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(n);if(t&&t.has(e))return t.get(e)
;var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;t&&t.set(e,r);return r}(t(667294)),a=t(536211),o=f(t(669879)),u=f(t(871778)),l=t(799393),s=f(t(350957)),d=t(839924);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:n})(e)}function p(e,n,t,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=i;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];n.children=u}if(n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});return{$$typeof:r,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}
function g(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){g(a,r,i,o,u,"next",e)}function u(e){g(a,r,i,o,u,"throw",e)}o(void 0)}))}}function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,a=[],o=!0,u=!1;try{for(t=t.call(e);!(o=(r=t.next()).done);o=!0){a.push(r.value);if(n&&a.length===n)break}}catch(e){u=!0;i=e}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e)
;if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(){var e=(0,a.useStateFromStores)([u.default],(function(){return u.default.theme})),n=(0,a.useStateFromStores)([s.default],(function(){return s.default.getIsDisableSubmit()})),t=(0,a.useStateFromStores)([s.default],(function(){return s.default.getGuild()})),r=m(i.useState(!1),2),f=r[0],c=r[1],g=i.useCallback(v(regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0);n=s.default.getAllPending();r=(0,d.getGuildIdentitySettingsPatch)(n);if(0!==Object.keys(r).length){e.next=5;break}return e.abrupt("return");case 5:e.next=7;return(0,
l.saveGuildIdentityChanges)(null==t?void 0:t.id,r);case 7:(null==(i=e.sent)?void 0:i.ok)&&(0,l.resetAllPending)();c(!1);case 10:case"end":return e.stop()}}),e)}))),[null==t?void 0:t.id]),y=i.useCallback((function(){(0,l.resetAllPending)()}),[]);return p(o.default,{theme:e,submitting:f,onSave:g,onReset:y,disabled:n})}E.displayName="GuildIdentitySettingsNotice"},799017:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});n.default=ee;var r,i=Y(t(667294)),a=W(t(441143)),o=t(235234),u=t(536211),l=W(t(636602)),s=W(t(226800)),d=W(t(898361)),f=W(t(135631)),c=W(t(844784)),p=Y(t(125478)),g=W(t(468532)),v=W(t(845176)),m=W(t(482117)),y=W(t(498163)),E=W(t(561511)),I=W(t(777018)),_=W(t(876874)),P=W(t(871778)),N=W(t(728429)),S=W(t(956117)),b=W(t(380439)),O=W(t(60097)),h=W(t(730977)),M=W(t(41024)),A=W(t(417184)),T=t(194322),C=W(t(776360)),R=W(t(308920)),k=W(t(838583)),w=t(799393),G=W(t(350957)),L=t(839924),U=W(t(862976)),B=W(t(65139)),D=t(770348),j=t(265517),F=W(t(247001)),x=W(t(923247))
;function W(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(H=function(e){return e?t:n})(e)}function Y(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=H(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;t&&t.set(e,r);return r}function z(e,n,t,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=i;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];n.children=u}if(n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});return{$$typeof:r,type:e,
key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function $(){$=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};return $.apply(this,arguments)}function K(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function V(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){K(a,r,i,o,u,"next",e)}function u(e){K(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Z(){R.default.track(D.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:D.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS,location_object:D.AnalyticsObjects.BADGE});(0,w.closeGuildIdentitySettings)();s.default.open(D.UserSettingsSections.PREMIUM)}function X(e){(0,T.openModalLazy)(V(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:
n.next=2;return t.e(83084).then(t.bind(t,858023));case 2:r=n.sent;a=r.default;return n.abrupt("return",(function(n){return i.createElement(a,$({source:$({},e,{page:D.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS})},n))}));case 5:case"end":return n.stop()}}),n)}))))}function q(e){var n=e.onUpsellClick;i.useEffect((function(){R.default.track(D.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:j.PremiumUpsellTypes.PREMIUM_GUILD_MEMBER_PROFILE_UPSELL_INLINE,location:{page:D.AnalyticsPages.GUILD_CHANNEL,section:D.AnalyticsSections.PREMIUM_GUILD_MEMBER_PROFILE}})}),[]);return z("div",{className:x.default.upsellContainer},void 0,z(C.default,{},void 0,F.default.Messages.GUILD_IDENTITY_SETTINGS_UPSELL_NO_LINK),z(O.default,{size:S.default.Sizes.SMALL,onClick:n,color:S.default.Colors.GREEN,className:x.default.upsellButton,innerClassName:x.default.upsellButtonInner},void 0,z(M.default,{className:x.default.premiumIconButton}),F.default.Messages.CHANGE_IDENTITY_UPSELL))}q.displayName="InlineUpsell"
;var J="GUILD_IDENTITY_SETTINGS_PAGE";function Q(){var e,n,t,r,d=(0,u.useStateFromStores)([N.default],(function(){var e=N.default.getCurrentUser();(0,a.default)(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),P=(0,u.useStateFromStoresObject)([G.default],(function(){var e=G.default.getAllPending(),n=e.pendingAvatar,t=e.pendingNickname,r=e.pendingBio,i=e.pendingPronouns;return{pendingAvatar:n,pendingNickname:t,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:i,errors:G.default.getErrors(),guild:G.default.getGuild(),source:G.default.getSource()}})),S=P.pendingAvatar,O=P.pendingNickname,T=P.pendingBanner,R=P.pendingBio,U=P.pendingPronouns,j=P.errors,W=P.guild,H=P.source,Y=(0,u.useStateFromStores)([_.default],(function(){return null==W?null:_.default.getMember(W.id,d.id)}));i.useEffect((function(){return function(){return l.default.wait(w.resetAllPending)}}),[]);i.useEffect((function(){
null!=H&&c.default.trackWithMetadata(D.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",destination_pane:D.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,source:H})}),[H]);var K=void 0===S?d.getAvatarURL(null==W?void 0:W.id,80,!0):S,V=null!==(e=(0,o.hex2int)((0,p.default)(K,D.Colors.PRIMARY_DARK_530,p.ColorFormats.HEX)))&&void 0!==e?e:0,J=k.default.canUsePremiumProfileCustomization(d),Q=void 0===S?null!=(null==Y?void 0:Y.avatar):null!=S,ee=void 0===T?null!=(null==Y?void 0:Y.banner):null!=T,ne=null!==(n=null==Y?void 0:Y.bio)&&void 0!==n?n:"",te=null!==(t=null==Y?void 0:Y.pronouns)&&void 0!==t?t:"",re=f.default.useExperiment({}).showPronouns;return null==W?null:i.createElement(i.Fragment,null,z("div",{className:x.default.notice},void 0,z(A.default,{className:x.default.warningCircleIcon}),z(C.default,{},void 0,F.default.Messages.CHANGE_IDENTITY_USER_PROFILE_HELP.format({onUserProfileClick:function(){(0,w.closeGuildIdentitySettings)()
;s.default.open(D.UserSettingsSections.PROFILE_CUSTOMIZATION)}}))),z(g.default,{title:z("span",{className:x.default.title},void 0,F.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE),description:z(C.default,{className:x.default.guildInfo},void 0,z(b.default,{className:x.default.guildIconInline,guild:W,size:b.default.Sizes.MINI},"guild-icon"),z("span",{},void 0,W.name)),previewTitle:F.default.Messages.CHANGE_IDENTITY_PREVIEW,customizationSections:[z(B.default,{username:d.toString(),pendingNick:O,currentNick:null==Y?void 0:Y.nick,guild:W},"nick"),J?null:z(q,{onUpsellClick:function(){return X({object:D.AnalyticsObjects.BUTTON_CTA})}}),z(y.default,{sectionTitle:i.createElement(i.Fragment,null,F.default.Messages.USER_SETTINGS_AVATAR,z(h.default,{text:F.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return i.createElement(M.default,$({},e,{className:x.default.nitroWheel}))}))),showRemoveAvatarButton:Q,onAvatarChange:w.setPendingAvatar,errors:j.avatar,
guildId:W.id,disabled:!J},"avatar"),z(E.default,{sectionTitle:F.default.Messages.USER_SETTINGS_PROFILE_BANNER,canUsePremiumCustomization:J,showRemoveBannerButton:ee,errors:j.banner,upsellButton:null,onBannerChange:w.setPendingBanner,guildId:null==W?void 0:W.id,disabled:!J},"banner"),re&&z(I.default,{sectionTitle:F.default.Messages.USER_SETTINGS_PRONOUNS,errors:j.pronouns,onPronounsChange:function(e){(0,L.setNewPendingGuildIdentityPronouns)(e,te)},pendingPronouns:U,currentPronouns:te}),z(m.default,{placeholder:F.default.Messages.CHANGE_IDENTITY_BIO_PLACEHOLDER,sectionTitle:i.createElement(i.Fragment,null,F.default.Messages.USER_PROFILE_ABOUT_ME,z(h.default,{text:F.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return i.createElement(M.default,$({},e,{className:x.default.nitroWheel}))}))),onBioChange:function(e){(0,L.setNewPendingGuildIdentityBio)(e,ne);(0,w.setDisableSubmit)(null!=e&&e.length>D.BIO_MAX_LENGTH)},errors:j.bio,pendingBio:R,currentBio:ne,
disabled:!J},"about")],profilePreview:z(v.default,{user:d,guild:W,canUsePremiumCustomization:J,bannerColor:null!==(r=d.accentColor)&&void 0!==r?r:V,onAvatarChange:w.setPendingAvatar,onBannerChange:w.setPendingBanner,onUpsellClick:X,pendingBanner:T,pendingBio:R,pendingPronouns:U,pendingAvatar:S,pendingNickname:O,activityName:F.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE,activityCharacter:"phibi",openPremiumSettings:Z})}))}function ee(){var e=(0,u.useStateFromStores)([P.default],(function(){return P.default.theme}));return z(d.default,{theme:e,section:J,sections:[{section:J,label:null,element:Q,notice:{store:G.default,element:U.default}}],onClose:w.closeGuildIdentitySettings,hideSidebar:!0})}ee.displayName="GuildIdentitySettings"},65139:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});n.default=m;!function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g(n);if(t&&t.has(e))return t.get(e)
;var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;t&&t.set(e,r)}(t(667294));var r,i=t(536211),a=p(t(456701)),o=p(t(689389)),u=p(t(279950)),l=t(688388),s=t(839924),d=t(770348),f=p(t(247001)),c=p(t(514049));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(g=function(e){return e?t:n})(e)}function v(e,n,t,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=i;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];n.children=u}if(n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});return{$$typeof:r,type:e,key:void 0===t?null:""+t,
ref:null,props:n,_owner:null}}function m(e){var n=e.errors,t=e.pendingNick,r=e.currentNick,p=e.username,g=e.guild,m=null!=t?t:r,y=(0,i.useStateFromStores)([o.default],(function(){return o.default.can(d.Permissions.CHANGE_NICKNAME,g)||o.default.can(d.Permissions.MANAGE_NICKNAMES,g)}));return v(a.default,{title:f.default.Messages.NICKNAME,errors:n},void 0,v(u.default,{value:null!=m?m:"",placeholder:p,maxLength:d.USERNAME_MAX_LENGTH,onChange:function(e){(0,s.setNewPendingNickname)(e,r)},disabled:!y}),!y&&v(l.FormText,{className:c.default.nicknameDisabled,type:l.FormText.Types.DESCRIPTION},void 0,f.default.Messages.CHANGE_IDENTITY_NICKNAME_PERMISSIONS_DISABLED))}m.displayName="NicknameSection"}}]);
//# sourceMappingURL=2fb85a1f70784aac0583.js.map