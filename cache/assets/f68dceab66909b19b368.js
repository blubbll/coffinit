(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[83623],{233271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.applyToGuild=function(e,t){return _.apply(this,arguments)};t.cancelGuildBoostSlot=function(e){return O.apply(this,arguments)};t.fetchAppliedBoostsCooldown=function(){return v.apply(this,arguments)};t.fetchAppliedGuildBoostsForGuild=function(e){return f.apply(this,arguments)};t.fetchAppliedGuildBoostsForUser=function(){return p.apply(this,arguments)};t.fetchGuildBoostSlots=m;t.unapplyFromGuild=function(e,t){return g.apply(this,arguments)};t.uncancelGuildBoostSlot=function(e){return E.apply(this,arguments)};var r=s(n(118915)),o=s(n(636602)),a=n(327269),i=s(n(238430)),l=s(n(447478)),u=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,l,"next",e)}function l(e){c(a,r,o,i,l,"throw",e)}i(void 0)}))}}function f(){return(f=d(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:u.Endpoints.APPLIED_GUILD_BOOSTS_FOR_GUILD(t),oldFormErrors:!0});case 2:n=e.sent;a=n.body.map((function(e){return i.default.createFromServer(e)}));o.default.dispatch({type:u.ActionTypes.GUILD_APPLIED_BOOSTS_FETCH_SUCCESS,guildId:t,appliedBoosts:a});return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=d(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:u.Endpoints.USER_APPLIED_GUILD_BOOSTS,oldFormErrors:!0});case 2:t=e.sent;n=t.body.map((function(e){return i.default.createFromServer(e)}))
;o.default.dispatch({type:u.ActionTypes.USER_APPLIED_BOOSTS_FETCH_SUCCESS,appliedGuildBoosts:n});return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return y.apply(this,arguments)}function y(){return(y=d(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.get({url:u.Endpoints.USER_GUILD_BOOST_SLOTS,oldFormErrors:!0});case 2:t=e.sent;n=t.body.map((function(e){return l.default.createFromServer(e)}));o.default.dispatch({type:u.ActionTypes.GUILD_BOOST_SLOTS_FETCH_SUCCESS,guildBoostSlots:n});return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=d(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return r.default.get({url:u.Endpoints.APPLIED_GUILD_BOOST_COOLDOWN,oldFormErrors:!0})
;case 3:t=e.sent;n=t.body.ends_at;o.default.dispatch({type:u.ActionTypes.APPLIED_BOOSTS_COOLDOWN_FETCH_SUCCESS,endsAt:n});return e.abrupt("return",n);case 9:e.prev=9;e.t0=e.catch(0);if(404!==e.t0.status){e.next=16;break}o.default.dispatch({type:u.ActionTypes.APPLIED_BOOSTS_COOLDOWN_FETCH_SUCCESS,endsAt:null});return e.abrupt("return",null);case 16:throw new a.AppliedGuildBoostError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function _(){return(_=d(regeneratorRuntime.mark((function e(t,n){var l,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.default.dispatch({type:u.ActionTypes.GUILD_APPLY_BOOST_START});e.prev=1;e.next=4;return r.default.put({url:u.Endpoints.APPLIED_GUILD_BOOSTS_FOR_GUILD(t),body:{user_premium_guild_subscription_slot_ids:n},oldFormErrors:!0});case 4:l=e.sent;s=Array.isArray(l.body)?l.body.map(i.default.createFromServer):[i.default.createFromServer(l.body)];o.default.dispatch({
type:u.ActionTypes.GUILD_APPLY_BOOST_SUCCESS,appliedGuildBoost:s});m();return e.abrupt("return",s);case 11:e.prev=11;e.t0=e.catch(1);c=new a.AppliedGuildBoostError(e.t0);o.default.dispatch({type:u.ActionTypes.GUILD_APPLY_BOOST_FAIL,error:c});throw c;case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function g(){return(g=d(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.default.dispatch({type:u.ActionTypes.GUILD_UNAPPLY_BOOST_START});e.prev=1;e.next=4;return r.default.delete({url:u.Endpoints.APPLIED_GUILD_BOOST(t,n),oldFormErrors:!0});case 4:m();e.next=12;break;case 7:e.prev=7;e.t0=e.catch(1);i=new a.AppliedGuildBoostError(e.t0);o.default.dispatch({type:u.ActionTypes.GUILD_UNAPPLY_BOOST_FAIL,error:i});throw i;case 12:o.default.dispatch({type:u.ActionTypes.GUILD_UNAPPLY_BOOST_SUCCESS,boostId:n});case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}
function O(){return(O=d(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.post({url:u.Endpoints.USER_GUILD_BOOST_SLOT_CANCEL(t),oldFormErrors:!0});case 2:n=e.sent;a=l.default.createFromServer(n.body);o.default.dispatch({type:u.ActionTypes.GUILD_BOOST_SLOT_UPDATE_SUCCESS,guildBoostSlot:a});return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=d(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return r.default.post({url:u.Endpoints.USER_GUILD_BOOST_SLOT_UNCANCEL(t),oldFormErrors:!0});case 2:n=e.sent;a=l.default.createFromServer(n.body);o.default.dispatch({type:u.ActionTypes.GUILD_BOOST_SLOT_UPDATE_SUCCESS,guildBoostSlot:a});return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},252566:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}o.default=e;n&&n.set(e,o);return o}(n(667294)).createContext(void 0);t.default=o},849209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e)
;var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(205562),i=m(n(956117)),l=m(n(60097)),u=m(n(730977)),s=n(682937),c=n(796274),d=n(770348),f=m(n(247001)),p=["analyticsLocation","analyticsSourceLocation","guild","buttonText","targetBoostedGuildTier","onClose","closeLayer","pauseAnimation","applicationId"];function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return _.apply(this,arguments)}function g(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.analyticsLocation,n=e.analyticsSourceLocation,r=e.guild,m=e.buttonText,y=e.targetBoostedGuildTier,E=e.onClose,h=void 0===E?function(){}:E,S=e.closeLayer,b=void 0===S?function(){}:S,M=e.pauseAnimation,A=void 0!==M&&M,T=e.applicationId,I=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,p),P=(0,
a.useAppContext)()===d.AppContext.POPOUT,C=O(o.useState(!1),2),L=C[0],w=C[1],N=null!=y?Math.max((0,s.getNumberOfAppliedBoostsNeededForTier)(r,y),1):1,D=(0,s.generateBlockGuildSubscriptionPurchasesNode)(),R=function(){var e,o=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0);e.next=3;return(0,c.addAppliedGuildBoosts)({analyticsLocation:t,analyticsSourceLocation:n,guild:r,numberOfBoostsToAdd:N,onClose:h,closeLayer:b,inPopout:P,applicationId:T});case 3:w(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,l,"next",e)}function l(e){g(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}();return null!=D?v(u.default,{text:D,"aria-label":!1},void 0,(function(e){return o.createElement(l.default,_({},e,{disabled:!0,size:i.default.Sizes.SMALL,pauseAnimation:A
}),null!=m?m:f.default.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER)})):o.createElement(l.default,_({},I,{submitting:L,onClick:R,size:i.default.Sizes.SMALL,pauseAnimation:A}),null!=m?m:f.default.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER)};h.displayName="GuildBoostingSubscribeButton";var S=h;t.default=S},796274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addAppliedGuildBoosts=function(e){return A.apply(this,arguments)};var r=E(n(667294)),o=E(n(832635)),a=n(233271),i=n(856259),l=g(n(728429)),u=g(n(890535)),s=g(n(909584)),c=n(194322),d=g(n(308920)),f=n(682937),p=g(n(474029)),m=n(770348),y=n(371621),v=["onClose"],_=["onClose"];function g(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e}
;var n=O(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return h.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}function b(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)}))}}function A(){
return(A=M(regeneratorRuntime.mark((function e(t){var g,O,E,b,A,T,I,P,C,L,w,N,D,R,j,U,k,B,G,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g=t.analyticsLocation,O=t.analyticsSourceLocation,E=t.numberOfBoostsToAdd,b=t.onClose,A=t.closeLayer,T=t.onSubscriptionConfirmation,I=t.guild,P=t.handleSubscribeModalClose,C=t.disablePremiumUpsell,L=t.inPopout,w=t.applicationId;N=L?y.POPOUT_MODAL_CONTEXT:y.DEFAULT_MODAL_CONTEXT;if(null!=(D=l.default.getCurrentUser())){e.next=5;break}return e.abrupt("return");case 5:if(D.verified){e.next=8;break}(0,c.openModalLazy)(M(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(35666),n.e(83879),n.e(39217),n.e(10961),n.e(9440),n.e(13109),n.e(94322),n.e(64029),n.e(86683),n.e(22318),n.e(37405)]).then(n.bind(n,137405));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){var t=e.onClose,n=S(e,v)
;return r.createElement(o,h({},n,{onClose:t}))}));case 5:case"end":return e.stop()}}),e)}))),{contextKey:N});return e.abrupt("return");case 8:R=[];s.default.isLoadedForPremiumSKUs()||R.push((0,i.fetchPremiumSubscriptionPlans)());if(!u.default.hasFetched){R.push(o.fetchSubscriptions());R.push((0,a.fetchGuildBoostSlots)())}if(!(R.length>0)){e.next=14;break}e.next=14;return Promise.allSettled(R);case 14:j=(0,f.getAvailableGuildBoostSlots)(u.default.boostSlots);U=j.length;k=function(e){null==b||b();null==P||P(e)};B=function(){null==b||b();null==A||A();d.default.track(m.AnalyticEvents.MODAL_DISMISSED,{type:m.AnalyticsPages.PREMIUM_GUILD_USER_MODAL,location_section:g.section})};if(!(U>0&&(null==E||U>=E))){e.next=25;break}1===U?G=j.slice(0,1):null!=E&&(G=j.slice(0,E));e.next=22;return(0,c.openModalLazy)(M(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([n.e(40532),n.e(35666),n.e(83879),n.e(39217),n.e(10961),n.e(9440),n.e(59402),n.e(96906),n.e(68968),n.e(6379),n.e(55809),n.e(61801),n.e(13109),n.e(94322),n.e(64029),n.e(86683),n.e(38583),n.e(22318),n.e(50938),n.e(48485),n.e(44461),n.e(44784),n.e(92573),n.e(58579),n.e(9651),n.e(26981),n.e(99431),n.e(95289),n.e(69236)]).then(n.bind(n,195289));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){var t=e.onClose,n=S(e,_);return r.createElement(o,h({},n,{onClose:function(e){t();k(e)},selectedGuild:I,locationSection:m.AnalyticsPages.PREMIUM_GUILD_USER_MODAL,guildBoostSlots:G}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseRequest:function(){null!=x&&(0,c.closeModal)(x);k(!1)},contextKey:N});case 22:x=e.sent;e.next=26;break;case 25:(0,p.default)({analyticsLocation:g,analyticsSourceLocation:O,guildId:I.id,closeLayer:B,totalNumberOfSlotsToAssign:null!=E?E:1,onCloseModal:k,disablePremiumUpsell:C,onSubscriptionConfirmation:T,inPopout:L,applicationId:w})
;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},474029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return O.apply(this,arguments)};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r)}(n(667294));var r,o=m(n(190040)),a=n(832635),i=n(856259),l=m(n(146771)),u=n(194322),s=m(n(308920)),c=n(838583),d=n(770348),f=n(371621),p=m(n(247001));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e,t,n,o){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){_(a,r,o,i,l,"next",e)}function l(e){_(a,r,o,i,l,"throw",e)}i(void 0)}))}}function O(){return(O=g(regeneratorRuntime.mark((function e(t){var r,m,y,_,O,E,h,S,b,M,A,T,I,P,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.analyticsLocation,m=t.analyticsSourceLocation,y=t.guildId,_=t.closeLayer,O=t.onCloseModal,
E=t.totalNumberOfSlotsToAssign,h=void 0===E?1:E,S=t.disablePremiumUpsell,b=t.onSubscriptionConfirmation,M=t.inPopout,A=t.applicationId;T=M?f.POPOUT_MODAL_CONTEXT:f.DEFAULT_MODAL_CONTEXT;if(null==(I=l.default.getPremiumTypeSubscription())||!I.isPurchasedExternally||null==I.paymentGateway){e.next=7;break}null!=_&&_();o.default.show({title:p.default.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:d.PaymentGatewayToFriendlyName[I.paymentGateway]}),body:p.default.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_UPGRADE_TO_PREMIUM_EXTERNAL_ERROR.format({paymentGatewayName:d.PaymentGatewayToFriendlyName[I.paymentGateway],subscriptionManagementLink:(0,c.getExternalSubscriptionMethodUrl)(I.paymentGateway,"SUBSCRIPTION_MANAGEMENT")})});return e.abrupt("return");case 7:Promise.all([(0,a.fetchPaymentSources)(),(0,i.fetchPremiumSubscriptionPlans)()]);P=function(){s.default.track(d.AnalyticEvents.MODAL_DISMISSED,{type:d.AnalyticsSections.PREMIUM_GUILD_PURCHASE_MODAL,location:r})}
;e.next=11;return(0,u.openModalLazy)(g(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(35666),n.e(83879),n.e(39217),n.e(10961),n.e(9440),n.e(59402),n.e(96906),n.e(68968),n.e(6379),n.e(55809),n.e(92224),n.e(61801),n.e(55899),n.e(25485),n.e(13109),n.e(94322),n.e(64029),n.e(86683),n.e(38583),n.e(22318),n.e(50938),n.e(48485),n.e(44461),n.e(44784),n.e(92573),n.e(58579),n.e(9651),n.e(36511),n.e(26981),n.e(73864),n.e(68293),n.e(85190),n.e(99431),n.e(69798),n.e(73981)]).then(n.bind(n,188798));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){var t=e.transitionState,n=e.onClose;return v(o,{transitionState:t,onClose:function(e){n();null==O||O(e)},analyticsLocation:r,analyticsSourceLocation:null!=m?m:r,guildId:y,totalNumberOfSlotsToAssign:h,closeGuildPerksModal:_,disablePremiumUpsell:S,onSubscriptionConfirmation:b,applicationId:A})}));case 5:case"end":
return e.stop()}}),e)}))),{onCloseCallback:P,onCloseRequest:function(){null!=C&&(0,u.closeModal)(C);null==O||O(!1)},contextKey:T});case 11:C=e.sent;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},315396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=p(n(16941)),i=p(n(160629)),l=p(n(730977)),u=n(755970),s=p(n(331907)),c=p(n(247001)),d=p(n(231283)),f=p(n(166363));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return y.apply(this,arguments)}function v(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){var t=e.guild,n=e.message;return(0,u.useNewMemberBadgeExperiment)(t.id,n.author.id).showBadge?v(i.default,{animation:i.default.Animation.TRANSLATE,align:i.default.Align.CENTER,autoInvert:!0,nudgeAlignIntoViewport:!0,position:i.default.Positions.RIGHT,renderPopout:function(e){
var r=e.closePopout;return v(s.default,{guild:t,message:n,onClose:r})}},void 0,(function(e){var t=e.onClick;return v(a.default,{onClick:t,tag:"span"},void 0,v(l.default,{text:c.default.Messages.NEW_MEMBER_BADGE_TOOLTIP_TEXT},void 0,(function(e){return o.createElement("img",y({className:d.default.newMemberBadge,alt:"",src:f.default},e))})))})):null}_.displayName="NewMemberBadge"},331907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r
}(n(667294)),a=O(n(844784)),i=n(844867),l=n(338641),u=O(n(644263)),s=O(n(211136)),c=O(n(956117)),d=O(n(172115)),f=O(n(971639)),p=O(n(776360)),m=O(n(308920)),y=n(755970),v=n(770348),_=O(n(247001)),g=O(n(731808));function O(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function h(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=h("img",{src:O(n(166363)).default,alt:"",width:40,height:40});function b(e){var t=e.guild,n=e.message,r=e.onClose,O=(0,
y.useNewMemberBadgeExperiment)(t.id,n.author.id).showPopoutCTA,E=u.default.getChannel(s.default.getChannelId(t.id));o.useEffect((function(){m.default.track(v.AnalyticEvents.OPEN_POPOUT,{type:"New Member Badge Popout",guild_id:t.id,channel_id:null==E?void 0:E.id})}),[]);if(null==E)return null;return h(i.MessagePopoutContent,{},void 0,h("div",{className:g.default.popoutContainer},void 0,h("div",{className:g.default.mainContent},void 0,h("div",{className:g.default.iconContainer},void 0,S),h("div",{},void 0,h(f.default,{size:f.default.Sizes.SIZE_16,className:g.default.header},void 0,h(d.default,{},void 0,_.default.Messages.NEW_MEMBER_BADGE_TOOLTIP_TEXT)),h(p.default,{},void 0,_.default.Messages.NEW_MEMBER_BADGE_POPOUT_TEXT))),O?h(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.BRAND,className:g.default.ctaButton,innerClassName:g.default.ctaButtonContent,fullWidth:!0,onClick:function(){a.default.trackWithMetadata(v.AnalyticEvents.NEW_MEMBER_MENTION_CTA_CLICKED,{
target_user_id:n.author.id});r();(0,l.mentionUser)(n.author,E.id)}},void 0,_.default.Messages.MENTION," @",n.author.username):null))}b.displayName="NewMemberBadgePopout";var M=b;t.default=M},801256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SelectOptionType=t.ActionComponentState=void 0;var n,r;t.ActionComponentState=n;!function(e){e[e.NORMAL=0]="NORMAL";e[e.LOADING=1]="LOADING";e[e.DISABLED=2]="DISABLED"}(n||(t.ActionComponentState=n={}));t.SelectOptionType=r;!function(e){e[e.STRING=1]="STRING";e[e.USER=2]="USER";e[e.ROLE=3]="ROLE";e[e.CHANNEL=4]="CHANNEL"}(r||(t.SelectOptionType=r={}))},780638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createComponents=function e(t,n,r,a){void 0===r&&(r={});void 0===a&&(a=[]);var i=r.includeEmojiSrc;return t.map((function(t,s){var d,f,p,m,y;if(!function(e){switch(e){case o.ComponentType.ACTION_ROW:case o.ComponentType.BUTTON:case o.ComponentType.STRING_SELECT:case o.ComponentType.INPUT_TEXT:
case o.ComponentType.USER_SELECT:case o.ComponentType.ROLE_SELECT:case o.ComponentType.MENTIONABLE_SELECT:case o.ComponentType.CHANNEL_SELECT:return!0}}(t.type))return null;var v=a.concat(s);switch(t.type){case o.ComponentType.ACTION_ROW:var _=null!=t.components?e(t.components,n,r,v):void 0;return{type:o.ComponentType.ACTION_ROW,indices:v,components:_};case o.ComponentType.BUTTON:var g=null!=t.emoji?c(t.emoji,i):void 0;return{type:o.ComponentType.BUTTON,customId:t.custom_id,style:t.style,disabled:t.disabled,url:t.url,label:t.label,emoji:g,indices:v,applicationId:n};case o.ComponentType.STRING_SELECT:return{type:o.ComponentType.STRING_SELECT,customId:t.custom_id,disabled:t.disabled,options:t.options.map((function(e){return{type:l.SelectOptionType.STRING,label:e.label,value:e.value,default:e.default,description:e.description,emoji:null!=e.emoji?c(e.emoji,i):void 0}})),placeholder:null!==(d=t.placeholder)&&void 0!==d?d:u.default.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,
minValues:t.min_values,maxValues:t.max_values,indices:v,applicationId:n};case o.ComponentType.INPUT_TEXT:return{type:t.type,style:t.style,customId:t.custom_id,label:t.label,value:t.value,placeholder:t.placeholder,disabled:t.disabled,required:t.required,minLength:t.min_length,maxLength:t.max_length,indices:v};case o.ComponentType.USER_SELECT:return{type:o.ComponentType.USER_SELECT,customId:t.custom_id,disabled:t.disabled,placeholder:null!==(f=t.placeholder)&&void 0!==f?f:u.default.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:t.min_values,maxValues:t.max_values,indices:v,applicationId:n};case o.ComponentType.ROLE_SELECT:return{type:o.ComponentType.ROLE_SELECT,customId:t.custom_id,disabled:t.disabled,placeholder:null!==(p=t.placeholder)&&void 0!==p?p:u.default.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:t.min_values,maxValues:t.max_values,indices:v,applicationId:n};case o.ComponentType.MENTIONABLE_SELECT:return{
type:o.ComponentType.MENTIONABLE_SELECT,customId:t.custom_id,disabled:t.disabled,placeholder:null!==(m=t.placeholder)&&void 0!==m?m:u.default.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:t.min_values,maxValues:t.max_values,indices:v,applicationId:n};case o.ComponentType.CHANNEL_SELECT:return{type:o.ComponentType.CHANNEL_SELECT,customId:t.custom_id,disabled:t.disabled,placeholder:null!==(y=t.placeholder)&&void 0!==y?y:u.default.Messages.MESSAGE_SELECT_COMPONENT_DEFAULT_PLACEHOLDER,minValues:t.min_values,maxValues:t.max_values,indices:v,channelTypes:t.channel_types,applicationId:n};default:return null}})).filter((function(e){return null!=e}))};t.getActionRowErrorText=void 0;var r=s(n(496486)),o=n(81069),a=n(190900),i=s(n(692711)),l=n(801256),u=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){return{id:e.id,name:e.name,animated:e.animated,src:t&&null!=e.id?i.default.getEmojiURL({id:e.id,animated:e.animated||!1,size:48}):void 0}}
;t.getActionRowErrorText=function(e,t,n){var i=(null==e?void 0:e.data.interactionType)===o.InteractionTypes.MESSAGE_COMPONENT&&(null==e?void 0:e.state)===a.InteractionState.FAILED?e.data.indices:null;if(null!=i&&r.default.isEqual(i.slice(0,i.length-1),n.indices)){var l;return null!==(l=null==t?void 0:t.interactionError)&&void 0!==l?l:function(e){return 429===(null==e?void 0:e.errorCode)?u.default.Messages.INTERACTION_RATE_LIMITED:u.default.Messages.APPLICATION_COMMAND_FAILED}(e)}}},517073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.type===r.MessageTypes.DEFAULT&&null!=e.messageReference};var r=n(770348)},116518:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){void 0===t&&(t={});return c(t.formatInline?o.default.parseInlineReply:o.default.parse,e,t)};t.renderAutomodMessageMarkup=function(e,t){return d(o.default.parseAutoModerationSystemMessage,e,t)}
;t.renderAutomodMessageMarkupToAST=function(e,t){return d(o.default.parseAutoModerationSystemMessageToAST,e,t)};t.renderMessageMarkupToAST=function(e,t){void 0===t&&(t={});return c(t.formatInline?o.default.parseInlineReplyToAST:o.default.parseToAST,e,l({},t,{toAST:!0}))};n(224179);var r,o=(r=n(268389))&&r.__esModule?r:{default:r},a=n(983510),i=n(770348);function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return l.apply(this,arguments)}var u=new Set([i.EmbedTypes.IMAGE,i.EmbedTypes.GIFV]),s=new Set(["strong","em","u","text","inlineCode","s","spoiler"]);function c(e,t,n){n.toAST;var r=n.renderMediaEmbeds,o=void 0===r||r,i=n.formatInline,l=void 0!==i&&i,s=n.postProcessor,c=!1,d=e(t.content,!0,function(e,t){return{allowLinks:null!=e.webhookId||Boolean(t.allowLinks),channelId:e.channel_id,mentionChannels:e.mentionChannels,isInteracting:!!t.isInteracting,
formatInline:Boolean(t.formatInline),allowHeading:Boolean(t.allowHeading),allowList:Boolean(t.allowList),previewLinkTarget:Boolean(t.previewLinkTarget),disableAutoBlockNewlines:!0}}(t,n),(function(e,n){Array.isArray(e)||(e=[e]);o&&(e=function(e,t){if(1!==e.length||1!==t.length)return e;var n=e[0],r=t[0];if("link"===n.type&&u.has(r.type)&&(0,a.isEmbedInline)(r))return[];return e}(e,t.embeds));l||(e=function(e,t){if(t)return f(e);"paragraph"===e[0].type&&e[0].content instanceof Array&&(e[0].content=f(e[0].content));return e}(e,n));0;c=function(e,t){if(t)return p(e);if("paragraph"===e[0].type&&e[0].content instanceof Array)return p(e[0].content);return!1}(e,n);l&&(e=m(e));null!=s&&(e=s(e,n));return e}));return{hasSpoilerEmbeds:c,content:d}}function d(e,t,n){return e(t,!0,{allowLinks:!1,mentionChannels:[],isInteracting:!1,formatInline:!1,allowHeading:!1,allowList:!1,disableAutoBlockNewlines:!0,highlightWord:n},(function(e){Array.isArray(e)||(e=[e]);return e}))}function f(e){
if(e.some((function(e){return"emoji"!==e.type&&"customEmoji"!==e.type&&("string"!=typeof e.content||""!==e.content.trim())})))return e;var t=0;e.forEach((function(e){"emoji"!==e.type&&"customEmoji"!==e.type||(t+=1);if(t>27)return!1}));if(t>27)return e;e.forEach((function(e){e.jumboable=!0}));return e}function p(e){return e.some((function(e){return"spoiler"===e.type&&Array.isArray(e.content)&&e.content.some((function(e){return"link"===e.type}))}))}function m(e){e.forEach((function(e){s.has(e.type)&&null!=e.content&&(Array.isArray(e.content)?m(e.content):e.content=e.content.replace(/\n/g," "))}));return e}},377980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageAccessoriesId=f;t.getMessageAriaDescribedBy=function(e){if(0===e.reactions.length)return;var t=d(e);return o.MESSAGE_REACTIONS_LABEL_SEGMENT_ID+" "+t};t.getMessageAriaLabelledBy=function(e,t){
var n=e.type===i.MessageTypes.REPLY&&null!=e.messageReference,r=e.embeds.length>0,d=e.attachments.length>0,p=e.stickerItems.length>0,m=e.codedLinks.length>0,y=e.hasFlag(i.MessageFlags.HAS_THREAD),v=r||d||p||m||y||e.type===i.MessageTypes.THREAD_CREATED,_=r&&e.content===e.embeds[0].url&&e.embeds[0].type===i.EmbedTypes.GIFV,g=e.type!==i.MessageTypes.DEFAULT||!_&&""!==e.content,O=(0,a.default)(e),E=!O,h=!O,S=s(e,t),b=u(e),M=n?b:S,A=h?M+" "+o.MESSAGE_NICKNAME_PAUSE_LABEL_SEGMENT_ID:"";if(g){var T=l(e);A+=" "+T}if(v){var I=f(e);A+=" "+I}if(E){var P=c(e);A+=" "+o.MESSAGE_PRE_TIMESTAMP_PAUSE_LABEL_SEGMENT_ID+" "+P}return A.trim()};t.getMessageContentId=l;t.getMessageReactionsId=d;t.getMessageReplyId=u;t.getMessageTimestampId=c;t.getMessageUsernameId=s;var r,o=n(480398),a=(r=n(477072))&&r.__esModule?r:{default:r},i=n(770348);function l(e){return"message-content-"+e.id}function u(e){return"message-reply-context-"+e.id}function s(e,t){return"message-username-"+(null!=t?t:e.id)}function c(e){
return"message-timestamp-"+e.id}function d(e){return"message-reactions-"+e.id}function f(e){return"message-accessories-"+e.id}},258210:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(844784),i=n(447313),l=n(75639),u=h(n(644263)),s=h(n(211136)),c=h(n(956117)),d=h(n(172115)),f=h(n(782732)),p=h(n(971639)),m=h(n(827436)),y=h(n(776360)),v=h(n(308920)),_=n(844867),g=n(770348),O=h(n(247001)),E=h(n(996038));function h(e){return e&&e.__esModule?e:{default:e}}function S(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function b(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return M.apply(this,arguments)}var A=function(e){var t=e.roleIcon,n=e.guild,r=t.name;o.useEffect((function(){v.default.track(g.AnalyticEvents.OPEN_POPOUT,M({type:"Role Icon Popout",guild_id:n.id},(0,
a.collectChannelAnalyticsMetadata)(u.default.getChannel(s.default.getChannelId(n.id)))))}),[]);var h=M({},t,{src:null==t.src?t.src:(0,i.replaceRoleIconSourceSize)(t.src,40),size:40});return b(_.MessagePopoutContent,{},void 0,b("div",{className:E.default.popoutContainer},void 0,b("div",{className:E.default.mainContent},void 0,b("div",{className:E.default.roleIconContainer},void 0,o.createElement(m.default,M({},h,{enableTooltip:!1,className:E.default.roleIcon,enableHeight:!1}))),b("div",{className:E.default.truncatingText},void 0,b(p.default,{size:p.default.Sizes.SIZE_16,className:E.default.roleName},void 0,b(d.default,{},void 0,r)),b(y.default,{},void 0,O.default.Messages.ROLE_ICON_POPOUT_DESCRIPTION.format({name:r})))),b(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,className:E.default.ctaButton,innerClassName:E.default.ctaButtonContent,fullWidth:!0,onClick:function(){(0,l.openGuildBoostingMarketingModal)({guildId:n.id,location:{
section:g.AnalyticsSections.ROLE_ICON_POPOUT}})}},void 0,b(f.default,{width:14,height:14,className:E.default.boosterBadge}),O.default.Messages.ROLE_ICON_POPOUT_CTA)))};A.displayName="RoleIconPopout";var T=A;t.default=T},278258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(null!=e.match(i))return a.LATIN24;if(e.length<=5)return a.LATIN12;return a.ASIAN};var r,o=(r=n(927570))&&r.__esModule?r:{default:r};var a={LATIN12:o.default.latin12CompactTimeStamp,LATIN24:o.default.latin24CompactTimeStamp,ASIAN:o.default.asianCompactTimeStamp},i=/(AM|PM)$/},507187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=t.renderMediaEmbeds,l=t.formatInline,u=void 0!==l&&l,s=t.isInteracting,c=void 0!==s&&s,d=t.allowHeading,f=void 0!==d&&d,p=t.allowList,m=void 0!==p&&p,y=t.allowLinks,v=void 0!==y&&y,_=t.previewLinkTarget,g=void 0!==_&&_;return r.useMemo((function(){
return null!=e.customRenderedContent?e.customRenderedContent:e.isCommandType()&&0===e.content.length||e.hasFlag(i.MessageFlags.LOADING)?(0,a.default)(e):(0,o.default)(e,{renderMediaEmbeds:n,formatInline:u,isInteracting:c,allowHeading:f,allowList:m,allowLinks:v,previewLinkTarget:g})}),[e.content,e.customRenderedContent,e.embeds,e.interaction,e.state,e.type,n,u,c,f,m,v,g])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=l(n(116518)),a=l(n(716373)),i=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},716373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return{content:l(a.default,{message:e}),hasSpoilerEmbeds:!1}};!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e;n&&n.set(e,r)}(n(667294));var r,o,a=(r=n(774306))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},732978:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PUBLIC_SUCCESS_MODAL_SEEN_KEY=t.PUBLIC_GUILD_UPDATES_WEBHOOK_USER_ID=t.PUBLIC_GUILD_ANNOUNCEMENTS_GUILD_ID=t.MODERATOR_PERMISSIONS_FLAG=t.MODERATOR_PERMISSIONS=t.EnableCommunityModalSteps=t.ENABLE_COMMUNITY_FLOW_MODAL_KEY=t.CREATE_NEW_CHANNEL_VALUE=t.COMMUNITY_UPSELL_MINIMUM_GUILD_SIZE=void 0;var r,o=(r=n(267258))&&r.__esModule?r:{default:r},a=n(770348);t.PUBLIC_SUCCESS_MODAL_SEEN_KEY="publicSuccessModalSeen";t.PUBLIC_GUILD_ANNOUNCEMENTS_GUILD_ID="667560445975986187";t.PUBLIC_GUILD_UPDATES_WEBHOOK_USER_ID="669627189624307712";t.CREATE_NEW_CHANNEL_VALUE="1"
;var i=[a.Permissions.ADMINISTRATOR,a.Permissions.MANAGE_GUILD,a.Permissions.MANAGE_CHANNELS,a.Permissions.MANAGE_ROLES,a.Permissions.KICK_MEMBERS,a.Permissions.BAN_MEMBERS,a.Permissions.MANAGE_MESSAGES,a.Permissions.MENTION_EVERYONE];t.MODERATOR_PERMISSIONS=i;var l=o.default.combine.apply(o.default,i);t.MODERATOR_PERMISSIONS_FLAG=l;t.COMMUNITY_UPSELL_MINIMUM_GUILD_SIZE=1e3;var u;t.ENABLE_COMMUNITY_FLOW_MODAL_KEY="Enable Community Modal";t.EnableCommunityModalSteps=u;!function(e){e.SAFETY_CHECK="safety_check";e.BASICS="basics";e.FINISH="finish"}(u||(t.EnableCommunityModalSteps=u={}))},402821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPublicSystemMessageAvatar=function(){return u.default};t.isPublicSystemMessage=function(e){return(0,o.default)(e)&&e.messageReference.guild_id===i.PUBLIC_GUILD_ANNOUNCEMENTS_GUILD_ID||null!=e.author&&e.author.id===i.PUBLIC_GUILD_UPDATES_WEBHOOK_USER_ID};t.trackEnableCommunityFlow=void 0
;var r=n(844784),o=s(n(517073)),a=s(n(308920)),i=n(732978),l=n(770348),u=s(n(103468));function s(e){return e&&e.__esModule?e:{default:e}}function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return c.apply(this,arguments)}t.trackEnableCommunityFlow=function(e){a.default.track(l.AnalyticEvents.USER_FLOW_TRANSITION,c({flow_type:i.ENABLE_COMMUNITY_FLOW_MODAL_KEY,from_step:e.fromStep,to_step:e.toStep},(0,r.collectGuildAnalyticsMetadata)(e.guildId)))}},238430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r;function o(e,t){o=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return o(e,t)}var a=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;o(e,t)}(t,e);t.createFromServer=function(e){return new t({id:e.id,guildId:e.guild_id,userId:null!=e.user?e.user.id:e.user_id,
user:e.user,ended:e.ended,endsAt:null!=e.ends_at&&""!==e.ends_at?new Date(e.ends_at):null})};function t(t){var n;(n=e.call(this)||this).id=t.id;n.guildId=t.guildId;n.userId=t.userId;n.user=t.user;n.ended=t.ended;n.endsAt=null!=t.endsAt?t.endsAt:null;return n}return t}(((r=n(821896))&&r.__esModule?r:{default:r}).default);t.default=a},960082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=l;t.useFocusBlock=i;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e;n&&n.set(e,r);return r}(n(667294)),o=n(354479);function a(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(e,t){var n="data-focus-blocked-"+(0,o.useUID)();r.useLayoutEffect((function(){if(t){var r=e.current;if(null!=r){for(var o=function(e){return document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return e.tabIndex>=0&&!e.disabled?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}})}(r),a=o.currentNode;null!==a;){var i=a,l=i.tabIndex;i.tabIndex=-1;i.setAttribute(n,String(l));a=o.nextNode()}return function(){r.querySelectorAll("["+n+"]").forEach((function(e){var t=e.getAttribute(n);if(null!=t){var r=parseInt(t,10);e.tabIndex=r}}))}}}}),[t])}function l(e){var t=e.children,n=e.enabled,o=void 0===n||n,a=r.useRef(null);i(a,o);return r.createElement("div",{ref:a},t)}l.displayName="FocusBlock"},602358:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,o,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},l=["width","height","color","foreground"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,u=e.color,d=void 0===u?"currentColor":u,f=e.foreground,p=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,l);return a.createElement("svg",s({},(0,i.default)(p),{width:n,height:o,viewBox:"0 0 24 24"}),c("path",{fillRule:"evenodd",clipRule:"evenodd",className:f,d:"M6 2C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V6C22 3.79086 20.2091 2 18 2H6ZM10 8C10 6.8952 9.1032 6 8 6C6.8944 6 6 6.8952 6 8C6 9.1056 6.8944 10 8 10C9.1032 10 10 9.1056 10 8ZM9 14L6 18H18L15 11L11 16L9 14Z",fill:d}))}d.displayName="ImagePlaceholder"},
346200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var r,o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),i=(r=n(468205))&&r.__esModule?r:{default:r},l=["color","height","width"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return s.apply(this,arguments)}function c(e,t,n,r){
o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.color,n=void 0===t?"#ED4245":t,r=e.height,o=void 0===r?24:r,u=e.width,d=void 0===u?24:u,f=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,l);return a.createElement("svg",s({},(0,i.default)(f),{width:d,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),c("path",{d:"M12.83 14.24L9.29006 10.71C9.19737 10.6165 9.124 10.5057 9.07424 10.3839C9.02447 10.2621 8.99926 10.1316 9.00002 10V4H11V9.58997L14.24 12.83L12.83 14.24Z",fill:n}),c("path",{
d:"M13.3101 2L18 6.69V13.3101L13.3101 18H6.68994L2 13.3101V6.69L6.68994 2H13.3101V2ZM13.73 0H6.27002C6.00525 0.00368349 5.75169 0.107244 5.56006 0.289978L0.290039 5.56C0.107305 5.75163 0.00368349 6.00525 0 6.27002V13.73C0.00368349 13.9947 0.107305 14.2483 0.290039 14.4399L5.56006 19.71C5.75169 19.8927 6.00525 19.9963 6.27002 20H13.73C13.9947 19.9963 14.2483 19.8927 14.4399 19.71L19.71 14.4399C19.8927 14.2483 19.9963 13.9947 20 13.73V6.27002C19.9963 6.00525 19.8927 5.75163 19.71 5.56L14.4399 0.289978C14.2483 0.107244 13.9947 0.00368349 13.73 0V0Z",fill:n}))}d.displayName="RedClockIcon"},774306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.InteractionStatusMessage=b;t.default=void 0;t.getFailedContent=S;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=g(n(294184)),i=n(143544),l=n(536211),u=n(236411),s=n(780638),c=g(n(814142)),d=n(632341),f=g(n(417184)),p=g(n(810919)),m=g(n(776360)),y=n(770348),v=g(n(247001)),_=g(n(983803));function g(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function E(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function h(e){return{text:e,icon:E(p.default,{className:_.default.icon,dotRadius:3.5,themed:!0})}}function S(e){return{text:null!=e?e:v.default.Messages.APPLICATION_COMMAND_FAILED,color:m.default.Colors.ERROR,icon:E(f.default,{width:16,height:16,className:(0,a.default)(_.default.icon,_.default.errorIcon)})}}function b(e){var t=e.className,n=e.icon,r=e.text,o=e.color;return E("div",{className:(0,a.default)(_.default.wrapper,t)},void 0,n,E(m.default,{size:m.default.Sizes.SIZE_14,color:o},void 0,r))}b.displayName="InteractionStatusMessage";function M(e){var t=e.message,n=e.className,r=e.component,a=(0,i.useForceUpdate)(),f=(0,l.useStateFromStores)([c.default],(function(){return c.default.getInteraction(t)}),[t]);o.useEffect((function(){var e=null;if(t.hasFlag(y.MessageFlags.LOADING)&&null!=f){var n=(0,d.getInteractionTimeoutTimestamp)(t.id)-(0,u.now)();n>0&&(e=setTimeout((function(){return a()}),1e3+n))}return function(){clearTimeout(e)}}),[a,f,t]);var p=null
;if(null==r)p=function(e,t){switch((0,d.getInteractionStatusViewState)(t,e)){case d.InteractionStatusViewState.SENDING:return h(v.default.Messages.APPLICATION_COMMAND_SENDING);case d.InteractionStatusViewState.CREATED:return h(v.default.Messages.APPLICATION_COMMAND_WAITING.format({applicationName:t.author.username}));case d.InteractionStatusViewState.TIMED_OUT:return S(v.default.Messages.APPLICATION_COMMAND_TIMED_OUT);case d.InteractionStatusViewState.FAILED:return S(t.interactionError)}}(f,t);else{var m=(0,s.getActionRowErrorText)(f,t,r);null!=m&&(p=S(m))}if(null==p)return null;var _=p,g=_.text;return E(b,{icon:_.icon,text:g,className:n,color:_.color})}M.displayName="InteractionStatus";var A=o.memo(M);t.default=A},383942:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e)
;var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=c(n(294184)),i=c(n(314234)),l=c(n(960082)),u=c(n(927570)),s=["className","compact","zalgo","disableInteraction","childrenRepliedMessage","childrenExecutedCommand","childrenHeader","childrenSystemMessage","childrenButtons","childrenMessageContent","childrenAccessories","messageRef","focusProps","hasThread","isSystemMessage","hasReply"];function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return f.apply(this,arguments)}function p(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n=e.className,r=e.compact,c=void 0!==r&&r,d=e.zalgo,m=void 0===d||d,y=e.disableInteraction,v=void 0!==y&&y,_=e.childrenRepliedMessage,g=e.childrenExecutedCommand,O=e.childrenHeader,E=e.childrenSystemMessage,h=e.childrenButtons,S=e.childrenMessageContent,b=e.childrenAccessories,M=e.messageRef,A=e.focusProps,T=void 0===A?{offset:{left:4,right:4}}:A,I=e.hasThread,P=e.isSystemMessage,C=e.hasReply,L=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,s),w=o.createElement(i.default,T,o.createElement("div",f({className:(0,a.default)(n,(t={},t[u.default.wrapper]=!0,t[u.default.compact]=c,t[u.default.cozy]=!c,t[u.default.zalgo]=m,t[u.default.hasThread]=I,t[u.default.isSystemMessage]=P,t[u.default.hasReply]=C,t)),ref:M},L,{role:"article"}),_,g,p("div",{className:u.default.contents},void 0,E,O,null==E&&S),b,null!=h?p("div",{className:u.default.buttonContainer},void 0,h):null));return v?p(l.default,{},void 0,w):w};t.default=m},152668:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getContent=_;t.memoizeMessageProps=O;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){
var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=m(n(294184)),i=m(n(506907)),l=m(n(389726)),u=n(377980),s=m(n(822703)),c=n(770348),d=m(n(247001)),f=m(n(169595)),p=m(n(927570));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){
return e.hasFlag(c.MessageFlags.SOURCE_MESSAGE_DELETED)?d.default.Messages.SOURCE_MESSAGE_DELETED:t}function g(e){var t,n,r=e.className,l=e.message,m=e.children,y=e.content,g=e.onUpdate,O=e.contentRef,E=l.isEdited(),h=l.state===c.MessageStates.SEND_FAILED,S=l.state===c.MessageStates.SENDING,b=l.isCommandType(),M=null===(t=l.editedTimestamp)||void 0===t?void 0:t.toString(),A=o.useRef(!1);o.useLayoutEffect((function(){A.current?null!=g&&g():A.current=!0}),[g,l.content,y,M,m]);return o.createElement("div",{id:(0,u.getMessageContentId)(l),ref:O,className:(0,a.default)(r,f.default.markup,(n={},n[p.default.messageContent]=!0,n[p.default.isSending]=S&&!b,n[p.default.markupRtl]="rtl"===(0,i.default)(l.content),n[p.default.isFailed]=h,n))},null!=m?m:_(l,y),E&&null!=l.editedTimestamp&&o.createElement(o.Fragment,null," ",v(s.default,{timestamp:l.editedTimestamp,isEdited:!0,isInline:!1},void 0,v("span",{className:p.default.edited},void 0,"(",d.default.Messages.MESSAGE_EDITED,")"))))}
g.displayName="MessageContent";function O(e,t){var n,r,o=t.message,a=e.message;return(0,l.default)(e,t,["message"])&&o.content===a.content&&o.state===a.state&&(null===(n=o.editedTimestamp)||void 0===n?void 0:n.toString())===(null===(r=a.editedTimestamp)||void 0===r?void 0:r.toString())}var E=o.memo(g,O);t.default=E},293578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseMessageHeader=F;t.default=W;var r,o=j(n(667294)),a=D(n(294184)),i=n(536211),l=n(836233),u=D(n(843314)),s=D(n(473517)),c=n(905043),d=D(n(514756)),f=D(n(315396)),p=n(377980),m=D(n(258210)),y=n(86031),v=D(n(711195)),_=D(n(174508)),g=D(n(644263)),O=D(n(30098)),E=D(n(689389)),h=D(n(728429)),S=D(n(160629)),b=D(n(730977)),M=D(n(346200)),A=D(n(827436)),T=j(n(692711)),I=n(956506),P=D(n(822703)),C=D(n(466993)),L=n(770348),w=D(n(247001)),N=D(n(927570));function D(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(R=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){a.push(r.value);if(t&&a.length===t)break}
}catch(e){l=!0;o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e){var t,r,o=e.message,i=e.messageAuthor,l=e.compact,u=e.animate,d=e.guildId,f=e.onClick,p=e.onContextMenu,m=e.onMouseDown,y=e.onKeyDown,v=e.showCommunicationDisabledStyles,_=void 0!==v&&v,O=i.guildMemberAvatar,E=o.author,S=l?32:80;if(o.isCommandType()&&null==E.avatar&&null!=o.application){var b,M=o.application.id,A=g.default.getChannel(o.getChannelId()),I=(0,c.getCommandSection)({sectionId:M,applicationCommandGuildSectionStore:s.default,userStore:h.default,channel:A});r=null!=(null===(b=o.application)||void 0===b?void 0:b.icon)||null!=(null==I?void 0:I.bot)?T.default.getApplicationIconURL({id:M,icon:o.application.icon,bot:null==I?void 0:I.bot,botIconFirst:!0,size:S}):n(100293)}else r=null!=O&&null!=d?(0,T.getGuildMemberAvatarURLSimple)({guildId:d,userId:E.id,avatar:O,canAnimate:u,size:S}):E.getAvatarURL(void 0,S,u)
;return G("img",{src:r,onClick:f,onContextMenu:p,onMouseDown:m,onKeyDown:y,"aria-hidden":!0,className:(0,a.default)((t={},t[N.default.avatar]=!0,t[N.default.compact]=l,t[N.default.clickable]=null!=f,t[N.default.communicationDisabledOpacity]=_,t)),alt:" "})}x.displayName="renderAvatar";function F(e){var t=e.message,n=e.avatar,r=e.username,i=e.usernameSpanId,l=e.usernameClassName,u=e.compact,s=e.showTimestamp,c=e.showTimestampOnHover,d=e.ariaLabelledBy,f=e.ariaDescribedBy,m=e.className;return o.createElement(o.Fragment,null,!u&&n,G("h2",{className:(0,a.default)(N.default.header,m),"aria-describedby":f,"aria-labelledby":d},void 0,s&&u&&G(P.default,{id:(0,p.getMessageTimestampId)(t),compact:!0,timestamp:t.timestamp,isVisibleOnlyOnHover:c,isInline:!1}),u&&n,G("span",{id:i,className:l},void 0,r),s&&!u&&G(P.default,{id:(0,p.getMessageTimestampId)(t),timestamp:t.timestamp})))}function W(e){
var t,n=e.message,r=e.repliedMessage,s=e.compact,c=void 0!==s&&s,g=e.renderPopout,h=e.showTimestampOnHover,P=e.roleIcon,D=e.subscribeToGroupId,R=e.hideTimestamp,j=e.className,B=o.useMemo((function(){return null!=g?function(e){return g(e,n)}:void 0}),[g,n]),W=k((0,d.default)(n.author.id,e.guildId),2)[1],H=(0,i.useStateFromStores)([O.default],(function(){return O.default.getGuild(e.guildId)}),[e.guildId]),V=null!=n.author&&null!=H&&E.default.canManageUser(L.Permissions.MODERATE_MEMBERS,n.author,H),z=W&&V,$=function(e,t,n,r){var a,u=e.message,s=e.author,c=e.compact,d=void 0!==c&&c,f=e.subscribeToGroupId,p=e.animate,m=void 0===p||p,y=e.onContextMenu,g=e.onClickAvatar,O=e.onPopoutRequestClose,E=e.showAvatarPopout;void 0===r&&(r=!1);var h=k(o.useState(!1),2),b=h[0],M=h[1],A=o.useContext(l.AccessibilityPreferencesContext).reducedMotion,P=null!==(a=s.guildMemberAvatar)&&void 0!==a?a:u.author.avatar,C=(0,T.isAnimatedIconHash)(P),w=!A.enabled&&(null!=f?b:m),N=(0,
i.useStateFromStores)([_.default],(function(){return _.default.displayCompactAvatars})),D=null!=u.messageReference&&null!=u.webhookId,R=u.author.id;o.useEffect((function(){if(C&&null!=f){I.ComponentDispatch.subscribeKeyed(L.ComponentActionsKeyed.ANIMATE_CHAT_AVATAR,f+":"+R,M);return function(){I.ComponentDispatch.unsubscribeKeyed(L.ComponentActionsKeyed.ANIMATE_CHAT_AVATAR,f+":"+R,M)}}}),[R,C,f]);if(!d||N)return null!=n&&null!=E?G(S.default,{preload:D?void 0:function(){return(0,v.default)(u.author.id,null!=s.guildMemberAvatar&&null!=t?(0,T.getGuildMemberAvatarURLSimple)({guildId:t,userId:u.author.id,avatar:s.guildMemberAvatar,size:80}):u.author.getAvatarURL(void 0,80,!1),{guildId:t})},renderPopout:n,shouldShow:E,position:S.default.Positions.RIGHT,onRequestClose:O},void 0,(function(e){return x({message:u,messageAuthor:s,compact:d,animate:w,guildId:t,onClick:g,onContextMenu:y,onMouseDown:e.onMouseDown,onKeyDown:e.onKeyDown,showCommunicationDisabledStyles:r})})):x({message:u,
messageAuthor:s,compact:d,animate:w,guildId:t,onClick:g,onContextMenu:y,onMouseDown:void 0,onKeyDown:void 0,showCommunicationDisabledStyles:r})}(e,e.guildId,B,z),K=(0,i.useStateFromStores)([_.default],(function(){return _.default.displayCompactAvatars})),Y=G(m.default,{roleIcon:P,guild:H}),q=c&&!K||null==P||null==H?c&&!K||null==P?null:o.createElement(A.default,U({},P,{className:N.default.roleIcon})):G(S.default,{animation:S.default.Animation.TRANSLATE,align:S.default.Align.CENTER,autoInvert:!0,nudgeAlignIntoViewport:!0,position:S.default.Positions.RIGHT,renderPopout:function(){return Y}},void 0,(function(e){var t=e.onClick;return o.createElement(A.default,U({},P,{className:N.default.roleIcon,onClick:t}))})),Z=o.createElement(o.Fragment,null,q,null!=H?G(f.default,{guild:H,message:n}):null),X=function(e,t,n){var r=e.message,a=e.channel,i=e.author,l=e.compact,u=void 0!==l&&l,s=e.onContextMenu,c=e.showUsernamePopout,d=e.onClickUsername,f=e.onPopoutRequestClose
;return o.createElement(o.Fragment,null,G(C.default,{message:r,channel:a,author:i,compact:u,showPopout:c,renderPopout:t,onClick:d,onContextMenu:s,onPopoutRequestClose:f,roleIconChildren:n}),u&&o.createElement(o.Fragment,null,G("i",{className:N.default.separator},void 0,":")," "))}(e,B,Z),J=(0,p.getMessageUsernameId)(n,D)+" "+(0,p.getMessageTimestampId)(n),Q=(null==r?void 0:r.state)===y.ReferencedMessageState.LOADED?(0,p.getMessageReplyId)(n):void 0,ee=!0!==R;return G(F,{message:n,avatar:$,username:o.createElement(o.Fragment,null,z&&G(b.default,{text:w.default.Messages.GUILD_COMMUNICATION_DISABLED_ICON_TOOLTIP_BODY},void 0,(function(e){return o.createElement(o.Fragment,null,o.createElement(M.default,U({},e,{width:12,height:12,className:c?N.default.compactCommunicationDisabled:N.default.communicationDisabled})),G(u.default,{},void 0,w.default.Messages.GUILD_COMMUNICATION_DISABLED_BOTTOM_SHEET_TITLE))})),X),usernameSpanId:(0,p.getMessageUsernameId)(n,D),usernameClassName:(0,
a.default)(N.default.headerText,(t={},t[N.default.hasRoleIcon]=null!=q,t)),compact:c,showTimestamp:ee,showTimestampOnHover:h,ariaLabelledBy:J,ariaDescribedBy:Q,className:j})}W.displayName="MessageHeader"},822703:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=d(n(294184)),i=d(n(278258)),l=d(n(730977)),u=n(35033),s=d(n(247001)),c=d(n(927570));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(f=function(e){return e?n:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return p.apply(this,arguments)}function m(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t,n=e.children,r=e.className,d=e.compact,f=void 0!==d&&d,y=e.timestamp,v=e.isVisibleOnlyOnHover,_=void 0!==v&&v,g=e.cozyAlt,O=void 0!==g&&g,E=e.isInline,h=void 0===E||E,S=e.id,b=e.isEdited,M=void 0!==b&&b,A=(0,u.accessibilityLabelCalendarFormat)(y),T=f?(0,u.dateFormat)(y,"LT"):(0,
u.calendarFormat)(y),I=f?(0,i.default)(T):null,P=M?s.default.Messages.MESSAGE_EDITED_TIMESTAMP_A11Y_LABEL.format({timeFormatted:A}):A;return m("span",{className:(0,a.default)(r,I,(t={},t[c.default.timestamp]=!0,t[c.default.timestampVisibleOnHover]=_,t[c.default.timestampInline]=h,t[c.default.alt]=O,t))},void 0,m(l.default,{text:(0,u.dateFormat)(y,"LLLL"),"aria-label":P,tooltipClassName:c.default.timestampTooltip,delay:750},void 0,(function(e){return o.createElement("time",p({},e,{id:S,dateTime:y.toISOString()}),null!=n?n:o.createElement(o.Fragment,null,m("i",{className:c.default.separator,"aria-hidden":!0},void 0,f?"[":" — "),T,f&&m("i",{className:c.default.separator,"aria-hidden":!0},void 0,"]"," ")))})))}y.displayName="MessageTimestamp";var v=y;t.default=v},466993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){
var t,n=e.author,r=e.message,l=e.channel,u=e.userOverride,c=e.compact,v=void 0!==c&&c,_=e.withMentionPrefix,h=void 0!==_&&_,S=e.showPopout,b=void 0!==S&&S,M=e.className,A=e.hideTag,T=e.onClick,I=e.onContextMenu,P=e.onPopoutRequestClose,C=e.renderPopout,L=e.roleIconChildren,w=o.useContext(i.default),N=h?"@":"",D=n.nick,R=n.colorString,j=null!=r.messageReference&&null!=r.webhookId,U={className:m.default.username,style:null!=R?{color:R}:void 0,onClick:T,onContextMenu:I,children:N+D};t=null!=C&&null!=b?O(f.default,{preload:j?void 0:function(){var e=null!=u?u:r.author;return(0,s.default)(e.id,null!=n.guildMemberAvatar&&null!=w?(0,p.getGuildMemberAvatarURLSimple)({guildId:w,userId:e.id,avatar:n.guildMemberAvatar,size:80}):e.getAvatarURL(w,80),{guildId:w})},renderPopout:C,shouldShow:b,position:f.default.Positions.RIGHT,onRequestClose:P},void 0,(function(e){e.onClick;var t=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++){n=a[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,y);return o.createElement(d.default,g({tag:"span"},t,U,{className:(0,a.default)(U.className,m.default.clickable,M)}))})):o.createElement(d.default,g({},U,{className:(0,a.default)(U.className,M)}));return o.createElement(o.Fragment,null,!A&&v?o.createElement(o.Fragment,null," ",E(r,l,v,u)," "):null,t,L,A||v?null:E(r,l,v,u))};var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=v(n(294184)),i=v(n(252566)),l=v(n(517073)),u=n(402821),s=v(n(711195)),c=v(n(870461)),d=v(n(16941)),f=v(n(160629)),p=n(692711),m=v(n(927570)),y=["onClick"]
;function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(){g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return g.apply(this,arguments)}function O(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t,n,r){var o,a=null!=r?r:null==e?void 0:e.author;(null==e?void 0:e.isSystemDM())?o=c.default.Types.SYSTEM_DM:null!=e&&(0,l.default)(e)?o=(0,
u.isPublicSystemMessage)(e)?c.default.Types.OFFICIAL:c.default.Types.SERVER:(null==a?void 0:a.bot)?o=c.default.Types.BOT:null!=t&&t.isForumPost()&&t.ownerId===a.id&&(o=c.default.Types.ORIGINAL_POSTER);return null!=o?O(c.default,{className:n?m.default.botTagCompact:m.default.botTagCozy,type:o,verified:null==a?void 0:a.isVerifiedBot(),useRemSizes:!0}):null}},103468:(e,t,n)=>{e.exports=n.p+"d8898bda2fe27e299c83d26fde7d1503.png"}}]);
//# sourceMappingURL=f68dceab66909b19b368.js.map