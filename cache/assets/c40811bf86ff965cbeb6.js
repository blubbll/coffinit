/*! For license information please see c40811bf86ff965cbeb6.js.LICENSE.txt */
(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[54313],{392654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=i(n(118915)),r=i(n(636602)),o=n(770348);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetch:function(){a.default.get({url:o.Endpoints.OAUTH2_TOKENS,oldFormErrors:!0}).then((function(e){return r.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})}),(function(){return r.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})}))},delete:function(e){var t=this;a.default.delete({url:o.Endpoints.OAUTH2_TOKEN(e),oldFormErrors:!0}).then((function(){t.fetch()}))}};t.default=l},951864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=u(n(118915)),o=u(n(636602)),i=n(327269),l=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var s=((a={})[l.HypeSquadHouses.HOUSE_1]=1,a[l.HypeSquadHouses.HOUSE_2]=2,
a[l.HypeSquadHouses.HOUSE_3]=3,a),d={joinHypeSquadOnline:function(e){return r.default.post({url:l.Endpoints.HYPESQUAD_ONLINE,body:{house_id:s[e.houseID]},oldFormErrors:!0}).then((function(){return o.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})})).catch((function(e){throw new i.V6OrEarlierAPIError(e)}))},leaveHypeSquadOnline:function(){return r.default.delete({url:l.Endpoints.HYPESQUAD_ONLINE,oldFormErrors:!0}).then((function(){return o.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})})).catch((function(e){throw new i.V6OrEarlierAPIError(e)}))}};t.default=d},511066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=(a=n(636602))&&a.__esModule?a:{default:a},o=n(770348);var i={addKeybind:function(e){r.default.dispatch({type:o.ActionTypes.KEYBINDS_ADD_KEYBIND,keybind:e})},setKeybind:function(e){r.default.dispatch({type:o.ActionTypes.KEYBINDS_SET_KEYBIND,
keybind:e})},deleteKeybind:function(e){r.default.dispatch({type:o.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){r.default.dirtyDispatch({type:o.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}};t.default=i},163521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=s(n(118915)),r=s(n(636602)),o=s(n(753304)),i=s(n(40856)),l=n(770348),u=s(n(247001));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function f(e,t){r.default.dispatch({type:l.ActionTypes.MFA_SMS_TOGGLE});return a.default.post({url:e,body:{password:t},oldFormErrors:!0}).then((function(e){r.default.dispatch({type:l.ActionTypes.MFA_SMS_TOGGLE_COMPLETE});return e}),(function(e){r.default.dispatch({type:l.ActionTypes.MFA_SMS_TOGGLE_COMPLETE});throw e}))}var c={enableMFAStart:function(e){return(t=regeneratorRuntime.mark((function t(){var n
;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return a.default.post({url:l.Endpoints.MFA_TOTP_ENABLE,body:{password:e},oldFormErrors:!0});case 2:n=t.sent;return t.abrupt("return",n.body);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(e){d(o,a,r,i,l,"next",e)}function l(e){d(o,a,r,i,l,"throw",e)}i(void 0)}))})();var t},enable:function(e){var t=e.password,n=e.code,o=e.secret;return a.default.post({url:l.Endpoints.MFA_TOTP_ENABLE,body:{code:n,secret:o,password:t},oldFormErrors:!0}).then((function(e){return r.default.dispatch({type:l.ActionTypes.MFA_ENABLE_SUCCESS,token:e.body.token,codes:e.body.backup_codes})}))},disable:function(){(0,i.default)({title:u.default.Messages.TWO_FA_DISABLE,actionText:u.default.Messages.TWO_FA_REMOVE},(function(e){return a.default.post({url:l.Endpoints.MFA_TOTP_DISABLE,body:e,oldFormErrors:!0})}),{checkEnabled:!0
}).then((function(e){var t=e.body.token;return r.default.dispatch({type:l.ActionTypes.MFA_DISABLE_SUCCESS,token:t})}))},enableSMS:function(e){return f(l.Endpoints.MFA_SMS_ENABLE,e)},disableSMS:function(e){return f(l.Endpoints.MFA_SMS_DISABLE,e)},sendMFABackupCodesVerificationKeyEmail:function(e){return a.default.post({url:l.Endpoints.MFA_SEND_VERIFICATION_KEY,body:{password:e},oldFormErrors:!0}).then((function(e){return r.default.dispatch({type:l.ActionTypes.MFA_SEND_VERIFICATION_KEY,nonces:{viewNonce:e.body.nonce,regenerateNonce:e.body.regenerate_nonce}})}),(function(e){throw e}))},confirmViewBackupCodes:function(e,t){var n=o.default.getNonces(),i=n.viewNonce,u=n.regenerateNonce,s=t?u:i;return a.default.post({url:l.Endpoints.MFA_CODES_VERIFICATION,body:{key:e,nonce:s,regenerate:t},oldFormErrors:!0}).then((function(t){return r.default.dispatch({type:l.ActionTypes.MFA_VIEW_BACKUP_CODES,codes:t.body.backup_codes,key:e})}),(function(e){throw e}))},clearBackupCodes:function(){
r.default.dirtyDispatch({type:l.ActionTypes.MFA_CLEAR_BACKUP_CODES})}};t.default=c},358916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t.QRCodeWithOverlay=void 0;var a,r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),i=(a=n(163585))&&a.__esModule?a:{default:a};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return s.apply(this,arguments)}function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=n(182765),p=function(e){d(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).QRRef=o.createRef();return t}var a=t.prototype;a.componentDidMount=function(){var e=this;n.e(95951).then(n.t.bind(n,295951,23)).then((function(t){var n=t.default
;new n(e.QRRef.current,s({},e.props,{correctLevel:n.CorrectLevel.M}))}))};a.componentDidUpdate=function(){var e=this;n.e(95951).then(n.t.bind(n,295951,23)).then((function(t){var n=t.default;new n(e.QRRef.current,s({},e.props,{correctLevel:n.CorrectLevel.M}))}))};a.render=function(){var e=this.props,t=e.colorLight,n=e.className;return o.createElement("div",{ref:this.QRRef,style:{padding:8,borderRadius:4,background:t},className:n})};return t}(o.PureComponent);p.displayName="QRCode";p.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000"};var S=u("img",{src:c,alt:""}),v=function(e){d(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return u("div",{className:i.default.qrCodeContainer},void 0,o.createElement(p,this.props),u("div",{className:i.default.qrCodeOverlay},void 0,S))};return t}(o.PureComponent);t.QRCodeWithOverlay=v;v.displayName="QRCodeWithOverlay";v.defaultProps={width:144,height:144,colorLight:"#ffffff",
colorDark:"#000000"};var m=p;t.default=m},747490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RefundReason=t.PremiumRefundDisqualificationReason=t.AdyenResultCodes=void 0;var a,r,o,i=(a=n(213192))&&a.__esModule?a:{default:a};t.RefundReason=r;!function(e){e[e.OTHER=0]="OTHER";e[e.GIFTING_REFUND=1]="GIFTING_REFUND";e[e.BUYERS_REMORSE=2]="BUYERS_REMORSE";e[e.WRONG_PURCHASE=3]="WRONG_PURCHASE";e[e.FORGOT_TO_CANCEL=4]="FORGOT_TO_CANCEL";e[e.SERVER_BOOSTING_COOLDOWN=5]="SERVER_BOOSTING_COOLDOWN";e[e.USER_CONFUSION=6]="USER_CONFUSION";e[e.WANT_TO_SWITCH_TIERS=7]="WANT_TO_SWITCH_TIERS";e[e.DONT_NEED=8]="DONT_NEED"}(r||(t.RefundReason=r={}));t.PremiumRefundDisqualificationReason=o;!function(e){e[e.OTHER=0]="OTHER";e[e.ALREADY_REFUNDED=1]="ALREADY_REFUNDED";e[e.NOT_USER_REFUNDABLE_TYPE=2]="NOT_USER_REFUNDABLE_TYPE";e[e.PAST_REFUNDABLE_DATE=3]="PAST_REFUNDABLE_DATE";e[e.ENTITLEMENT_ALREADY_CONSUMED=4]="ENTITLEMENT_ALREADY_CONSUMED"
;e[e.ALREADY_REFUNDED_PREMIUM=5]="ALREADY_REFUNDED_PREMIUM";e[e.ALREADY_REFUNDED_PREMIUM_GUILD=6]="ALREADY_REFUNDED_PREMIUM_GUILD"}(o||(t.PremiumRefundDisqualificationReason=o={}));var l=Object.freeze((0,i.default)({Authorised:null,Error:null}));t.AdyenResultCodes=l},187232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r,o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),l=n(354479),u=n(858627),s=p(n(191471)),d=p(n(919888)),f=p(n(247001)),c=p(n(720999));function p(e){return e&&e.__esModule?e:{default:e}}function S(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){e.EXPIRATION_DATE="expirationDate"}(o||(o={}));var _=[{fields:[((a={})[o.EXPIRATION_DATE]={name:o.EXPIRATION_DATE,id:(0,l.uid)(),title:function(){return f.default.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return f.default.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return c.default.width50},renderInput:function(e){return i.createElement(s.default,e)}},
a)[o.EXPIRATION_DATE]]}];function g(e){var t=e.onCardInfoChange,n=e.className,a=e.expirationDate,r=e.error,o=m(i.useState(!1),2),l=o[0],s=o[1],c=m(i.useState(null),2),p=c[0],S=c[1],E=m(i.useState(a),2),g=E[0],y=E[1];i.useEffect((function(){t({expirationDate:g},null===p)}),[g,t,p]);return v(d.default,{className:n,form:_,values:{expirationDate:g},errors:null!=p?{expirationDate:p}:{},formError:r,onFieldChange:function(e){l||""===e||s(!0);l&&""===e||!(0,u.validateExpiry)(e)?S(f.default.Messages.CREDIT_CARD_ERROR_EXPIRATION):S(null);y(e)}})}g.displayName="EditExpirationDateForm";var y=g;t.default=y},591235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=A(n(294184)),i=A(n(536211)),l=A(n(636602)),u=n(832635),s=n(713293),d=A(n(697952)),f=A(n(956117)),c=A(n(558402)),p=A(n(789446)),S=A(n(530250)),v=A(n(682473)),m=A(n(730977)),E=n(688388),_=A(n(776360)),g=n(71246),y=A(n(301429)),O=A(n(187232)),T=A(n(288006)),h=n(770348),I=A(n(247001)),N=A(n(215913));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function b(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return R.apply(this,arguments)}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var L="isDefault",U=b(E.FormDivider,{}),w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(t){var n,a,r,o,i,l,u,d;(d=e.call(this,t)||this).handleSubmit=function(e){e.preventDefault();e.stopPropagation();if(0===Object.values(d.state.dirtyFields).filter(g.isNotNullish).length)d.props.onCancel();else{
var t=d.state,n=t.billingAddress,a=t.isDefault,r=t.expiresMonth,o=t.expiresYear;d.props.onSubmit(d.props.paymentSource.id,{billingAddress:n,expiresMonth:r,expiresYear:o,isDefault:a})}};d.handleCancel=function(){d.props.onCancel()};d.handleDelete=function(){var e=d.props;(0,e.onDelete)(e.paymentSource.id)};d.handleAddressUpdate=function(e,t,n){d.setState({billingAddress:e,billingAddressValid:t,dirtyFields:R({},d.state.dirtyFields,{billingAddress:n})})};d.handleExpirationDateUpdate=function(e,t){var n=e.expirationDate;d.setState({expirationValid:t});if(null!=n&&""!==n){var a=C(n.split("/"),2),r=a[0],o=a[1];d.handleFieldChange(Number(r),"expiresMonth");d.handleFieldChange(Number(""+(new Date).getFullYear().toString().slice(0,2)+o),"expiresYear")}};d.handleFieldChange=function(e,t){var n,a;null!=t&&d.setState(((a={})[t]=e,a.dirtyFields=R({},d.state.dirtyFields,((n={})[t]=!0,n)),a))};var f=t.paymentSource,c=t.isDefault,p=f.billingAddress;d.state={billingAddress:{
name:null!==(n=p.name)&&void 0!==n?n:"",line1:null!==(a=p.line1)&&void 0!==a?a:"",line2:null!==(r=p.line2)&&void 0!==r?r:"",country:null!==(o=p.country)&&void 0!==o?o:"",state:null!==(i=p.state)&&void 0!==i?i:"",city:null!==(l=p.city)&&void 0!==l?l:"",postalCode:null!==(u=p.postalCode)&&void 0!==u?u:""},expiresMonth:f instanceof s.CreditCardSourceRecord?f.expiresMonth:void 0,expiresYear:f instanceof s.CreditCardSourceRecord?f.expiresYear:void 0,billingAddressValid:!1,isDefault:c,expirationValid:!0,dirtyFields:{}};return d}var n=t.prototype;n.componentWillUnmount=function(){l.default.wait((function(){(0,u.clearUpdatePaymentSourceError)();(0,u.clearRemovePaymentSourceError)()}))};n.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?b(v.default,{className:N.default.formError},void 0,n.message):null:b(v.default,{className:N.default.formError},void 0,t.message)};n.renderBillingAddressSection=function(){
var e,t=this.state.billingAddress,n=this.props,a=n.updateError,o=n.paymentSource;if(o.type===h.PaymentSourceTypes.CARD)e="US"===o.country?y.default.Layouts.SETTINGS_US:y.default.Layouts.SETTINGS_INTL;else e=y.default.Layouts.SETTINGS_INTL_NO_NAME;return b("div",{className:N.default.addressSection},void 0,b(_.default,{className:N.default.sectionHeader},void 0,I.default.Messages.BILLING_ADDRESS),r.createElement(y.default,R({},t,{mode:y.default.Modes.EDIT,layout:e,onBillingAddressChange:this.handleAddressUpdate,error:a})))};n.renderCardExpirationSection=function(){var e=this.state,t=e.expiresMonth,n=e.expiresYear;if(null==t||null==n)return null;var a=t.toString().padStart(2,"0")+"/"+n.toString().padStart(2,"0").slice(-2);return b("div",{className:N.default.addressSection},void 0,b(_.default,{className:N.default.sectionHeader},void 0,I.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION),b(O.default,{expirationDate:a,onCardInfoChange:this.handleExpirationDateUpdate,
error:this.props.updateError}))};n.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,a=e.isForSubscription,o=this.state,i=o.billingAddressValid,l=o.expirationValid;return b(S.default,{justify:S.default.Justify.BETWEEN,className:N.default.formActions},void 0,b("div",{className:N.default.disabledTooltipWrapper},void 0,a?b(m.default,{text:I.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,(function(e){return r.createElement("div",R({"aria-hidden":!0,className:N.default.disabledTooltipTarget},e))})):null,b(f.default,{type:"button",disabled:a||t,submitting:n,onClick:this.handleDelete,look:f.default.Looks.OUTLINED,color:f.default.Colors.RED},void 0,I.default.Messages.PAYMENT_SOURCE_DELETE)),b(S.default,{grow:0},void 0,b(f.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY},void 0,I.default.Messages.CANCEL),b(f.default,{submitting:t,disabled:!i||n||!l,type:"submit",
color:f.default.Colors.GREEN},void 0,I.default.Messages.SAVE)))};n.render=function(){var e=this,t=this.props,n=t.paymentSource,a=t.isDefault,r=t.locale,i=t.className,l=t.isForSubscription,u=this.state.isDefault,d=n instanceof s.PaypalSourceRecord;return b(c.default,{editable:!0,className:(0,o.default)(N.default.card,i)},void 0,b("form",{onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),b("div",{className:N.default.paymentSection},void 0,b(T.default,{paymentSource:n,isDefault:a,isForSubscription:l,locale:r}),n.invalid?b("div",{className:N.default.errorSubText},void 0,I.default.Messages.PAYMENT_SOURCE_INVALID_HELP):null,b("div",{className:N.default.subText},void 0,d?I.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:h.PAYPAL_URL}):I.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD)),this.renderCardExpirationSection(),this.renderBillingAddressSection(),b(p.default,{name:L,value:u,onChange:function(t,n){return e.handleFieldChange(n,L)},
type:p.default.Types.INVERTED,className:N.default.defaultSection},void 0,b(_.default,{className:N.default.defaultCheckboxLabel},void 0,I.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),U,this.renderActions()))};return t}(r.PureComponent);w.displayName="EditPaymentSourceForm";w.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};var k=i.default.connectStores([d.default],(function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}}))(w);t.default=k},191471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=(a=n(279950))&&a.__esModule?a:{default:a},i=n(581894);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return u.apply(this,arguments)}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=/[^0-9]/g,f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).selectionStart=0;t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e;null!=n&&n(e)};t.handleChange=function(e,n){
var a=t.props,r=a.value,o=a.onChange,l=t._inputRef;if(e!==r&&null!=l&&null!=r){var u=(0,i.formatExpiration)(e),s=l.selectionStart;u===r&&u.length<=3&&r.includes("/")&&!e.includes("/")?u=u.replace(d,""):u===r&&e.includes("/")&&!r.includes("/")&&(u+="/");u.length>e.length&&(s+=u.length-e.length);t.selectionStart=s;null!=o&&o(u,n)}};return t}var n=t.prototype;n.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)};n.render=function(){return r.createElement(o.default,u({},this.props,{inputMode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))};return t}(r.PureComponent);f.displayName="ExpirationDateTextField";var c=f;t.default=c},288006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t)
;if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=S(n(294184)),i=n(713293),l=S(n(530250)),u=S(n(708100)),s=S(n(971639)),d=n(537683),f=n(8916),c=S(n(247001)),p=S(n(515388));function S(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getLabel=function(e){return e instanceof i.CreditCardSourceRecord?c.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,f.upperCaseFirstChar)(e.brand),last_4:e.last4
}):e instanceof i.PaypalSourceRecord?c.default.Messages.PAYMENT_SOURCE_PAYPAL:e instanceof i.SofortSourceRecord?c.default.Messages.PAYMENT_SOURCE_SOFORT:e instanceof i.GiropaySourceRecord?c.default.Messages.PAYMENT_SOURCE_GIROPAY:e instanceof i.Przelewy24SourceRecord?c.default.Messages.PAYMENT_SOURCE_PRZELEWY24:e instanceof i.PaysafeSourceRecord?c.default.Messages.PAYMENT_SOURCE_PAYSAFE_CARD:e instanceof i.GcashSourceRecord?c.default.Messages.PAYMENT_SOURCE_GCASH:c.default.Messages.PAYMENT_SOURCE_UNKNOWN};n.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return m(s.default,{className:(0,o.default)(p.default.description,n)},void 0,this.getLabel(t))};n.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,a=null;t instanceof i.CreditCardSourceRecord?a=c.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear
}):(t instanceof i.PaypalSourceRecord||t instanceof i.SofortSourceRecord||t instanceof i.Przelewy24SourceRecord)&&(a=t.email);return a};n.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,a=e.showSubtext,r=e.isForSubscription,o=this.renderSubText();return m(l.default,{},void 0,m(u.default,{type:this.typeString}),m(l.default,{direction:l.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,m(l.default,{align:l.default.Align.CENTER},void 0,this.renderDescription(),t?m("div",{className:p.default.defaultIndicator},void 0,c.default.Messages.DEFAULT):null,r?m("div",{className:p.default.premiumIndicator},void 0,c.default.Messages.PAYMENT_SOURCE_SUBSCRIPTION):null,n.invalid?m("div",{className:p.default.invalidIndicator},void 0,c.default.Messages.PAYMENT_SOURCE_INVALID):null),a&&null!=o?m("div",{className:p.default.subText},void 0,o):null))};!function(e,t,n){t&&E(e.prototype,t);n&&E(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{
key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof i.PaypalSourceRecord?u.default.Types.PAYPAL:e instanceof i.SofortSourceRecord?u.default.Types.SOFORT:e instanceof i.CreditCardSourceRecord?u.default.getType(e.brand):e instanceof i.GiropaySourceRecord?u.default.Types.GIROPAY:e instanceof i.Przelewy24SourceRecord?u.default.Types.PRZELEWY24:e instanceof i.PaysafeSourceRecord?u.default.Types.PAYSAFECARD:e instanceof i.GcashSourceRecord?u.default.Types.GCASH:u.default.Types.UNKNOWN}}]);return t}(r.PureComponent);t.default=g;g.displayName="PaymentDescription";g.defaultProps={isForSubscription:!1,isDefault:!1,showSubtext:!1}},109043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=x;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=P(n(294184)),i=P(n(441143)),l=n(798628),u=n(536211),s=P(n(636602)),d=n(832635),f=n(297279),c=n(856259),p=P(n(133589)),S=P(n(697952)),v=P(n(490931)),m=P(n(909584)),E=P(n(146771)),_=P(n(558402)),g=P(n(530250)),y=P(n(477797)),O=P(n(235742)),T=n(838583),h=P(n(186673)),I=n(770348),N=n(478036),A=P(n(247001)),M=P(n(582995)),b=P(n(89073)),C=["ref"];function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return L(e,t)}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return U.apply(this,arguments)}function w(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{
i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var F=10;function G(e){var t=e.payments,n=e.locale,a=e.compactMode,i=e.numPages,s=r.useRef(null),f=k(r.useState(0),2),c=f[0],v=f[1],m=k(r.useState(null),2),E=m[0],_=m[1],g=t.slice(c*F,(c+1)*F);r.useEffect((function(){var e;null===(e=s.current)||void 0===e||e.scrollTo({to:0})}),[c]);var T=r.useCallback((function(e){v(e);var n=t[t.length-1].id
;if(e===i-1&&E!==n){(0,d.fetchPayments)(F,n);_(n)}}),[t,i,E]),I=(0,p.default)("billing-history",s),N=(0,u.useStateFromStores)([S.default],(function(){return S.default.ipCountryCode}));r.useEffect((function(){null==N&&(0,d.fetchIpCountryCode)()}),[]);return w(l.ListNavigatorProvider,{navigator:I},void 0,w(l.ListNavigatorContainer,{},void 0,(function(e){var t=e.ref,l=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,C);return r.createElement(y.default,U({className:(0,o.default)(M.default.verticalFit,M.default.paginator),currentPageIndex:c,onChangePage:T,numPages:i,ref:t},l),r.createElement(O.default,{className:M.default.bottomDivider,ref:s},g.map((function(e,t){return w(h.default,{className:(0,o.default)(M.default.paymentRow,M.default.bottomDivider),payment:e,locale:n,compactMode:a,ipCountryCode:null!=N?N:void 0},t)}))))})))}G.displayName="PaymentHistoryPage";var j=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).scrollerRef=r.createRef();return t}var n=t.prototype;n.componentDidMount=function(){s.default.wait((function(){(0,f.fetchActivityStatistics)();(0,d.fetchPayments)(20)}))};n.renderPremiumExternalSubscription=function(e){(0,i.default)(null!=e.paymentGateway,"Expected payment gateway when rendering for external subscription");return w(_.default,{className:M.default.externalRow},void 0,w("div",{className:M.default.externalRowHeader},void 0,A.default.Messages.BILLING_EXTERNAL_HEADER.format({paymentGatewayName:N.PaymentGatewayToFriendlyName[e.paymentGateway]})),w("div",{className:M.default.externalRowBody},void 0,A.default.Messages.BILLING_EXTERNAL_DESCRIPTION.format({paymentGatewayName:N.PaymentGatewayToFriendlyName[e.paymentGateway],billingHistoryLink:(0,
T.getExternalSubscriptionMethodUrl)(e.paymentGateway,"BILLING_HISTORY")})))};n.render=function(){var e=this.props,t=e.compactMode,n=e.payments,a=e.subscription,r=e.locale,i=null!=a&&a.isPurchasedExternally;return 0!==n.length||i?w("div",{className:M.default.verticalFit},void 0,null!=a&&i?this.renderPremiumExternalSubscription(a):null,n.length>0?w("div",{className:(0,o.default)(M.default.paymentPane,M.default.verticalFit)},void 0,t?null:w("div",{className:(0,o.default)(M.default.paymentRow,M.default.bottomDivider)},void 0,w(g.default,{className:M.default.paymentRowHeader},void 0,w("div",{className:b.default.date},void 0,A.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),w("div",{className:M.default.paymentRowHeaderDescription},void 0,A.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),w("div",{className:b.default.amount},void 0,A.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),w(G,{compactMode:t,locale:r,payments:n,numPages:this.numPages})):null):null}
;!function(e,t,n){t&&D(e.prototype,t);n&&D(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/F),1)}}]);return t}(r.PureComponent);j.displayName="PaymentHistory";j.defaultProps={compactMode:!1};function H(e){var t,n=e.skuId,a=null===(t=e.subscription)||void 0===t?void 0:t.items[0].planId;return!(null==n||null==a||Object.values(I.PremiumSubscriptionSKUs).includes(n)||(0,T.isPremiumSubscriptionPlan)(a))}function x(e){var t=(0,u.useStateFromStores)([v.default],(function(){return v.default.getPayments()})),n=(0,u.useStateFromStores)([E.default],(function(){return E.default.getPremiumTypeSubscription()})),a=r.useMemo((function(){return new Set(t.filter(H).map((function(e){var t=e.subscription;return null==t?void 0:t.items[0].planId})))}),[t]),o=r.useMemo((function(){return new Set(t.filter(H).map((function(e){return e.skuId})))}),[t]),i=(0,u.useStateFromStoresArray)([m.default],(function(){
return m.default.getPlanIdsForSkus(Array.from(o))})),l=r.useCallback((function(){return i.length===a.size}),[i,a]);r.useEffect((function(){l()||s.default.wait((function(){o.forEach((function(e){return(0,c.fetchSubscriptionPlansForSKU)(e)}))}))}),[l,o]);return r.createElement(j,U({},e,{payments:l()?t:[],subscription:n}))}x.displayName="ConnectedPaymentHistory"},186673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=V(n(667294)),o=x(n(294184)),i=x(n(441143)),l=x(n(213192)),u=x(n(730381)),s=n(798628),d=x(n(536211)),f=n(851757),c=x(n(427498)),p=n(713293),S=x(n(288356)),v=x(n(748826)),m=x(n(909584)),E=x(n(194198)),_=x(n(151097)),g=x(n(956117)),y=x(n(16941)),O=x(n(530250)),T=x(n(562475)),h=x(n(708100)),I=x(n(730977)),N=x(n(69405)),A=x(n(992193)),M=x(n(259530)),b=x(n(447522)),C=x(n(41024)),P=n(194322),R=n(35033),D=n(685677),L=V(n(838583)),U=n(243277),w=x(n(288006)),k=n(895426),B=n(747490),F=n(770348),G=n(478036),j=x(n(247001)),H=x(n(89073))
;function x(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function W(){W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return W.apply(this,arguments)}function K(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function z(e){return function(){
var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){K(o,a,r,i,l,"next",e)}function l(e){K(o,a,r,i,l,"throw",e)}i(void 0)}))}}function Q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function $(e,t){$=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $(e,t)}function Z(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var q=function(e){return"https://"+F.SUPPORT_DOMAIN+"/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},X=(0,l.default)({
TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null,PAYMENT_GATEWAY:null,SKU_STICKER_PACK:null,SUBSCRIPTION_TYPE:null});function J(e){switch(e){case B.PremiumRefundDisqualificationReason.ALREADY_REFUNDED_PREMIUM:return j.default.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_REASON;case B.PremiumRefundDisqualificationReason.ALREADY_REFUNDED_PREMIUM_GUILD:return j.default.Messages.BILLING_REFUND_ALREADY_REFUNDED_PREMIUM_GUILD_REASON;case B.PremiumRefundDisqualificationReason.ENTITLEMENT_ALREADY_CONSUMED:return j.default.Messages.BILLING_REFUND_ALREADY_CONSUMED_REASON;default:return j.default.Messages.BILLING_REFUND_GENERIC_REASON}}var ee=[F.PaymentStatusTypes.FAILED,F.PaymentStatusTypes.REVERSED,F.PaymentStatusTypes.CANCELED],te=[G.PaymentGateways.APPLE],ne=function(e){var t=e.description,n=e.cost;return Z("li",{className:H.default.paymentDetail},void 0,Z(O.default,{justify:O.default.Justify.BETWEEN
},void 0,Z("div",{},void 0,t),Z("div",{},void 0,n)))};ne.displayName="PaymentDetail";var ae=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;$(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).state={expanded:!1};t.refundRules=[{rule:X.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0;var e=t.timePlayed;return null==e||e.asMilliseconds()<u.default.duration(2,"hours").asMilliseconds()}},{rule:X.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;if(t.isSkuPreorder)return!0;var n=e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift?5:14;return t.daysSincePurchase<=n}},{rule:X.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==F.SKUTypes.CONSUMABLE}},{rule:X.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:X.PAYMENT_STATUS,
canRefund:function(){var e=t.props.payment;return!ee.includes(e.status)}},{rule:X.PAYMENT_GATEWAY,canRefund:function(){var e=t.props.payment;return null==e.paymentGateway||!te.includes(e.paymentGateway)}},{rule:X.SKU_STICKER_PACK,canRefund:function(){var e=t.props.payment;return null==e.sku||!(0,D.hasFlag)(e.sku.flags,F.SKUFlags.STICKER_PACK)}},{rule:X.SUBSCRIPTION_TYPE,canRefund:function(){var e;return(null===(e=t.props.payment.subscription)||void 0===e?void 0:e.type)!==F.SubscriptionTypes.GUILD}}];t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})};return t}var a=t.prototype;a.validateRefundRules=function(){return this.refundRules.filter((function(e){return!(0,e.canRefund)()})).map((function(e){return e.rule}))};a.renderStatus=function(){switch(this.props.payment.status){case F.PaymentStatusTypes.PENDING:return Z("span",{className:H.default.statusTagGrey},void 0,j.default.Messages.BILLING_TAG_PENDING);case F.PaymentStatusTypes.FAILED:return Z("span",{
className:H.default.statusTagRed},void 0,j.default.Messages.BILLING_TAG_FAILED);case F.PaymentStatusTypes.REFUNDED:return Z("span",{className:H.default.statusTagGreen},void 0,j.default.Messages.BILLING_TAG_REFUNDED);case F.PaymentStatusTypes.REVERSED:return Z("span",{className:H.default.statusTagRed},void 0,j.default.Messages.BILLING_TAG_REVERSED);case F.PaymentStatusTypes.CANCELED:return Z("span",{className:H.default.statusTagRed},void 0,j.default.Messages.BILLING_TAG_CANCELED);default:return null}};a.renderPrice=function(){var e=this.props.payment;return Z("span",{className:H.default.price},void 0,(0,U.formatPrice)(e.amount,e.currency))};a.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,a=t.taxInclusive,i=t.tax,l=t.amount,u=t.currency;return Z("div",{className:(0,o.default)(H.default.paymentText,H.default.paymentBreakdown)},void 0,null!=t.paymentSource?Z(w.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:H.default.paymentText
}):null,Z("ul",{},void 0,!a&&i>0?Z(r.Fragment,{},void 0,Z(ne,{description:t.description,cost:(0,U.formatPrice)(l-i,u)}),Z(ne,{description:j.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,U.formatPrice)(i,u)})):null,Z(ne,{description:j.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,U.formatPrice)(l,u)})))};a.renderInvoiceDownload=function(){var e=this.props.payment;return null==e.downloadableInvoice||""===e.downloadableInvoice?null:Z("div",{className:H.default.downloadInvoice},void 0,Z(_.default,{href:e.downloadableInvoice},void 0,j.default.Messages.BILLING_DOWNLOAD_INVOICE),null!=e.downloadableRefundInvoices?e.downloadableRefundInvoices.map((function(e,t){return Z(_.default,{className:H.default.downloadRefundInvoice,href:e},t,j.default.Messages.BILLING_DOWNLOAD_REFUND_INVOICE)})):null)};a.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,a=e.ipCountryCode,o=e.paymentSources,i=this.validateRefundRules()
;if(i.includes(X.PAYMENT_GATEWAY)||i.includes(X.PAYMENT_STATUS)||i.includes(X.ALREADY_REFUNDED)||i.includes(X.SKU_STICKER_PACK)||i.includes(X.SUBSCRIPTION_TYPE))return null;var l,u=0===i.length,s=q(t),d=this.isPremium?5:14;l=i.includes(X.SKU_TYPE)?j.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:s}):u?n.isPreorder&&this.isSkuPreorder?j.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:s}):n.isPremiumSubscription||n.isPremiumGuildSubscription?j.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:d,supportURL:s}):n.isGift?j.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:d,supportURL:s}):j.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:d,playtimeLimit:2,supportURL:s}):n.isGift?j.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:d}):n.isPremiumSubscription||n.isPremiumGuildSubscription?j.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:d
}):j.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:d,playtimeLimit:2});this.isPremium&&(0,k.userInRefundExperiment)(n,a,o)&&(l=null);return Z(r.Fragment,{},void 0,Z("h2",{className:H.default.paymentHeader},void 0,j.default.Messages.BILLING_REFUND_HEADER),Z("div",{className:H.default.paymentText},void 0,Z("div",{},void 0,l),this.renderRefundActions(i)))};a.renderRefundCriteria=function(e,t,n,a){return Z("div",{className:H.default.refundCriteria},a,Z("h3",{className:H.default.refundSubHeader},void 0,e),Z("div",{className:H.default.refundIconContainer},void 0,Z(t,{className:H.default.refundCriteriaIcon}),null!=n&&Z("div",{},void 0,n)))};a.renderRefundActions=function(e){var t,a,o=this.props,i=o.locale,l=o.payment,u=o.ipCountryCode,s=o.paymentSources;if(this.isSkuPreorder||e.includes(X.SKU_TYPE))return null
;var d=e.includes(X.PURCHASE_DATE)?M.default:A.default,f=e.includes(X.TIME_PLAYED)||(null===(t=l.premiumRefundDisqualificationReasons)||void 0===t?void 0:t.includes(B.PremiumRefundDisqualificationReason.PAST_REFUNDABLE_DATE))?M.default:A.default;if(!this.isPremium||!(0,k.userInRefundExperiment)(l,u,s))return Z("div",{className:H.default.refundActions},void 0,Z("div",{className:H.default.refundRules},void 0,this.renderRefundCriteria(l.isPreorder?j.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:j.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER,d,j.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})),l.isSubscription||l.isGift?null:this.renderRefundCriteria(j.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER,f,null!=this.timePlayed?this.timePlayed.humanize():j.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)),Z(_.default,{href:q(i)},void 0,j.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))
;var c=(null!==(a=l.premiumRefundDisqualificationReasons)&&void 0!==a?a:[B.PremiumRefundDisqualificationReason.OTHER])[0],p=null!=c||0!==e.length||l.isPurchasedExternally;return Z("div",{className:H.default.refundActions},void 0,Z(I.default,{shouldShow:p,text:J(c)},void 0,(function(e){return r.createElement(g.default,W({},e,{color:g.default.Colors.PRIMARY,disabled:p,onClick:function(){return(0,P.openModalLazy)(z(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(13501)]).then(n.bind(n,713501));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,W({payment:l,reportProblemUrl:q(i)},e))}));case 5:case"end":return e.stop()}}),e)}))))}}),j.default.Messages.BILLING_REFUND_BUTTON_TEXT)})),Z(_.default,{href:q(i)},void 0,j.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))};a.renderDescription=function(){
var e,t,n=this.props,a=n.compactMode,o=n.payment,l=n.application,s=n.stickerPack,d=this.state.expanded,p=o.sku,S=o.subscription,v=null!=o.paymentSource&&F.PREPAID_PAYMENT_SOURCES.has(o.paymentSource.type);if(null!=S&&0!==S.items.length){var E=[],_=null;if(S.type===F.SubscriptionTypes.PREMIUM)S.items.forEach((function(e){var t=e.planId,n=e.quantity;if((0,L.isPremiumSubscriptionPlan)(t)){E.push(L.default.getDisplayName(t,!1,v));_=F.SubscriptionPlanInfo[t].skuId}else{E.push((n>1?n+"x ":"")+L.default.getDisplayName(t,!1,v));null==_&&(_=F.SubscriptionPlanInfo[t].skuId)}}));else if(S.type===F.SubscriptionTypes.GUILD){var g=m.default.get(S.items[0].planId);(0,i.default)(null!=g,"Guild subscription plan should already have been loaded");var y=g.interval===F.SubscriptionIntervalTypes.YEAR?j.default.Messages.YEARLY_GUILD_SUBSCRIPTION:j.default.Messages.MONTHLY_GUILD_SUBSCRIPTION;E.push(y.format({planName:g.name}));_=g.skuId}t=E.join(", ");e=Z(T.default,{className:H.default.descriptionIcon,
game:l,size:T.default.Sizes.XSMALL,skuId:_})}else if(null!=p){t=o.isPreorder?j.default.Messages.PREORDER_SKU_NAME.format({name:p.name}):p.name;if(null!=s){var O=(0,f.getStickerPackPreviewSticker)(s);e=Z(c.default,{disableAnimation:!d,isInteracting:d,sticker:O,className:H.default.descriptionIcon,size:24})}else e=Z(T.default,{className:H.default.descriptionIcon,game:l,size:T.default.Sizes.XSMALL,skuId:p.id})}else{e=Z(C.default,{className:H.default.descriptionIcon});t=o.description}var h=Z("div",{className:H.default.date},void 0,(0,R.dateFormat)((0,u.default)(o.createdAt),"MM/DD/YYYY")),N=o.isGift?Z(I.default,{text:j.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,(function(e){return r.createElement(b.default,W({className:H.default.giftIcon},e))})):null;return a?Z("div",{className:H.default.description},void 0,e,Z("div",{},void 0,t,h),N):Z(r.Fragment,{},void 0,h,Z("div",{className:H.default.description},void 0,e,Z("div",{},void 0,t),N))};a.renderExpandedSection=function(){
return Z(y.default,{onClick:function(e){return e.stopPropagation()}},void 0,Z("div",{className:H.default.expandedInfo},void 0,Z("h2",{className:H.default.paymentHeader},void 0,j.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderInvoiceDownload(),this.renderRefundDetails()))};a.render=function(){var e=this,t=this.props,n=t.payment,a=t.className,i=t.compactMode,l=this.state.expanded;return Z(s.ListNavigatorItem,{id:n.id},void 0,(function(t){var n;return r.createElement(y.default,W({onClick:e.handleExpandInfo,className:(0,o.default)(l?H.default.payment:H.default.hoverablePayment,a,(n={},n[H.default.compact]=i,n)),focusProps:{offset:4}},t),Z(O.default,{className:H.default.summaryInfo,align:O.default.Align.CENTER},void 0,e.renderDescription(),Z("div",{className:H.default.amount},void 0,e.renderStatus(),e.renderPrice()),Z(N.default,{className:H.default.expand,direction:l?N.default.Directions.UP:N.default.Directions.DOWN
})),l?e.renderExpandedSection():null)}))};!function(e,t,n){t&&Q(e.prototype,t);n&&Q(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?u.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,u.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"isPremium",get:function(){var e=this.props.payment;return e.isPremiumSubscription||e.isPremiumGuildSubscription||e.isPremiumGift}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof p.PaypalSourceRecord?h.default.Types.PAYPAL:e instanceof p.CreditCardSourceRecord?h.default.getType(e.brand):h.default.Types.UNKNOWN}}]);return t
}(r.PureComponent);ae.displayName="PaymentHistoryRow";ae.defaultProps={compactMode:!1};var re=d.default.connectStores([E.default,S.default,v.default],(function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===F.SKUTypes.DURABLE_PRIMARY?t.sku.applicationId:null;return{applicationStatistics:null!=n?E.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?S.default.getGame(n):null,stickerPack:null,paymentSources:v.default.paymentSources}}))(ae);t.default=re},565093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=h(n(667294)),o=O(n(496486)),i=h(n(832635)),l=n(653906),u=O(n(956117)),s=O(n(530250)),d=O(n(730977)),f=O(n(588417)),c=O(n(662197)),p=O(n(675044)),S=n(194322),v=O(n(776360)),m=n(298104),E=O(n(591235)),_=O(n(288006)),g=O(n(247001)),y=O(n(450794));function O(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t
})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return I.apply(this,arguments)}function N(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){N(o,a,r,i,l,"next",e)}function l(e){N(o,a,r,i,l,"throw",e)}i(void 0)}))}}function M(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var P=function(e){b(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleEditClick=function(){t.props.onEditClick(t.props.paymentSource.id)};return t}t.prototype.render=function(){
var e=this.props,t=e.paymentSource,n=e.isDefault,a=e.isEditing,r=e.index,o=e.hideDivider,i=e.isForSubscription,l=e.locale,d=e.removing,c=e.submitting,p=e.onSubmit,S=e.onCancel,v=e.onDelete;return a?M(E.default,{paymentSource:t,isDefault:n,removing:d,submitting:c,locale:l,isForSubscription:i,onSubmit:p,onCancel:S,onDelete:v}):M("div",{className:y.default.paymentSourceItem},void 0,r>0&&!o?M(f.default,{className:y.default.sourceDivider}):null,M(s.default,{align:s.default.Align.CENTER,justify:s.default.Justify.BETWEEN,className:y.default.paymentSourceRow},void 0,M(_.default,{paymentSource:t,isDefault:n,isForSubscription:i,locale:l,showSubtext:!0}),a?null:M(u.default,{color:u.default.Colors.PRIMARY,onClick:this.handleEditClick,size:u.default.Sizes.SMALL},void 0,g.default.Messages.EDIT)))};return t}(r.PureComponent);P.displayName="PaymentSourceItem";P.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var R=function(e){b(t,e);function t(){
for(var t,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];(t=e.call.apply(e,[this].concat(o))||this).state={editingPayment:null};t.handleEditClick=function(e){t.setState({editingPayment:e})};t.handleCancel=function(){t.setState({editingPayment:null})};t.handleDelete=function(){var e=A(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return i.deletePaymentSource(n);case 3:t.setState({editingPayment:null});e.next=8;break;case 6:e.prev=6;e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();t.handleSubmit=function(){var e=A(regeneratorRuntime.mark((function e(n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=9;break}e.prev=1;e.next=4;return i.updatePaymentSource(n,a);case 4:t.setState({editingPayment:null});e.next=9;break;case 7:e.prev=7;e.t0=e.catch(1);case 9:
case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();t.handlePaymentSourceAdded=function(){var e=A(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,m.fetchSubscriptionPlansOnNewPaymentSource)(t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleAddPaymentMethod=function(){(0,S.openModalLazy)(A(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(36511),n.e(85190),n.e(58838)]).then(n.bind(n,58838));case 2:a=e.sent;o=a.default;return e.abrupt("return",(function(e){return r.createElement(o,I({},e,{onAddPaymentSource:t.handlePaymentSourceAdded}))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){(0,l.clearError)()}})};return t}var a=t.prototype
;a.renderFooter=function(){var e=this.props.paymentSources;return M(s.default,{justify:s.default.Justify.END,className:y.default.footer},void 0,0===Object.keys(e).length?M(s.default.Child,{},void 0,M(v.default,{},void 0,g.default.Messages.BILLING_NO_PAYMENT_METHOD),M("div",{className:y.default.subText},void 0,g.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,M(u.default,{onClick:this.handleAddPaymentMethod},void 0,g.default.Messages.BILLING_ADD_PAYMENT_METHOD))};a.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,a=t.paymentSources,i=t.locale,l=t.removing,u=t.submitting,S=t.premiumSubscriptionPaymentSourceId,v=o.default.values(a).sort((function(e,t){return e.id===n?-1:t.id===n||e.id>t.id?1:-1})),m=this.state.editingPayment,E=v.findIndex((function(e){return e.id===m})),_=v.map((function(t,a){return M(P,{locale:i,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isForSubscription:t.id===S,hideDivider:E===a-1,
onSubmit:e.handleSubmit,index:a,submitting:u,removing:l,isEditing:m===t.id,onEditClick:e.handleEditClick},t.id)}));return M("div",{},void 0,M(c.default,{tag:c.default.Tags.H1},void 0,M(s.default,{align:s.default.Align.CENTER},void 0,M(d.default,{position:d.default.Positions.LEFT,text:g.default.Messages.BILLING_SECURE_TOOLTIP},void 0,(function(e){return r.createElement(p.default,I({className:y.default.lockIcon},e))})),g.default.Messages.BILLING_PAYMENT_SOURCES)),_,E!==v.length-1?M(f.default,{className:y.default.sourceDivider}):null,this.renderFooter())};return t}(r.PureComponent);R.displayName="PaymentMethods";var D=R;t.default=D},895426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.userInRefundExperiment=function(e,t,n){var o,i,l,u;if(null===(o=e.subscription)||void 0===o||null===(i=o.metadata)||void 0===i?void 0:i.is_holiday_promotion_2021)return!1;if(null===(l=e.subscription)||void 0===l||null===(u=l.metadata)||void 0===u?void 0:u.is_egs)return!0
;if(null!=t&&r.has(t))return!0;if(Object.values(n).some((function(e){return r.has(e.country)})))return!0;var s=a.getCurrentConfig({}).enabled;a.trackExposure({});return s};var a=(0,n(373505).createExperiment)({id:"2021-08_user_initiated_refunds",label:"User Initiated Refunds",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Can refund",config:{enabled:!0}}]}),r=new Set(["BR","TR","PL"])},169404:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294))
;var a,r=p(n(294184)),o=p(n(213847)),i=p(n(155502)),l=p(n(754416)),u=p(n(314234)),s=p(n(730977)),d=p(n(308920)),f=n(770348),c=p(n(233873));function p(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.disabled,n=void 0!==t&&t,a=e.type,p=e.className,S=e.innerClassName,m=e.onConnect,E=(0,o.default)();var _=i.default.get(a);return v(s.default,{text:_.name},void 0,(function(e){var t=e.onMouseEnter,o=e.onMouseLeave
;return v("div",{className:(0,r.default)(c.default.wrapper,p)},void 0,v(u.default,{},void 0,v("button",{onMouseEnter:t,onMouseLeave:o,className:(0,r.default)(c.default.inner,S),type:"button",disabled:n,style:{backgroundImage:"url('"+(E===f.ThemeTypes.DARK?_.icon.darkSVG:_.icon.lightSVG)+"')"},onClick:null!=m?m:function(){return function(e){var t=i.default.get(e);(0,l.default)(t.type,"Friends List");d.default.track(f.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})}(a)},"aria-label":_.name})))}))};m.displayName="ConnectAccountButton";var E=m;t.default=E},781771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.features;return r.createElement(r.Fragment,null,t.map((function(e,t){var n;return f(i.default,{align:i.default.Align.CENTER,className:(0,o.default)(u.default.marginTop20,l.default.feature,(n={},n[l.default.featureBorder]=0!==t,n))},t,null!=e.icon?f("div",{
className:(0,o.default)(l.default.icon,e.icon)}):null,f("div",{},void 0,null!=e.title?f("div",{className:(0,o.default)(u.default.marginBottom8,l.default.title)},void 0,e.title):null,f("div",{className:l.default.description},void 0,e.description)))})))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=s(n(294184)),i=s(n(530250)),l=s(n(756108)),u=s(n(380203));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},498811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=n(178598),i=(a=n(387316))&&a.__esModule?a:{default:a},l=n(864489);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleFileDownload=function(e){e.preventDefault();var n=t.getFileContents(),a=t.props,r=a.fileName,o=a.onDownload;l.isPlatformEmbedded?t.downloadNative(n,r):t.downloadHtml5(n,r);null==o||o()};return t}var n=t.prototype;n.getFileContents=function(){var e=this.props.fileContents;"function"==typeof e&&(e=e());return e};n.downloadNative=function(e,t){i.default.fileManager.saveWithDialog(e,t)};n.downloadHtml5=function(e,t){var n=new Blob([e],{
type:this.props.contentType});(0,o.saveAs)(n,t)};n.render=function(){var e=this.props.children,t=r.Children.only(e);return r.cloneElement(t,{onClick:this.handleFileDownload})};return t}(r.Component);t.default=d;d.displayName="FileDownloader"},756511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=s(n(294184)),i=s(n(974661)),l=n(770348),u=s(n(211906));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(d=function(e){return e?n:t})(e)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID,a=e.videoClassName;return f(i.default,{aspectRatio:16/9,className:(0,o.default)(t,u.default.videoWrapper)},void 0,f("iframe",{className:(0,o.default)(a,u.default.video),
src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://"+l.PRIMARY_DOMAIN,allowFullScreen:!0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"}))};return t}(r.Component);t.default=p;p.displayName="PromoVideo"},810139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=d(n(781771)),i=d(n(756511)),l=d(n(971639)),u=d(n(247001)),s=d(n(439324));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return c("div",{className:s.default.features},void 0,c(i.default,{className:s.default.video,videoID:"SWzB1mx2o5k"}),c(l.default,{className:s.default.perksHeading
},void 0,u.default.Messages.HYPESQUAD_PERKS_HEADING),c(o.default,{features:[{icon:s.default.perkNewsletter,title:u.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:s.default.perkBadge,title:u.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:s.default.perkChallenges,title:u.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))};return t}(r.Component);S.displayName="HypeSquadPerks";var v=S;t.default=v},508875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r,o,i,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),u=g(n(294184)),s=g(n(956117)),d=g(n(16941)),f=g(n(530250)),c=n(194322),p=g(n(971639)),S=g(n(776360)),v=n(35570),m=n(770348),E=g(n(247001)),_=g(n(403080));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function O(e,t,n,a){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=a;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}if(t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}
function T(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){T(o,a,r,i,l,"next",e)}function l(e){T(o,a,r,i,l,"throw",e)}i(void 0)}))}}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var N=((a={})[m.HypeSquadHouses.HOUSE_1]=_.default.membershipDialogHouse1,a[m.HypeSquadHouses.HOUSE_2]=_.default.membershipDialogHouse2,a[m.HypeSquadHouses.HOUSE_3]=_.default.membershipDialogHouse3,a),A=((r={})[m.HypeSquadHouses.HOUSE_1]=_.default.houseLogoHouse1,r[m.HypeSquadHouses.HOUSE_2]=_.default.houseLogoHouse2,r[m.HypeSquadHouses.HOUSE_3]=_.default.houseLogoHouse3,r),M=((o={})[m.HypeSquadHouses.HOUSE_1]=n(903049),o[m.HypeSquadHouses.HOUSE_2]=n(188374),o[m.HypeSquadHouses.HOUSE_3]=n(789621),o),b=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;I(e,t)}(t,e);function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];(t=e.call.apply(e,[this].concat(r))||this).handleJoinHypeSquadClick=function(){(0,c.openModalLazy)(h(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(86396)]).then(n.bind(n,186396));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return l.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))};return t}t.prototype.render=function(){var e,t,n=this.props,a=n.houseMembership,r=n.isClaimed,o=n.isVerified;if(!r||!o)return null;if(null!=a){var i=E.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:(0,v.getHouseNameFromHouseID)(a)});return O("div",{className:(0,u.default)(_.default.membershipDialog,N[a])},void 0,O("div",{className:_.default.membershipDialogContent
},void 0,O(f.default,{},void 0,O(f.default.Child,{grow:1,shrink:1},void 0,O(S.default,{className:_.default.membershipDialogHeading,size:S.default.Sizes.SIZE_12},void 0,E.default.Messages.HYPESQUAD_YOUR_HOUSE),O(p.default,{className:_.default.membershipDialogHouseName},void 0,i),O(S.default,{className:_.default.membershipDialogHouseDescription,size:S.default.Sizes.SIZE_16},void 0,(e=a,((t={})[m.HypeSquadHouses.HOUSE_1]=E.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_1,t[m.HypeSquadHouses.HOUSE_2]=E.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_2,t[m.HypeSquadHouses.HOUSE_3]=E.default.Messages.HYPESQUAD_DESCRIPTION_HOUSE_3,t)[e]))),O(f.default.Child,{className:_.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,O("img",{className:(0,u.default)(_.default.houseLogo,A[a]),src:M[a],alt:i}))),O(S.default,{className:_.default.membershipDialogSwitchHouses,size:S.default.Sizes.SIZE_16},void 0,E.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,O(d.default,{
className:_.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,E.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return O("div",{className:_.default.joinCTAWrapper},void 0,O(f.default,{className:_.default.joinCTA,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER,direction:f.default.Direction.HORIZONTAL},void 0,O(f.default.Child,{grow:0,shrink:0},void 0,O(S.default,{},void 0,E.default.Messages.HYPESQUAD_READY_TO_REP)),O(f.default.Child,{grow:0,shrink:0},void 0,O(s.default,{onClick:this.handleJoinHypeSquadClick},void 0,E.default.Messages.HYPESQUAD_JOIN))),O(S.default,{className:_.default.newsletterWarning},void 0,E.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))};return t}(l.Component);t.default=b;b.displayName="JoinHypeSquadCTA"},677837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=d(n(951864)),i=d(n(956117)),l=d(n(776360)),u=d(n(247001)),s=d(n(498863));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).state={isRequestPending:!1,hasError:!1};t.handleLeaveHypeSquadError=function(){t.setState({hasError:!0})};t.handleLeaveHypeSquadClick=function(){t.setState({isRequestPending:!0},(function(){o.default.leaveHypeSquadOnline().then((function(){t.setState({isRequestPending:!1})})).catch((function(){t.setState({hasError:!0,isRequestPending:!1})}))}))};return t}var n=t.prototype;n.renderErrorMessage=function(){return this.state.hasError?c("div",{className:s.default.error
},void 0,u.default.Messages.HYPESQUAD_LEAVE_ERROR):null};n.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?c("div",{className:s.default.leaveActionWrapper},void 0,this.renderErrorMessage(),c(l.default,{},void 0,u.default.Messages.HYPESQUAD_LEAVE_PROMPT,c(i.default,{className:s.default.leaveButton,color:i.default.Colors.LINK,look:i.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:i.default.Sizes.NONE,submitting:e},void 0,u.default.Messages.HYPESQUAD_LEAVE_ACTION))):null};return t}(r.PureComponent);t.default=S;S.displayName="UserSettingsHypeSquad"},326353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=O(n(496486)),i=O(n(163521)),l=O(n(358916)),u=O(n(728429)),s=O(n(956117)),d=O(n(530250)),f=O(n(279950)),c=O(n(588417)),p=O(n(37241)),S=O(n(662197)),v=n(3400),m=O(n(971639)),E=O(n(776360)),_=n(135628),g=O(n(247001)),y=O(n(653045));function O(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function I(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3]
;t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=function(e){var t=e.image,n=e.label,a=e.text,r=e.children;return I(d.default,{className:y.default.spacing},void 0,I(d.default,{grow:0,shrink:0,basis:"156px",justify:d.default.Justify.CENTER,className:y.default.image},void 0,t),I(d.default,{direction:d.default.Direction.VERTICAL,justify:d.default.Justify.CENTER},void 0,I("div",{},void 0,I(S.default,{tag:S.default.Tags.H5,className:y.default.headerSpacing},void 0,n),I(p.default,{type:p.default.Types.DESCRIPTION},void 0,a),r)))};N.displayName="ModalSection";var A=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;h(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).headerID=o.default.uniqueId();t.state={code:"",totpSecret:(0,
_.generateTotpSecret)(),error:null,isVerifying:!1};t.handleCodeChange=function(e){t.setState({code:e})};t.handleActivate=function(e){e.preventDefault();var n=t.props.password,a=t.state,r=a.totpSecret,o=a.code;t.setState({isVerifying:!0});i.default.enable({password:n,code:o,secret:(0,_.encodeTotpSecret)(r)}).then(t.handleActivateSuccess,(function(e){return t.setState({error:e.body.message,isVerifying:!1})}))};t.handleActivateSuccess=function(){var e=t.props,n=e.onClose,a=e.handleEnableMFASuccess;t.setState({isVerifying:!1});null!=n&&n();a()};return t}t.prototype.render=function(){var e,t=this.props,a=t.transitionState,r=t.onClose,o=this.state,i=o.totpSecret,p=o.code,O=o.isVerifying,T=null===(e=u.default.getCurrentUser())||void 0===e?void 0:e.email,h=(0,_.encodeTotpSecretAsUrl)(null!=T?T:"",i),A=I("form",{onSubmit:this.handleActivate},void 0,I(d.default,{className:y.default.inputContainer,align:d.default.Align.START},void 0,I(f.default,{value:p,className:y.default.input,
placeholder:"000 000",maxLength:7,autoComplete:"one-time-code",onChange:this.handleCodeChange,error:this.state.error,autoFocus:!0}),I(d.default.Child,{grow:0,shrink:0},void 0,I(s.default,{type:"submit",submitting:O},void 0,g.default.Messages.TWO_FA_ACTIVATE))));return I(v.ModalRoot,{"aria-labelledby":this.headerID,transitionState:a,size:v.ModalSize.DYNAMIC,className:y.default.customWidth},void 0,I(v.ModalHeader,{separator:!1},void 0,I(d.default.Child,{grow:1,shrink:1},void 0,I(m.default,{tag:m.default.Tags.H2,size:m.default.Sizes.SIZE_20},void 0,g.default.Messages.TWO_FA_ENABLE),I(E.default,{size:E.default.Sizes.SIZE_12,className:y.default.subHeader},void 0,g.default.Messages.TWO_FA_ENABLE_SUBHEADER)),I(d.default.Child,{grow:0},void 0,I(v.ModalCloseButton,{onClick:r}))),I(v.ModalContent,{},void 0,I(N,{image:I("img",{alt:"",src:n(549933),width:100,height:100}),label:g.default.Messages.TWO_FA_DOWNLOAD_APP_LABEL,text:g.default.Messages.TWO_FA_DOWNLOAD_APP_BODY.format({
googleAuthURL:"https://support.google.com/accounts/answer/1066447?hl=en",authyURL:"https://www.authy.com/"})}),I(c.default,{className:y.default.divider}),I(N,{image:I(l.default,{text:h}),label:g.default.Messages.TWO_FA_QR_LABEL,text:g.default.Messages.TWO_FA_QR_BODY},void 0,I("div",{className:y.default.topSpacing},void 0,I(S.default,{tag:S.default.Tags.H5,className:y.default.headerSpacing},void 0,g.default.Messages.TWO_FA_KEY),I(E.default,{size:E.default.Sizes.SIZE_16,className:y.default.secret,selectable:!0},void 0,i))),I(c.default,{className:y.default.divider}),I(N,{image:I("img",{alt:"",src:n(336751)}),label:g.default.Messages.TWO_FA_LOGIN_LABEL,text:g.default.Messages.TWO_FA_LOGIN_BODY},void 0,A)))};return t}(r.PureComponent);A.displayName="MFAEnable";var M=A;t.default=M},886279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{
default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=P(n(441143)),i=P(n(536211)),l=P(n(163521)),u=P(n(498811)),s=P(n(54725)),d=P(n(268389)),f=n(947472),c=P(n(753304)),p=P(n(728429)),S=P(n(956117)),v=P(n(530250)),m=n(354479),E=P(n(588417)),_=P(n(662197)),g=n(502197),y=n(3400),O=n(194322),T=P(n(971639)),h=P(n(776360)),I=P(n(149342)),N=n(770348),A=n(52656),M=P(n(247001)),b=P(n(748350)),C=["label","text","children"];function P(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}function L(){
L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return L.apply(this,arguments)}function U(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=function(e){var t=e.label,n=e.text,a=e.children,o=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,C);return r.createElement(v.default,L({direction:v.default.Direction.VERTICAL},o),U(_.default,{tag:_.default.Tags.H2},void 0,t),null!=n?U(h.default,{size:h.default.Sizes.SIZE_16,
className:b.default.sectionBody},void 0,n):null,U(v.default.Child,{wrap:!0},void 0,a))};w.displayName="ModalSection";var k=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).state={didAddBackup:!1,showConfirmModal:!1};t.headerId=(0,m.uid)();t.handleCloseModal=function(){var e=t.props,n=e.onClose,a=e.currentUser,r=t.state.didAddBackup,o=a.hasFlag(N.UserFlags.MFA_SMS);r||o?null==n||n():t.setState({showConfirmModal:!0})};t.getDownloadFileContents=function(){var e=t.props.backupCodes.map((function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"("+M.default.Messages.TWO_FA_BACKUP_CODE_USED+")":"")})).join("\r\n");return M.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e};t.handleChangePhoneNumber=function(){
t.openPhoneVerificationModal()};t.handleEnableSMS=function(){var e=function(){(0,O.openModal)((function(e){return r.createElement(I.default,L({},e,{handleSubmit:function(e){t.setState({didAddBackup:!0});return l.default.enableSMS(e)},title:M.default.Messages.MFA_SMS_ENABLE}))}))};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()};return t}var n=t.prototype;n.renderSMSSection=function(){var e=this.props.currentUser,t=null!=this.props.currentUser.phone,n=e.hasFlag(N.UserFlags.MFA_SMS),a=e.hasFlag(N.UserFlags.PARTNER)||e.hasFlag(N.UserFlags.STAFF);return t?U(w,{label:M.default.Messages.MFA_SMS_ENABLE,text:M.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,U(h.default,{size:h.default.Sizes.SIZE_16,className:b.default.sectionBody},void 0,U("strong",{className:b.default.phoneNumber},void 0,M.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:e.phone})),U(S.default,{look:S.default.Looks.LINK,color:S.default.Colors.LINK,size:S.default.Sizes.MIN,
className:b.default.linkButton,onClick:this.handleChangePhoneNumber},void 0,M.default.Messages.CHANGE_PHONE_NUMBER)),U(S.default,{onClick:this.handleEnableSMS,disabled:n||a,color:S.default.Colors.GREEN,size:S.default.Sizes.SMALL},void 0,a?M.default.Messages.MFA_SMS_DISABLED_PARTNER:n?M.default.Messages.MFA_SMS_ALREADY_ENABLED:M.default.Messages.MFA_SMS_ENABLE)):U(w,{label:M.default.Messages.MFA_SMS_ENABLE,text:M.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,U(S.default,{onClick:this.handleEnableSMS,color:S.default.Colors.GREEN,size:S.default.Sizes.SMALL,disabled:a},void 0,a?M.default.Messages.MFA_SMS_DISABLED_PARTNER:M.default.Messages.MFA_SMS_ADD_PHONE))};n.renderBackupCodesSection=function(){var e=this;return U(w,{label:M.default.Messages.TWO_FA_DOWNLOAD_CODES,text:M.default.Messages.TWO_FA_BACKUP_CODES_WARNING.format()},void 0,U(u.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",onDownload:function(){
return e.setState({didAddBackup:!0})}},void 0,U(S.default,{color:S.default.Colors.GREEN,size:S.default.Sizes.SMALL},void 0,M.default.Messages.TWO_FA_DOWNLOAD_CODES)))};n.renderHeader=function(){return U(y.ModalHeader,{separator:!1,id:this.headerId},void 0,U(v.default.Child,{grow:1,shrink:1},void 0,U(T.default,{tag:T.default.Tags.H2,size:T.default.Sizes.SIZE_20,className:b.default.header},void 0,d.default.parse(M.default.Messages.TWO_FA_SUCCESS_HEADER)),U(h.default,{size:h.default.Sizes.SIZE_12,className:b.default.subHeader},void 0,M.default.Messages.MFA_SMS_ENABLE_SHOULD_DO.format())),U(v.default.Child,{grow:0},void 0,U(y.ModalCloseButton,{onClick:this.handleCloseModal})))};n.renderConfirmModal=function(){var e=this,t=this.props.onClose;return U(g.DeclarativeConfirmModal,{dismissable:!0,header:M.default.Messages.TWO_FA_CONFIRM_TITLE,confirmText:M.default.Messages.TWO_FA_CONFIRM_CONFIRM,cancelText:M.default.Messages.CANCEL,onCancel:function(){return e.setState({showConfirmModal:!1})},
onConfirm:t},void 0,U(h.default,{size:h.default.Sizes.SIZE_16,color:h.default.Colors.STANDARD},void 0,M.default.Messages.TWO_FA_CONFIRM_BODY))};n.render=function(){var e=this.props.transitionState,t=this.state.showConfirmModal;return U(y.ModalRoot,{transitionState:e,className:b.default.modal,"aria-labelledby":this.headerId},void 0,this.renderHeader(),U(y.ModalContent,{className:b.default.modalInner},void 0,this.renderSMSSection(),U(E.default,{className:b.default.divider}),this.renderBackupCodesSection()),t&&this.renderConfirmModal())};n.openPhoneVerificationModal=function(e){void 0===e&&(e={});(0,O.openModal)((function(t){return r.createElement(s.default,L({reason:f.ChangePhoneReason.MFA_PHONE_UPDATE},t,e))}),{modalKey:A.PHONE_VERIFICATION_MODAL_KEY})};return t}(r.PureComponent);k.displayName="MFAEnableSuccess";var B=i.default.connectStores([p.default,c.default],(function(){var e=p.default.getCurrentUser();(0,o.default)(null!=e,"MFAEnableSuccess: currentUser cannot be undefined")
;return{currentUser:e,backupCodes:c.default.getBackupCodes()}}))(k);t.default=B},351336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=(0,n(373505).createExperiment)({kind:"user",id:"2021-11_compact_avatars",label:"Compact Avatars",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});t.default=a},646002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uploadDebugFiles=function(){return v.apply(this,arguments)};var a=f(n(980569)),r=n(327269),o=f(n(791548)),i=f(n(635014)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}
a.default=e;n&&n.set(e,a);return a}(n(905835)),u=f(n(387316)),s=n(770348);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){c(o,a,r,i,l,"next",e)}function l(e){c(o,a,r,i,l,"throw",e)}i(void 0)}))}}var S=25e5;function v(){return(v=p(regeneratorRuntime.mark((function e(){var t,n,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=u.default.fileManager.readLogFiles){e.next=2;break}throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.GENERAL);case 2:t=[];e.prev=3;e.next=6;return u.default.fileManager.readLogFiles(S);case 6:t=(t=e.sent).map((function(e){
return l.transformNativeFile(e,"application/octet-stream")}));e.next=14;break;case 10:e.prev=10;e.t0=e.catch(3);console.log("uploadDebugFiles: read error '"+e.t0+"'");throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.READ);case 14:if(0!==t.length){e.next=16;break}throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.NO_FILE);case 16:e.prev=16;n=a.default.post(s.Endpoints.DEBUG_LOGS(s.DebugLogCategory.RTC));t.forEach((function(e){return n.attach(e.name,e,e.name)}));d=new Blob([JSON.stringify(i.default.getState(),void 0,2)]);n.attach("media_engine_state.json",d,"media_engine_state.json");e.next=23;return n;case 23:e.next=33;break;case 25:e.prev=25;e.t1=e.catch(16);if(429!==e.t1.status){e.next=31;break}throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.PROGRESS);case 31:new o.default("DebugUploadManager").error("Debug log upload error: status: "+e.t1.status+", message: "+e.t1.message);throw new r.UploadVoiceDebugLogsError(r.UploadErrorCodes.UPLOAD);case 33:case"end":
return e.stop()}}),e,null,[[3,10],[16,25]])})))).apply(this,arguments)}},285629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return y.apply(this,arguments)};var a=v(n(131795)),r=n(138864),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(997359)),i=n(919094),l=n(483559),u=n(139982),s=v(n(423046)),d=v(n(544196)),f=v(n(308920)),c=v(n(924117)),p=n(770348);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}
function m(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){m(o,a,r,i,l,"next",e)}function l(e){m(o,a,r,i,l,"throw",e)}i(void 0)}))}}function _(e){return g.apply(this,arguments)}function g(){return(g=E(regeneratorRuntime.mark((function e(t){var n,i,u,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Android"!==(i=null===(n=a.default.os)||void 0===n?void 0:n.family)&&"iOS"!==i){e.next=14;break}d=null!==(u=s.default.getFingerprint())&&void 0!==u?u:s.default.getId();f=(0,o.generateAttemptId)();if(null!=d||!s.default.isAuthenticated()){e.next=13;break}e.prev=5;e.next=8;return(0,l.fetchCurrentUser)();case 8:d=s.default.getId();e.next=13;break;case 11:e.prev=11;e.t0=e.catch(5);case 13:return e.abrupt("return",(0,o.default)((0,r.getDefaultDynamicLinkTemplate)(),{utmSource:t,
fingerprint:d,attemptId:f}));case 14:return e.abrupt("return","discord://");case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function y(){return(y=E(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return _(t);case 2:n=e.sent;null!=(a=(0,o.parseDynamicLink)(n))&&f.default.track(p.AnalyticEvents.DEEP_LINK_CLICKED,{fingerprint:(0,i.maybeExtractId)(a.fingerprint),attempt_id:a.attemptId,source:a.utmSource});c.default.launch(n,(function(e){e||(0,u.replaceWith)(d.default.fallbackRoute)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},832215:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.useGlobalHasAvatarDecorations=function(){return(0,o.default)(i,(function(e){return e.canUseAvatarDecorations}))};var a,r=n(373505),o=(a=n(548156))&&a.__esModule?a:{default:a};var i=(0,r.createExperiment)({kind:"guild",
id:"2022-03_avatar_decorations",label:"Avatar Decorations",defaultConfig:{canUseAvatarDecorations:!1},treatments:[{id:1,label:"Allow use of avatar decorations",config:{canUseAvatarDecorations:!0}}]}),l=i;t.default=l},871615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS=t.BUILD_OVERRIDE_EXPIRATION_OPTIONS=void 0;t.BUILD_OVERRIDE_EXPIRATION_OPTIONS=[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}];t.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS=[{value:"all",label:"All"},{value:"canary",label:"Canary"},{value:"ptb",label:"PTB"},{value:"stable",label:"Stable"},{value:"staging",label:"Staging"}]},915539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),r=n(194322),o=n(78330),i=n(478036);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return u.apply(this,arguments)}function s(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){
var o=e.apply(t,n);function i(e){s(o,a,r,i,l,"next",e)}function l(e){s(o,a,r,i,l,"throw",e)}i(void 0)}))}}var f={openNewUserAgeGateModal:function(e){(0,r.openModalLazy)(d(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(90140)]).then(n.bind(n,990140));case 2:t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,e)}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:o.NEW_USER_AGE_GATE_MODAL_KEY,onCloseRequest:i.NOOP,onCloseCallback:e})},openClaimAccountModal:function(e,t){void 0===e&&(e=!1);(0,r.openModalLazy)(d(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return Promise.all([n.e(40532),n.e(57133)]).then(n.bind(n,304388));case 2:r=t.sent;o=r.default;return t.abrupt("return",(function(t){return a.createElement(o,u({claimRequired:e},t))}));case 5:
case"end":return t.stop()}}),t)}))),{onCloseRequest:e?i.NOOP:null,onCloseCallback:t})}};t.default=f},142721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(923387),l=n(828593),u=E(n(960441)),s=E(n(956117)),d=E(n(530250)),f=E(n(665759)),c=E(n(567668)),p=n(688388),S=E(n(776360)),v=n(925179),m=E(n(380203));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}
function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}
function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){var t=e.contents,n=e.content,a=(0,v.hasBit)(t,i.DismissibleContent[n]);return r.createElement(r.Fragment,null,O(c.default,{value:a,onChange:function(){a?(0,l.removeDismissedContent)(i.DismissibleContent[n]):(0,l.addDismissedContent)(i.DismissibleContent[n])}},void 0,O(p.FormText,{size:S.default.Sizes.SIZE_16,className:m.default.marginTop4},void 0,n.toLowerCase()+" ("+i.DismissibleContent[n]+")")))}var h=O(p.FormTitle,{},void 0,"Available Dismissible Contents"),I=O("div",{},void 0,O(p.FormTitle,{},void 0,"Dismissed"));function N(){
var e,t=g(r.useState(""),2),n=t[0],a=t[1],c=null!==(e=(0,o.useStateFromStores)([u.default],(function(){var e;return null===(e=u.default.settings.userContent)||void 0===e?void 0:e.dismissedContents})))&&void 0!==e?e:new Uint8Array;return O(p.FormSection,{title:"Dismissible Contents",tag:p.FormTitleTags.H1},void 0,O(f.default,{className:m.default.marginBottom20,size:f.default.Sizes.LARGE,query:n,onChange:a,onClear:function(){return a("")}}),O(d.default,{className:m.default.marginBottom20},void 0,h,I),Object.keys(i.DismissibleContent).filter((function(e){return e.toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){return e.localeCompare(t)})).map((function(e){if(isNaN(Number(e)))return O(T,{contents:c,content:e},e)})),O(s.default,{look:s.default.Looks.LINK,onClick:l.clearDismissedContents},void 0,"Clear All Dismissed Contents"))}N.displayName="DismissibleContentConfiguration"},849237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.toggleExpressionSuggestionsEnabled=void 0;var a,r=(a=n(636602))&&a.__esModule?a:{default:a},o=n(770348);t.toggleExpressionSuggestionsEnabled=function(){r.default.dispatch({type:o.ActionTypes.EXPRESSION_SUGGESTIONS_TOGGLE})}},232207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var a,r,o=c(n(667294)),i=c(n(145122)),l=n(194322),u=n(770348),s=n(474477),d=(a=n(247001))&&a.__esModule?a:{default:a};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)
;return a}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return S.apply(this,arguments)}function v(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){v(o,a,r,i,l,"next",e)}function l(e){v(o,a,r,i,l,"throw",e)}i(void 0)}))}}function E(e){
var t=e.guildBoostSlot,a=e.onClose,r=e.hasCancelableGuildBoostSlot,f=e.premiumSubscription,c=e.onSelect;var v=f.status===u.SubscriptionStatusTypes.PAST_DUE;return p(i.default,{onSelect:c,navId:"subscription-context",style:i.MenuStyle.FIXED,"aria-label":d.default.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:a},void 0,p(i.MenuItem,{id:"apply",label:null!=t.premiumGuildSubscription?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SELECT_SERVER_BUTTON,subtext:t.isOnCooldown()?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TRANSFER_BUTTON_DISABLED_TOOLTIP:null,action:function(){(0,l.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(99431),n.e(95289)]).then(n.bind(n,195289));case 2:a=e.sent;r=a.default;return e.abrupt("return",(function(e){return o.createElement(r,S({},e,{
guildBoostSlots:[t],locationSection:u.AnalyticsSections.SETTINGS_PREMIUM}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:t.isOnCooldown()}),t.canceled?p(i.MenuItem,{id:"uncancel",label:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_UNCANCEL_BUTTON,subtext:v?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null,action:function(){(0,l.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(82188)]).then(n.bind(n,282188));case 2:a=e.sent;r=a.default;return e.abrupt("return",(function(e){return o.createElement(r,S({},e,{guildBoostSlotId:t.id}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:v}):p(i.MenuItem,{id:"cancel",label:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SLOT_CANCEL_BUTTON,
subtext:r?v?d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_PAST_DUE_TOOLTIP:null:d.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CANCEL_BUTTON_DISABLED_TOOLTIP,action:function(){(0,l.openModalLazy)(m(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(8906)]).then(n.bind(n,908906));case 2:a=e.sent;r=a.default;return e.abrupt("return",(function(e){return o.createElement(r,S({},e,{guildBoostSlot:t}))}));case 5:case"end":return e.stop()}}),e)}))))},disabled:!r||v,color:s.MenuItemColor.DANGER}))}E.displayName="GuildBoostSlotPopout"},843675:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,l.useStateFromStores)([p.default],(function(){return p.default.getPremiumTypeSubscription()})),t=(0,l.useStateFromStores)([c.default],(function(){return c.default.boostSlots})),n=(0,
i.default)(t).filter((function(e){return e.isAvailable()})).value(),a=(0,i.default)(t).groupBy((function(e){var t=e.premiumGuildSubscription;return null!=t?t.guildId:G})).value(),o=a[0],u=Object.keys(a).filter((function(e){return e!==G}));if(0===u.length&&null==o||null==e)return null;var s=(0,i.default)(t).filter((function(e){return!e.canceled})).value().length,d=b.default.getNumIncludedPremiumGuildSubscriptionSlots(e.planId),f=s>d;return r.createElement(r.Fragment,null,B(h.default,{size:h.default.Sizes.SIZE_14,className:U.default.blurb},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBTITLE.format({helpdeskArticle:M.default.getArticleURL(D.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),null!=o?B(V,{guildId:G,guildBoostSlots:o,premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:f}):null,u.length>0?r.createElement(r.Fragment,null,B(T.default,{size:T.default.Sizes.SIZE_12,className:U.default.subSectionHeader
},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_ACTIVE_TITLE),u.map((function(t){return B(V,{guildId:t,guildBoostSlots:a[t],premiumSubscription:e,availableGuildBoostSlots:n,hasCancelableGuildBoostSlot:f},t)}))):null)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=w(n(294184)),i=w(n(496486)),l=n(536211),u=n(264720),s=w(n(683767)),d=n(95034),f=w(n(30098)),c=w(n(890535)),p=w(n(146771)),S=w(n(151097)),v=w(n(16941)),m=w(n(380439)),E=w(n(160629)),_=w(n(638707)),g=w(n(782732)),y=w(n(301927)),O=w(n(417184)),T=w(n(971639)),h=w(n(776360)),I=n(308920),N=w(n(692711)),A=n(682937),M=w(n(550270)),b=w(n(838583)),C=w(n(71636)),P=w(n(232207)),R=n(796274),D=n(770348),L=w(n(247001)),U=w(n(193655));function w(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function B(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return F.apply(this,arguments)}var G="0";function j(e){var t=e.deadline,n=(0,s.default)(t,1e3),a=n.days,o=n.hours,i=n.minutes;return r.createElement(r.Fragment,null,L.default.Messages.PREMIUM_GUILD_COOLDOWN_AVAILABLE_COUNTDOWN.format({days:a,hours:o,minutes:i}))}function H(e){var t=e.guild,n=e.guildBoostSlots,a=e.availableGuildBoostSlots,o=r.useContext(I.AnalyticsContext),i=t.premiumSubscriberCount,l=n.sort((function(e,t){return Number(null!=e.premiumGuildSubscription?e.premiumGuildSubscription.id:0)-Number(null!=t.premiumGuildSubscription?t.premiumGuildSubscription.id:0)}))[0];if(null==l)return null;var s=null!=l.premiumGuildSubscription?C.default.extractTimestamp(l.premiumGuildSubscription.id):0,f=(0,A.getAppliedGuildBoostMonths)(s)
;var c=null!=t.banner?N.default.getGuildBannerURL(t):null;return B("div",{className:U.default.guildHeader},void 0,B("div",{className:U.default.guildHeaderBackground,style:{backgroundImage:null!=c?"url("+c+")":void 0}}),B(m.default,{guild:t,className:U.default.guildIcon}),B("div",{className:U.default.guildHeaderContent},void 0,B(T.default,{size:T.default.Sizes.SIZE_16,className:U.default.guildName},void 0,t.name),B(h.default,{size:h.default.Sizes.SIZE_12,className:U.default.guildSubscriptionDuration},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_DURATION.format({months:f,date:new Date(s)})),B(h.default,{size:h.default.Sizes.SIZE_12,className:U.default.guildSubscriberCount},void 0,B(g.default,{className:U.default.guildSubscriberCountIcon}),B("div",{},void 0,L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:n.length})),0!==a.length?B(S.default,{onClick:function(){if(0!==a.length){var e=F({},o.location,{
section:D.AnalyticsSections.SETTINGS_PREMIUM});(0,R.addAppliedGuildBoosts)({analyticsLocation:e,guild:t})}},className:U.default.guildSubscribeButton},void 0,L.default.Messages.PREMIUM_GUILD_PERKS_MODAL_BUTTON_SUBSCRIBE_THIS_SERVER):null)),B("div",{className:U.default.guildGemIndicatorContainer},void 0,B(v.default,{onClick:function(){(0,d.transitionToGuild)(t.id);(0,u.popLayer)()}},void 0,B(_.default,{className:U.default.gemIndicator,subscriberCount:i,guildId:t.id}))))}H.displayName="BoostingTargetGuildHeader";var x=B(y.default,{});function Y(e){var t,n=e.guildBoostSlot,a=e.premiumSubscription,i=e.hasCancelableGuildBoostSlot,l=null!=n.cooldownEndsAt?new Date(n.cooldownEndsAt):null,u=null!=l&&l>new Date,s=null!=n.premiumGuildSubscription?new Date(C.default.extractTimestamp(n.premiumGuildSubscription.id)):null,d=n.canceled;var f=d?O.default:g.default;return B("div",{className:U.default.guildSubscriptionSlot},void 0,B(f,{className:(0,o.default)(U.default.guildSubscriptionSlotIcon,(t={},
t[U.default.guildSubscriptionSlotIconCanceled]=d,t))}),B("div",{className:U.default.guildSubscriptionSlotContent},void 0,B(h.default,{size:h.default.Sizes.SIZE_14,className:U.default.guildSubscriptionCreationDate},void 0,null!=s?L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_CREATION_DATE.format({date:s}):L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UNUSED_SLOT_DESCRIPTION),B(h.default,{size:h.default.Sizes.SIZE_12,color:h.default.Colors.MUTED},void 0,u&&null!=l?B(j,{deadline:l.getTime()}):null,u&&d?"  ":null,d?L.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_PENDING_CANCELATION.format({date:a.currentPeriodEnd}):null)),B(E.default,{renderPopout:function(e){var t=e.closePopout;return B(P.default,{onClose:t,guildBoostSlot:n,premiumSubscription:a,hasCancelableGuildBoostSlot:i})},position:E.default.Positions.RIGHT,align:E.default.Align.CENTER},void 0,(function(e){return r.createElement(v.default,F({},e,{"aria-label":L.default.Messages.MORE_OPTIONS,
className:U.default.guildSubscriptionSlotMenuIcon}),x)})))}Y.displayName="GuildBoostSlot";function V(e){var t=e.guildId,n=e.guildBoostSlots,a=e.premiumSubscription,r=e.availableGuildBoostSlots,o=e.hasCancelableGuildBoostSlot,i=(0,l.useStateFromStores)([f.default],(function(){return t!==G?f.default.getGuild(t):null}));return null==i&&t!==G?null:B("div",{className:U.default.guild},void 0,null!=i?B(H,{guild:i,guildBoostSlots:n,availableGuildBoostSlots:r}):null,B("div",{className:U.default.guildSubscriptionSlots},void 0,n.map((function(e){return B(Y,{guildBoostSlot:e,premiumSubscription:a,hasCancelableGuildBoostSlot:o},e.id)}))))}V.displayName="BoostingTargetGuild"},45738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=_(n(294184)),i=n(536211),l=_(n(754295)),u=_(n(146771)),s=_(n(956117)),d=_(n(873376)),f=_(n(971639)),c=_(n(776360)),p=n(770348),S=_(n(247001)),v=_(n(58131)),m=_(n(56397)),E=_(n(709804));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,
ref:null,props:t,_owner:null}}var O=y(d.default,{size:4}),T=y(d.default,{size:24});function h(e){var t=e.onClickManageSubscription,n=(0,i.useStateFromStores)([u.default],(function(){return u.default.getSubscriptions()})),a=r.useMemo((function(){return Object.values(null!=n?n:{}).filter((function(e){return e.type===p.SubscriptionTypes.GUILD})).filter((function(e){return e.status!==p.SubscriptionStatusTypes.ENDED}))}),[n]);return 0===a.length?null:y("div",{className:v.default.container},void 0,y(f.default,{size:f.default.Sizes.SIZE_16,className:v.default.sectionTitle},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE),O,y(c.default,{size:c.default.Sizes.SIZE_14,className:v.default.sectionDescription},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_DESCRIPTION),T,y("div",{className:(0,o.default)(m.default.guildBoostingSubscriptionRow,v.default.card)},void 0,y("img",{src:E.default,alt:"",className:v.default.handImage}),y("div",{
className:v.default.textContainer},void 0,y(f.default,{size:f.default.Sizes.SIZE_24,className:v.default.header},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_USER_SUBSCRIPTIONS_TITLE),y(c.default,{size:c.default.Sizes.SIZE_16,className:v.default.description},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_ACTIVE_USER_SUBSCRIPTIONS_DESCRIPTION.format({numSubscriptions:a.length}))),y(l.default,{color:s.default.Colors.BRAND,onClick:t},void 0,S.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_MANAGE_SUBSCRIPTIONS_BUTTON)))}h.displayName="GuildRoleSubscriptionsSection"},101499:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=(0,i.useStateFromStoresObject)([E.default],(function(){return E.default.getState()})),t=r.useRef(new l.Timeout),n=A(r.useState(!1),2),a=n[0],o=n[1],u=A(r.useState({x:0,y:0}),2),s=u[0],d=u[1];function f(e,t,n,a){return(null!=t?t:e)&&(null!=a?a:n)}var c=function(n,a){(0,m.updatePoggermodeSettings)(R({},e,{},n))
;if(null!=a){var r=[D.ALL,D.CONFETTI].includes(a),i=f(e.confettiEnabled,n.confettiEnabled,e.enabled,n.enabled);if(r&&i){o(!0);t.current.start(2*g.INTERVAL,(function(){o(!0);t.current.start(2*g.INTERVAL,(function(){return o(!1)}))}))}var l=[D.ALL,D.SHAKE].includes(a),u=f(e.screenshakeEnabled,n.screenshakeEnabled,e.enabled,n.enabled);if(l&&u){var s;v.ComponentDispatch.dispatch(O.ComponentActions.SHAKE_APP,{duration:1e3,intensity:null!==(s=n.shakeIntensity)&&void 0!==s?s:e.shakeIntensity})}}},S=function(e){d({x:e.clientX,y:e.clientY})};r.useEffect((function(){var e=t.current;window.addEventListener("mousemove",S);return function(){e.stop();window.removeEventListener("mousemove",S)}}),[]);return r.createElement(r.Fragment,null,P(p.default,{size:p.default.Sizes.SIZE_24},void 0,T.default.Messages.POGGERMODE),P(p.default,{size:p.default.Sizes.SIZE_14,muted:!0,className:h.default.subtitle},void 0,T.default.Messages.POGGERMODE_SETTINGS_SUBTITLE),P(G,{settings:e,updateSettings:c}),P(j,{
settings:e,updateSettings:c}),P(H,{settings:e,updateSettings:c}),P(x,{settings:e,updateSettings:c}),V,P(_.default,{firing:a,position:s}))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(496486),i=n(536211),l=n(91817),u=I(n(235879)),s=I(n(118777)),d=I(n(567668)),f=n(688388),c=n(194322),p=I(n(971639)),S=I(n(776360)),v=n(956506),m=n(943725),E=I(n(54147)),_=I(n(608021)),g=n(909082),y=n(378542),O=n(770348),T=I(n(247001)),h=I(n(438235));function I(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap
;return(N=function(e){return e?n:t})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){b(o,a,r,i,l,"next",e)}function l(e){b(o,a,r,i,l,"throw",e)}i(void 0)}))}}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}
;return R.apply(this,arguments)}var D,L={enabled:!0,combosEnabled:!0,screenshakeEnabled:!1,confettiEnabled:!1},U=(0,o.range)(0,11),w=(0,o.range)(0,2.25,.25),k=(0,o.range)(1,11),B=(0,o.range)(1,26);!function(e){e[e.ALL=0]="ALL";e[e.CONFETTI=1]="CONFETTI";e[e.SHAKE=2]="SHAKE"}(D||(D={}));function F(e){var t=e.disabled,n=e.locations,a=e.settingsLocations,o=e.onChange,i=n.map((function(e){return P(d.default,{disabled:t,value:a[e.location],note:e.description,onChange:function(t){var n;return o(R({},a,((n={})[e.location]=t,n)))}},e.location,e.title)}));return r.createElement(r.Fragment,null,P(f.FormTitle,{},void 0,T.default.Messages.POGGERMODE_LOCATIONS),i)}function G(e){var t=e.settings,a=t.enabled,o=t.warningSeen,l=e.updateSettings,s=(0,i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion}));return P(d.default,{value:a,note:T.default.Messages.POGGERMODE_ENABLE_DESCRIPTION,onChange:function(e){!e||o&&!s?l({enabled:e},D.ALL):(0,
c.openModalLazy)(C(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,502197));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,R({header:s?T.default.Messages.POGGERMODE_WARNING_TITLE_REDUCED_MOTION:T.default.Messages.POGGERMODE_WARNING_TITLE,confirmText:T.default.Messages.ENABLE,cancelText:T.default.Messages.CANCEL,onConfirm:function(){return l(s?L:{enabled:!0,warningSeen:!0},D.ALL)}},e),P(S.default,{size:S.default.Sizes.SIZE_16},void 0,s?T.default.Messages.POGGERMODE_WARNING_BODY_REDUCED_MOTION:T.default.Messages.POGGERMODE_WARNING_BODY))}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,T.default.Messages.POGGERMODE_ENABLE)}G.displayName="GlobalSettings";function j(e){var t=e.settings,n=t.enabled,a=t.confettiEnabled,r=t.confettiCount,o=t.confettiSize,i=t.confettiEnabledLocations,l=e.updateSettings,u=!n||!a
;return P(f.FormSection,{tag:f.FormTitleTags.H1,title:T.default.Messages.POGGERMODE_CONFETTI_CUSTOMIZATION},void 0,P(d.default,{disabled:!n,value:a,note:T.default.Messages.POGGERMODE_COMBOS_ENABLED_DESCRIPTION,onChange:function(e){return l({confettiEnabled:e},D.CONFETTI)}},void 0,T.default.Messages.POGGERMODE_COMBOS_ENABLED),P(f.FormItem,{disabled:u,title:T.default.Messages.POGGERMODE_CONFETTI_COUNT,className:h.default.formItem},void 0,P(s.default,{disabled:u,markers:k,stickToMarkers:!0,minValue:k[0],maxValue:k[k.length-1],initialValue:r,onValueChange:function(e){return l({confettiCount:e},D.CONFETTI)},onValueRender:function(e){return""+e}})),P(f.FormItem,{disabled:u,title:T.default.Messages.POGGERMODE_CONFETTI_SIZE,className:h.default.formItem},void 0,P(s.default,{disabled:u,markers:B,stickToMarkers:!0,minValue:B[0],maxValue:B[B.length-1],initialValue:o,onValueChange:function(e){return l({confettiSize:e},D.CONFETTI)},onValueRender:function(e){return""+e}})),P(F,{disabled:u,
locations:[{location:y.ConfettiLocation.CHAT_INPUT,title:T.default.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED,description:T.default.Messages.POGGERMODE_CONFETTI_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:y.ConfettiLocation.REACTION,title:T.default.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED,description:T.default.Messages.POGGERMODE_CONFETTI_LOCATION_REACTION_ENABLED_DESCRIPTION},{location:y.ConfettiLocation.MEMBER_USER,title:T.default.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED,description:T.default.Messages.POGGERMODE_CONFETTI_LOCATION_MEMBER_USER_ENABLED_DESCRIPTION}],settingsLocations:i,onChange:function(e){return l({confettiEnabledLocations:e},D.CONFETTI)}}))}j.displayName="ConfettiSettings";function H(e){var t=e.settings,n=t.enabled,a=t.combosEnabled,r=t.comboSoundsEnabled,o=t.combosRequiredCount,i=e.updateSettings,l=!n||!a;return P(f.FormSection,{tag:f.FormTitleTags.H1,title:T.default.Messages.POGGERMODE_COMBOS_CUSTOMIZATION
},void 0,P(d.default,{disabled:!n,value:a,note:T.default.Messages.POGGERMODE_COMBOS_ENABLED_DESCRIPTION,onChange:function(e){return i({combosEnabled:e})}},void 0,T.default.Messages.POGGERMODE_COMBOS_ENABLED),P(d.default,{disabled:!n,value:r,note:T.default.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED_DESCRIPTION,onChange:function(e){return i({comboSoundsEnabled:e},D.CONFETTI)}},void 0,T.default.Messages.POGGERMODE_COMBO_SOUNDS_ENABLED),P(f.FormItem,{disabled:l,title:T.default.Messages.POGGERMODE_COMBOS_REQUIRED,className:h.default.formItem},void 0,P(s.default,{disabled:l,markers:U,stickToMarkers:!0,minValue:U[0],maxValue:U[U.length-1],initialValue:o,onValueChange:function(e){return i({combosRequiredCount:e})},onValueRender:function(e){return""+e}})),P(f.FormDivider,{className:h.default.divider}))}H.displayName="ComboSettings";function x(e){var t=e.settings,n=t.enabled,a=t.screenshakeEnabled,r=t.shakeIntensity,o=t.screenshakeEnabledLocations,l=e.updateSettings,c=(0,
i.useStateFromStores)([u.default],(function(){return u.default.useReducedMotion})),p=!n||!a||c;return P(f.FormSection,{tag:f.FormTitleTags.H1,title:T.default.Messages.POGGERMODE_SCREENSHAKE_CUSTOMIZATION},void 0,P(d.default,{disabled:!n||c,tooltipNote:c?T.default.Messages.POGGERMODE_SCREENSHAKE_DISABLED_REDUCED_MOTION:null,value:a&&!c,note:T.default.Messages.POGGERMODE_SCREENSHAKE_ENABLED_DESCRIPTION,onChange:function(e){return l({screenshakeEnabled:e},D.SHAKE)}},void 0,T.default.Messages.POGGERMODE_SCREENSHAKE_ENABLED),P(f.FormItem,{disabled:p,title:T.default.Messages.POGGERMODE_SCREENSHAKE,className:h.default.formItem},void 0,P(s.default,{disabled:p,markers:w,equidistant:!0,stickToMarkers:!0,minValue:w[0],maxValue:w[w.length-1],initialValue:r,onValueChange:function(e){return l({shakeIntensity:e},D.SHAKE)},onMarkerRender:function(e){return e===w[w.length-1]?T.default.Messages.POGGERMODE_SCREENSHAKE_MAX:100*e+"%"}})),P(F,{disabled:p,locations:[{location:y.ShakeLocation.CHAT_INPUT,
title:T.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED,description:T.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_CHAT_INPUT_ENABLED_DESCRIPTION},{location:y.ShakeLocation.VOICE_USER,title:T.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED,description:T.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_VOICE_USER_ENABLED_DESCRIPTION},{location:y.ShakeLocation.MENTION,title:T.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED,description:T.default.Messages.POGGERMODE_SCREENSHAKE_LOCATION_MENTION_ENABLED_DESCRIPTION}],settingsLocations:o,onChange:function(e){return l({screenshakeEnabledLocations:e},D.SHAKE)}}))}x.displayName="ScreenshakeSettings";function Y(){return P(f.FormSection,{tag:f.FormTitleTags.H1,title:T.default.Messages.POGGERMODE_ACHIEVEMENTS})}Y.displayName="Achievements";var V=P(Y,{})},684803:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.useShouldRenderPremiumTrialBadgeInUserSettings=function(e){return a.useExperiment({},{autoTrackExposure:e}).enabled};var a=(0,n(373505).createExperiment)({kind:"user",id:"2022-04_user_settings_premium_trial_badge",label:"User Settings Premium Trial Badge",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable premium trial badge in User Settings",config:{enabled:!0}}]})},969082:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useOutboundPromotions=function(){var e=(0,r.useStateFromStores)([s.default],(function(){return s.default.lastFetchedActivePromotions})),t=m(),n=(0,r.useStateFromStores)([i.default],(function(){return i.default.getCurrentUser()})),f=p(a.useState(!1),2),c=f[0],E=f[1],_=p(a.useState([]),2),g=_[0],y=_[1];a.useEffect((function(){null!=e&&o.default.wait((function(){return u.default.markOutboundPromotionsSeen()}))}),[e]);var O=a.useCallback((function(e){y((function(t){return t.some((function(t){return t.promotion.id===e.promotion.id
}))?t:[].concat(function(e){if(Array.isArray(e))return v(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||S(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var n}))}),[]),T=(null==n?void 0:n.premiumType)===d.PremiumTypes.TIER_2;a.useEffect((function(){o.default.wait((function(){if(T){null==e&&u.default.fetchActiveOutboundPromotions();(0,l.fetchClaimedOutboundPromotionCodes)().then((function(e){y(e);E(!0)})).catch((function(){y([]);E(!0)}))}}))}),[e,T]);for(var h,I={},N=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=S(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}
throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(g);!(h=N()).done;){var A=h.value,M=A.code,b=A.promotion;I[b.id]=M}var C=new Set(t.map((function(e){return e.id}))),P=g.filter((function(e){var t=e.promotion;return!C.has(t.id)}));return{promotionsLoaded:!T||null!=e&&c,activeOutboundPromotions:t,claimedEndedOutboundPromotions:P,claimedOutboundPromotionCodeMap:I,addClaimedOutboundPromotionCode:O}};t.useUnseenOutboundPromotions=function(){var e=(0,r.useStateFromStores)([s.default],(function(){return s.default.lastSeenOutboundPromotionStartDate})),t=m();return a.useMemo((function(){return null==e?t:t.filter((function(t){var n=t.startDate;return new Date(n)>new Date(e)}))}),[t,e])};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),r=n(536211),o=f(n(636602)),i=f(n(728429)),l=n(462827),u=f(n(745108)),s=f(n(297143)),d=n(770348);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||S(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function m(){var e=(0,r.useStateFromStoresArray)([s.default],(function(){return s.default.outboundPromotions})),t=(0,r.useStateFromStores)([s.default],(function(){return s.default.consumedInboundPromotionId}));return a.useMemo((function(){return e.filter((function(e){return e.id!==t}))}),[e,t])}},113781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=m(n(680219)),i=m(n(956117)),l=m(n(80828)),u=n(354479),s=n(688388),d=n(3400),f=m(n(971639)),c=m(n(776360)),p=n(462827),S=m(n(247001)),v=m(n(543282));function m(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{
for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.onClose;return r.createElement(r.Fragment,null,y(d.ModalHeader,{separator:!1,className:v.default.errorHeader},void 0,y("div",{className:v.default.errorArt}),y(f.default,{size:f.default.Sizes.SIZE_24},void 0,S.default.Messages.GENERIC_ERROR_TITLE)),y(d.ModalContent,{className:v.default.errorBody},void 0,y(c.default,{size:c.default.Sizes.SIZE_16,className:v.default.bodyText},void 0,S.default.Messages.GENERIC_ERROR_BODY)),y(d.ModalFooter,{},void 0,y(i.default,{color:i.default.Colors.BRAND,onClick:t},void 0,S.default.Messages.CLOSE)))}function T(e){var t=e.onClose,n=e.onClaim,a=e.code,m=e.outboundPromotion,E=e.transitionState,g=_(r.useState(null),2),T=g[0],h=g[1],I=(0,u.useUID)();r.useEffect((function(){null==a&&(0,
p.claimOutboundPromotion)(m.id).then((function(e){return n(e)})).catch((function(e){return h(e)}))}),[a,m.id,n]);var N=y(O,{onClose:t});return y(d.ModalRoot,{transitionState:E,"aria-labelledby":I},void 0,null!=T?N:null==a?y(d.ModalContent,{},void 0,y(l.default,{className:v.default.loading})):r.createElement(r.Fragment,null,y(d.ModalHeader,{separator:!1,className:v.default.headerContainer},void 0,y("div",{className:v.default.art}),y(f.default,{size:f.default.Sizes.SIZE_24},void 0,S.default.Messages.OUTBOUND_PROMOTION_REDEMPTION_MODAL_TITLE)),y(d.ModalContent,{},void 0,y(c.default,{size:c.default.Sizes.SIZE_16,className:v.default.bodyText},void 0,m.outboundRedemptionModalBody),y(s.FormDivider,{className:v.default.formDivider}),y(s.FormSection,{title:S.default.Messages.REDEMPTION_CODE,className:v.default.formSection},void 0,y(o.default,{value:a,buttonColor:i.default.Colors.BRAND,buttonLook:i.default.Looks.FILLED,delay:1e3,inputClassName:v.default.textInput}),y(c.default,{
size:c.default.Sizes.SIZE_12,color:c.default.Colors.HEADER_SECONDARY,className:v.default.confirmationText},void 0,S.default.Messages.OUTBOUND_PROMOTION_CODE_CONFIRMATION_EMAIL))),y(d.ModalFooter,{},void 0,y(i.default,{color:i.default.Colors.BRAND,onClick:function(){var e=(0,p.getOutboundPromotionRedemptionUrl)(a,m);window.open(e,"_blank")}},void 0,S.default.Messages.REDEEM),y(i.default,{onClick:t,look:i.default.Looks.LINK,color:v.default.maybeLaterButton},void 0,S.default.Messages.MAYBE_LATER))))}T.displayName="OutboundPromotionRedemptionModal";var h=T;t.default=h},404203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=l(n(294184)),i=l(n(784864));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e)
;function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).renderFeature=function(e,n){return s("div",{className:i.default.feature},n,t.renderIcon(e),s("div",{},void 0,null!=e.title?s("div",{className:i.default.title},void 0,e.title):null,s("div",{className:null==e.title?i.default.descriptionStandalone:i.default.description},void 0,e.description)))};return t}var n=t.prototype;n.renderIcon=function(e){if(null!=e.overrideIcon)return e.overrideIcon(i.default.icon);if(null!=e.icon&&null!=e.iconClass){return s(e.icon,{className:(0,o.default)(i.default.icon,e.iconClass)})}throw new Error("Missing overrideIcon or iconName and iconClass")};n.render=function(){return s("div",{className:i.default.features,style:{gridTemplateColumns:Array(this.props.columns).fill("1fr").join(" ")}},void 0,this.props.features.map(this.renderFeature))};return t}(r.Component);f.displayName="PremiumFeaturesList";var c=f;t.default=c},
754295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),r=l(n(956117)),o=l(n(303326)),i=["children"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return s.apply(this,arguments)}function d(e){
var t=e.children,n=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,i);return a.createElement(r.default,s({},n,{size:r.default.Sizes.SMALL,look:r.default.Looks.INVERTED,className:o.default.button}),t)}d.displayName="PremiumSettingsPushButton"},526889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294))
;var a,r=E(n(294184)),o=E(n(496486)),i=n(536211),l=E(n(728429)),u=E(n(909584)),s=E(n(146771)),d=E(n(41024)),f=E(n(971639)),c=E(n(776360)),p=E(n(838583)),S=n(770348),v=E(n(247001)),m=E(n(692202));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return
;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e){var t=e.user,n=e.planId,a=e.count,r=e.userPremiumSubscription,o=y((0,i.useStateFromStoresArray)([u.default],(function(){return[u.default.get(n),null!=r?u.default.get(r.planId):null]
})),2),l=o[0],s=o[1];if(null==l||p.default.getInterval(n).intervalType!==S.SubscriptionIntervalTypes.MONTH)return null;var E=null!=s?s.skuId:null,_=l.skuId===E,O=p.default.getDisplayName(n);return g("div",{className:m.default.accountCreditRow},void 0,g("div",{className:l.skuId===S.PremiumSubscriptionSKUs.TIER_2?m.default.iconBackgroundTier2:m.default.iconBackgroundTier1},void 0,g(d.default,{className:m.default.icon})),g("div",{className:m.default.rowDetails},void 0,g(f.default,{size:f.default.Sizes.SIZE_16},void 0,v.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT.format({planName:O})),t.hasFreePremium()?null:g(f.default,{muted:!0,className:m.default.rowApplied},void 0,_&&null!=r?v.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_ON.format({date:r.currentPeriodEnd}):v.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_APPLIED_MISMATCHED_PLAN.format({planName:O}))),g(c.default,{className:m.default.rowCreditCount,size:c.default.Sizes.SIZE_16
},void 0,v.default.Messages.PREMIUM_SUBSCRIPTION_CREDIT_COUNT_MONTHS.format({count:a})))}T.displayName="AccountCreditRow";function h(e){var t=e.className,n=e.entitlements,a=(0,o.default)(Array.from(n)).filter((function(e){var t=e.subscriptionPlanId,n=e.parentId,a=e.consumed;return null!=t&&null!=n&&!a})).groupBy((function(e){return e.subscriptionPlanId})).value(),u=(0,i.useStateFromStores)([s.default],(function(){return s.default.getPremiumSubscription()})),d=(0,i.useStateFromStores)([l.default],(function(){return l.default.getCurrentUser()}));return null==d?null:g("div",{className:(0,r.default)(t,m.default.premiumSubscriptionAccountCredit)},void 0,Object.keys(a).map((function(e){return g(T,{planId:e,count:a[e].length,userPremiumSubscription:u,user:d},e)})))}h.displayName="PremiumSubscriptionAccountCredit";var I=h;t.default=I},322423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=g;!function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=p(n(441143)),o=p(n(909584)),i=p(n(776360)),l=n(838583),u=n(243277),s=n(511217),d=n(770348),f=p(n(247001)),c=p(n(799337));function p(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _(e){var t=e.subscription,n=e.withOverheadSeparator,a=m((0,s.useSubscriptionInvoicePreview)({subscriptionId:t.id,renewal:!0}),1)[0];if(null==a)return null;var p=n?c.default.finePrintWithOverheadSeparator:c.default.finePrint,S=a.invoiceItems.find((function(e){var t=e.subscriptionPlanId;return(0,l.isPremiumBaseSubscriptionPlan)(t)}));if(null==S)return null;var E=S.subscriptionPlanId,_=o.default.get(E);(0,r.default)(null!=_,"Missing plan");var g=(0,u.formatPrice)(a.total,a.currency),y="";_.interval===d.SubscriptionIntervalTypes.YEAR?y=f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_YEARLY.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY
}):_.interval===d.SubscriptionIntervalTypes.MONTH&&(y=1===_.intervalCount?f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MONTHLY.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY}):f.default.Messages.BILLING_PAYMENT_PREMIUM_TERMS_LEGALESE_MULTI_MONTH.format({price:g,termsUrl:d.MarketingURLs.TERMS,paidURL:d.MarketingURLs.PAID_TERMS,privacyUrl:d.MarketingURLs.PRIVACY,intervalCount:_.intervalCount}));return v(i.default,{color:i.default.Colors.MUTED,className:p,size:i.default.Sizes.SIZE_12},void 0,y)}_.displayName="PremiumSubscriptionFinePrintContent";function g(e){var t=e.subscription,n=e.withOverheadSeparator;return t.status===d.SubscriptionStatusTypes.CANCELED||t.isPurchasedExternally?null:v(_,{subscription:t,withOverheadSeparator:n})}g.displayName="PremiumSubscriptionFinePrint"},588398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GuildBoostingHeader=j;t.SubscriptionDetailsEmpty=W
;t.default=$;var a,r=k(n(667294)),o=U(n(294184)),i=U(n(441143)),l=U(n(730381)),u=n(536211),s=U(n(226800)),d=U(n(285629)),f=U(n(655205)),c=n(232759),p=U(n(728429)),S=U(n(956117)),v=U(n(558402)),m=U(n(530250)),E=U(n(562475)),_=U(n(80828)),g=n(688388),y=U(n(417184)),O=U(n(776360)),T=U(n(308920)),h=k(n(838583)),I=n(298104),N=n(511217),A=n(653311),M=U(n(754295)),b=U(n(200475)),C=U(n(337309)),P=U(n(986495)),R=n(770348),D=U(n(247001)),L=U(n(56397));function U(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function G(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t=e.subscription,n=e.fromStandaloneBillingPage,a=void 0===n||n,l=e.className,f=(0,u.useStateFromStores)([p.default],(function(){var e=p.default.getCurrentUser();(0,i.default)(null!=e,"GuildBoostingHeader: currentUser cannot be undefined");return e}));if(0===(0,h.getNumPremiumGuildSubscriptions)(t.additionalPlans))return null;var c,v=t.status;c=(0,h.isPremiumGuildSubscriptionCanceled)(t)?L.default.guildBoostingSubscriptionRowCanceled:(0,
h.isSubscriptionStatusFailedPayment)(v)?L.default.guildBoostingSubscriptionRowFailedPayment:L.default.guildBoostingSubscriptionRowActive;return r.createElement(r.Fragment,null,G("div",{className:(0,o.default)(c,l)},void 0,G("div",{className:L.default.guildBoostingSubscriptionRowBackground}),G("div",{className:L.default.guildBoostingImage}),G("div",{className:L.default.guildBoostingSubscriptionRowBody},void 0,G("div",{className:L.default.guildBoostingWordmark}),G("div",{},void 0,(0,h.getPremiumGuildHeaderDescription)(t,f))),a&&G(M.default,{color:S.default.Colors.BRAND,onClick:function(){return s.default.open(R.UserSettingsSections.GUILD_BOOSTING)}},void 0,D.default.Messages.PREMIUM_GUILD_PERKS_MODAL_MANAGE_YOUR_SUBSCRIPTIONS)),!a&&G(O.default,{className:L.default.boostingDesktopAppBlurb},void 0,D.default.Messages.GUILD_BOOSTING_MANAGEMENT_OPEN_DESKTOP_APP.format({openAppHook:function(){return(0,d.default)("app")}})))}function H(){r.useEffect((function(){
T.default.track(R.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_missing_payment_method"})}),[]);return G("div",{className:L.default.paymentBanner},void 0,G(y.default,{className:L.default.paymentBannerIcon,color:R.Colors.STATUS_YELLOW_400}),G(O.default,{className:L.default.paymentBannerText},void 0,D.default.Messages.MISSING_PAYMENT_METHOD_BANNER))}H.displayName="NoPaymentMethodBanner";function x(){r.useEffect((function(){T.default.track(R.AnalyticEvents.TOOLTIP_VIEWED,{type:"subscription_settings_invalid_payment_method"})}),[]);return G("div",{className:L.default.paymentBanner},void 0,G(y.default,{className:L.default.paymentBannerIcon,color:R.Colors.STATUS_RED_400}),G(O.default,{className:L.default.paymentBannerText},void 0,D.default.Messages.INVALID_PAYMENT_METHOD_BANNER))}x.displayName="InvalidPaymentMethodBanner";function Y(e){var t=e.daysPastDue,n=e.subscription,a=e.openInvoiceId;r.useEffect((function(){T.default.track(R.AnalyticEvents.TOOLTIP_VIEWED,{
type:"subscription_settings_invalid_payment_method"})}),[]);return G("div",{className:L.default.paymentBanner},void 0,G(y.default,{className:L.default.paymentBannerIcon,color:R.Colors.STATUS_YELLOW_400}),G(O.default,{className:L.default.paymentBannerText},void 0,D.default.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT.format({daysPastDue:t,paymentModalRedirect:function(){(0,f.default)({initialPlanId:n.planIdFromItems,openInvoiceId:a})}})))}Y.displayName="PastDueOneTimePaymentMethodBanner";function V(e){var t=e.subscription,n=e.renewalInvoicePreview,a=e.className;return G("div",{className:(0,o.default)(L.default.billingInformation,a)},void 0,G(g.FormTitle,{tag:g.FormTitle.Tags.H3,className:L.default.detailBlockHeader},void 0,D.default.Messages.PREMIUM_SETTINGS_BILLING_INFO),G("div",{},void 0,h.default.getBillingInformationString(t,n)))}V.displayName="SubscriptionBillingInformation";function W(e){return G("div",{className:e.className},void 0,G(g.FormTitle,{
className:L.default.sectionTitle,tag:g.FormTitle.Tags.H1},void 0,D.default.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER),G("p",{className:L.default.sectionDescription},void 0,D.default.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION),G(v.default,{className:L.default.noItemsCard,type:v.default.Types.CUSTOM},void 0,G(m.default,{align:m.default.Align.CENTER},void 0,G(E.default,{game:null,size:E.default.Sizes.SMALL,className:L.default.noItemsIcon}),G("span",{className:L.default.cardText},void 0,D.default.Messages.USER_SETTINGS_NO_SUBSCRIPTIONS))))}W.displayName="SubscriptionDetailsEmpty";var K=G(_.default,{}),z=G(H,{}),Q=G(x,{});function $(e){var t,n,a,r=e.subscription,i=e.paymentSource,s=e.busy,d=e.className,f=e.fromStandaloneBillingPage,S=void 0===f||f,v=e.analyticsLocation,m=B((0,N.useSubscriptionInvoicePreview)({subscriptionId:r.id,renewal:!0}),1)[0],E=B((0,N.useSubscriptionInvoicePreview)({subscriptionId:r.id,renewal:!0,applyEntitlements:!0}),1)[0],_=(0,
u.useStateFromStores)([p.default],(function(){var e;return null===(e=p.default.getCurrentUser())||void 0===e?void 0:e.hasFreePremium()})),y=(0,l.default)(r.currentPeriodEnd),O=null!=r.paymentSourceId,T=null!==(t=null==E?void 0:E.total)&&void 0!==t?t:0,h=null==i?void 0:i.invalid,M=!O&&T>0&&(y.diff((0,l.default)(),"days")<=7||r.status===R.SubscriptionStatusTypes.PAST_DUE)&&!_&&!r.isPurchasedExternally,U=h&&r.status===R.SubscriptionStatusTypes.PAST_DUE&&!_&&!r.isPurchasedExternally,w=(0,A.useIsPrepaidPaymentPastDue)(),k=!_&&w,F=(null==r?void 0:r.status)===R.SubscriptionStatusTypes.PAST_DUE?(0,l.default)().diff((0,l.default)(r.currentPeriodStart),"days"):0,H=B((0,N.useGetSubscriptionInvoice)({subscriptionId:r.id,preventFetch:!k}),1)[0];if(null==m||null==E)return K;null!=r.renewalMutations&&(r.renewalMutations.planId!==r.planId&&!(0,c.isNoneSubscription)(r.renewalMutations.planId)||r.hasExternalPlanChange)&&(a=G(P.default,{subscription:r,renewalMutations:r.renewalMutations,
className:L.default.renewalMutationNotice,analyticsLocation:v}));return G("div",{className:d},void 0,G(g.FormTitle,{className:L.default.sectionTitle,tag:g.FormTitle.Tags.H1},void 0,D.default.Messages.USER_SETTINGS_SUBSCRIPTIONS_HEADER),M?z:null,U?Q:null,k&&null!=H?G(Y,{daysPastDue:F,subscription:r,openInvoiceId:H.id}):null,a,G("div",{className:L.default.subscriptionRows},void 0,G("p",{className:L.default.sectionDescription},void 0,D.default.Messages.BILLING_PAYMENT_PREMIUM_DESCRIPTION),G(b.default,{subscription:r,renewalInvoicePreview:m,paymentSource:i,busy:s,analyticsLocation:v}),G(j,{subscription:r,fromStandaloneBillingPage:S,className:L.default.guildSubscriptionRow})),G("div",{},void 0,G(g.FormTitle,{tag:g.FormTitle.Tags.H5},void 0,D.default.Messages.BILLING_STEP_PAYMENT),G("div",{className:L.default.details},void 0,G(V,{subscription:r,renewalInvoicePreview:E,className:L.default.detailsBlock}),G("div",{className:(0,o.default)(L.default.detailsBlock,(n={},n[L.default.redBorder]=U,n))
},void 0,G(g.FormTitle,{tag:g.FormTitle.Tags.H3,className:L.default.detailBlockHeader},void 0,r.isPurchasedExternally&&null!=r.paymentGateway?D.default.Messages.BILLING_MANAGED_BY_PAYMENT_GATEWAY.format({paymentGatewayName:R.PaymentGatewayToFriendlyName[r.paymentGateway]}):D.default.Messages.BILLING_PAY_FOR_IT_WITH),G(C.default,{subscription:r,onPaymentSourceAdded:I.fetchSubscriptionPlansOnNewPaymentSource,highlightAddPaymentMethodButton:M||U,analyticsLocation:v,currentInvoicePreview:m,dropdownClassName:L.default.paymentDropdown}),G("div",{className:L.default.paymentDropdownFinePrint},void 0,D.default.Messages.BILLING_APPLIES_TO_ALL_SUBSCRIPTIONS)))))}$.displayName="SubscriptionDetails"},200475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var a,r=M(n(667294)),o=N(n(294184)),i=N(n(441143)),l=M(n(304836)),u=N(n(791548)),s=N(n(655205)),d=n(232759),f=N(n(909584)),c=N(n(151097)),p=M(n(956117)),S=N(n(730977)),v=N(n(394726)),m=N(n(259643)),E=n(194322),_=M(n(838583)),g=n(298104),y=n(815992),O=N(n(754295)),T=n(770348),h=N(n(247001)),I=N(n(956424));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function b(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return C.apply(this,arguments)}function P(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){P(o,a,r,i,l,"next",e)}function l(e){P(o,a,r,i,l,"throw",e)}i(void 0)}))}}var D=new u.default("SubscriptionHeader.tsx"),L={
page:T.AnalyticsPages.USER_SETTINGS,section:T.AnalyticsSections.SETTINGS_PREMIUM,object:T.AnalyticsObjects.CARD};function U(e){var t,a=e.subscription,u=e.renewalInvoicePreview,N=e.paymentSource,A=e.busy,M=e.analyticsLocation,P=function(){a.status!==T.SubscriptionStatusTypes.ACTIVE&&a.status!==T.SubscriptionStatusTypes.PAST_DUE||U()},U=function(){(0,E.openModalLazy)(R(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(58579),n.e(25306),n.e(66341)]).then(n.bind(n,466341));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return r.createElement(o,C({},e,{premiumSubscription:a,analyticsLocation:M}))}));case 5:case"end":return e.stop()}}),e)}))))},w=function(){(0,s.default)({analyticsLocation:M,analyticsObject:L})},k=function(){if(null!=a&&null!=a.planIdFromItems){var e=f.default.get(a.planIdFromItems);if(null==e){
D.info("Plan not fetched for plan id: "+a.planIdFromItems);return}var t=(0,g.getCurrencies)(e,null==N?void 0:N.id,!1),n=t.length>0?t[0]:a.currency,r=y.MultiCurrencyExperiment.getCurrentConfig({}).enabled,o=!1;(1!==t.length&&r||(null==N?void 0:N.id)!==a.paymentSourceId||!(0,g.planHasCurrency)(e.id,n,null==N?void 0:N.id))&&(null==N||(0,_.inPriceDeterminationExperiment)())||(o=!0);o?l.resubscribe(a,n,N,M):(0,s.default)({initialPlanId:a.planIdFromItems,analyticsLocation:M,analyticsObject:L})}},B=_.default.getPlanIdFromInvoice(a,u);if((0,d.isNoneSubscription)(B))return null;var F=_.default.getStatusFromInvoice(a,u),G=_.default.getPremiumType(B),j=((t={})[I.default.tier1]=G===T.PremiumTypes.TIER_1,t[I.default.tier2]=G===T.PremiumTypes.TIER_2,t[I.default.canceled]=F===T.SubscriptionStatusTypes.CANCELED,t[I.default.failedPayment]=(0,_.isSubscriptionStatusFailedPayment)(F),t);return b("div",{className:(0,o.default)(I.default.banner,j)},void 0,b("div",{className:I.default.bannerBackgroundImage
}),b("div",{className:I.default.detailsContainer},void 0,b("div",{className:I.default.image}),b("div",{className:I.default.details},void 0,G===T.PremiumTypes.TIER_2?b(v.default,{className:I.default.planName,"aria-label":h.default.Messages.PREMIUM_TITLE}):r.createElement(r.Fragment,null,b(m.default,{className:I.default.discordWordmark,"aria-label":h.default.Messages.PREMIUM_TIER_1}),b("div",{className:I.default.classicWordmark})),function(e){(0,i.default)(null!=u,"Expected renewalInvoicePreview");return b("div",{className:I.default.planInfo},void 0,(0,_.getPlanDescriptionFromInvoice)({planId:e,subscription:a,renewalInvoicePreview:u}))}(B))),b("div",{className:I.default.buttons},void 0,function(){var e=a.status;if(a.isPurchasedExternally){var t=(0,_.getExternalSubscriptionMethodUrl)(a.paymentGateway,"SUBSCRIPTION_MANAGEMENT");return b(c.default,{href:t,useDefaultUnderlineStyles:!1},void 0,b(p.default,{className:(0,o.default)(I.default.toolsButton,I.default.externalButton),
size:p.default.Sizes.SMALL,look:p.ButtonLooks.OUTLINED,color:p.ButtonColors.WHITE,submitting:A},void 0,h.default.Messages.BILLING_MANAGE_SUBSCRIPTION))}if(_.default.isBaseSubscriptionCanceled(a))return b(p.default,{className:I.default.toolsButton,size:p.default.Sizes.SMALL,look:p.ButtonLooks.INVERTED,color:p.ButtonColors.BRAND,submitting:A,onClick:k},void 0,h.default.Messages.RESUBSCRIBE);if(e===T.SubscriptionStatusTypes.ACTIVE||e===T.SubscriptionStatusTypes.PAST_DUE){var n=!1,i=null;if(null!=a.renewalMutations){n=!0;i=a.renewalMutations.planId!==a.planId?h.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PLAN:h.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_PENDING_MUTATION_PREMIUM_GUILD_SUBSCRIPTION}if(null!=a.trialEndsAt){n=!0;i=h.default.Messages.PREMIUM_SWITCH_PLAN_DISABLED_IN_TRIAL}e===T.SubscriptionStatusTypes.PAST_DUE&&(n=!0);return b("div",{className:I.default.toolsButtons},void 0,b(p.default,{className:I.default.toolsButton,size:p.default.Sizes.SMALL,
look:p.ButtonLooks.LINK,color:p.ButtonColors.WHITE,submitting:A,onClick:P},void 0,h.default.Messages.CANCEL),b(S.default,{text:i},void 0,(function(e){return r.createElement(O.default,C({},e,{disabled:n,className:I.default.toolsButton,onClick:w}),h.default.Messages.PREMIUM_SWITCH_PLANS)})))}}()))}U.displayName="SubscriptionHeader";var w=U;t.default=w},986495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D;var a,r=N(n(667294)),o=h(n(294184)),i=h(n(441143)),l=n(536211),u=n(832635),s=n(232759),d=h(n(871778)),f=h(n(909584)),c=h(n(151097)),p=h(n(956117)),S=h(n(530250)),v=n(688388),m=h(n(417184)),E=N(n(3400)),_=N(n(838583)),g=n(243277),y=n(770348),O=h(n(247001)),T=h(n(210912));function h(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function P(e){return function(){
var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){C(o,a,r,i,l,"next",e)}function l(e){C(o,a,r,i,l,"throw",e)}i(void 0)}))}}function R(e){var t=e.subscription,n=e.renewalMutations,a=e.transitionState,r=e.onClose,o=e.analyticsLocation,c=(0,l.useStateFromStores)([d.default],(function(){return d.default.theme}));function m(){return(m=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,u.upgradeSubscription)(t,t.planId,o);case 2:r();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=f.default.get(t.planId);(0,i.default)(null!=h,"Missing subscriptionPlan");var I=(0,_.getPrice)(t.planId,!1,!1,{paymentSourceId:t.paymentSourceId,currency:t.currency}),N=(0,g.formatRate)((0,g.formatPrice)(I.amount,I.currency),h.interval,h.intervalCount);return b(E.ModalRoot,{transitionState:a,"aria-label":O.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER
},void 0,b(E.ModalHeader,{justify:S.default.Justify.BETWEEN,separator:!1},void 0,b(v.FormTitle,{tag:v.FormTitleTags.H4},void 0,O.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_HEADER),b(E.ModalCloseButton,{onClick:r})),b(E.ModalContent,{className:T.default.modalBody},void 0,(0,s.isNoneSubscription)(t.planId)?O.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY_NO_EXISTING_PLAN.format({downgradedPlan:_.default.getDisplayName(n.planId),existingRate:N}):O.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BODY.format({existingPlan:_.default.getDisplayName(t.planId),downgradedPlan:_.default.getDisplayName(n.planId),existingRate:N})),b(E.ModalFooter,{},void 0,b(p.default,{onClick:function(){return m.apply(this,arguments)}},void 0,O.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_CANCEL_BUTTON),b(p.default,{look:p.default.Looks.LINK,color:c===y.ThemeTypes.LIGHT?p.default.Colors.PRIMARY:p.default.Colors.WHITE,onClick:r},void 0,O.default.Messages.NEVERMIND)))}
R.displayName="SubscriptionCancelDowngradeModal";function D(e){var t=e.subscription,n=e.renewalMutations,a=e.className,i=e.analyticsLocation,l=A(r.useState(!1),2),u=l[0],s=l[1];return b("div",{className:(0,o.default)(T.default.root,a)},void 0,b(m.default,{className:T.default.infoIcon}),b("div",{className:T.default.text},void 0,O.default.Messages.PREMIUM_PENDING_PLAN_CHANGE_NOTICE.format({planName:t.hasExternalPlanChange?(0,_.getExternalPlanDisplayName)(n):_.default.getDisplayName(n.planId),date:t.currentPeriodEnd})),t.isPurchasedExternally?null:b(c.default,{onClick:function(e){s(!0);e.preventDefault()},className:T.default.cancelLink},void 0,O.default.Messages.CANCEL),u?b(E.default,{renderModal:function(e){var a=e.transitionState;return b(R,{subscription:t,renewalMutations:n,transitionState:a,onClose:function(){return s(!1)},analyticsLocation:i})},onCloseRequest:function(){return s(!1)}}):null)}D.displayName="SubscriptionPendingMutation"},225249:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=F(n(667294)),o=k(n(294184)),i=n(536211),l=k(n(636602)),u=F(n(832635)),s=n(233271),d=n(851792),f=n(856259),c=k(n(226800)),p=k(n(524791)),S=k(n(45738)),v=k(n(252730)),m=k(n(663303)),E=k(n(516818)),_=k(n(697952)),g=k(n(748826)),y=k(n(146771)),O=k(n(47969)),T=k(n(558402)),h=k(n(530250)),I=k(n(562475)),N=k(n(80828)),A=n(688388),M=k(n(838583)),b=n(158384),C=k(n(526889)),P=k(n(322423)),R=F(n(588398)),D=n(770348),L=n(840433),U=k(n(247001)),w=k(n(162652));function k(e){return e&&e.__esModule?e:{default:e}}function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function G(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(){return G(T.default,{className:w.default.noItemsCard,type:T.default.Types.CUSTOM},void 0,G(h.default,{align:h.default.Align.CENTER},void 0,G(I.default,{game:null,size:I.default.Sizes.SMALL,className:w.default.noItemsIcon}),G("span",{className:w.default.cardText},void 0,U.default.Messages.USER_SETTINGS_NO_SUBSCRIPTION_CREDIT)))}
j.displayName="NoAccountCredit";var H=G(j,{});function x(){var e=(0,i.useStateFromStores)([O.default],(function(){return O.default.getForApplication(D.PREMIUM_SUBSCRIPTION_APPLICATION)}));r.useEffect((function(){(0,d.fetchUserEntitlementsForApplication)(D.PREMIUM_SUBSCRIPTION_APPLICATION)}),[]);return G("section",{className:w.default.sectionAccountCredit},void 0,G(A.FormTitle,{className:w.default.accountCreditTitle,tag:A.FormTitleTags.H1},void 0,U.default.Messages.BILLING_SUBSCRIPTION_CREDIT),G("p",{className:w.default.accountCreditDescription},void 0,U.default.Messages.BILLING_ACCOUNT_CREDIT_DESCRIPTION),null!=e&&M.default.hasAccountCredit(e)?G(C.default,{className:w.default.accountCredit,entitlements:e}):H)}x.displayName="AccountCredit";var Y=G(p.default,{}),V=G(N.default,{}),W=G(x,{});function K(){var e=(0,i.useStateFromStores)([y.default],(function(){return y.default.getPremiumTypeSubscription()})),t=(0,i.useStateFromStores)([g.default],(function(){
return null!=e&&null!=e.paymentSourceId?g.default.getPaymentSource(e.paymentSourceId):null}),[e]),n=(0,i.useStateFromStores)([y.default],(function(){return y.default.hasFetchedSubscriptions()})),a=(0,i.useStateFromStores)([_.default],(function(){return _.default.isBusy})),d=(0,b.useSubscriptionPlansLoaded)(),p=(0,i.useStateFromStores)([E.default],(function(){return E.default.getSubsection()}));r.useEffect((function(){l.default.wait((function(){(0,f.fetchPremiumSubscriptionPlans)();u.fetchSubscriptions();(0,s.fetchGuildBoostSlots)();u.fetchPaymentSources()}));return function(){c.default.clearSubsection()}}),[]);return m.default.enabled?Y:n&&d?p===L.ROLE_SUBSCRIPTION_SUBSECTION?G(v.default,{onGoBack:function(){return c.default.clearSubsection()}}):G("div",{className:w.default.container},void 0,G("div",{className:w.default.content},void 0,null!=e?G(R.default,{className:w.default.subscriptionDetails,subscription:e,paymentSource:t,busy:a}):G(R.SubscriptionDetailsEmpty,{
className:w.default.subscriptionDetails}),G(S.default,{onClickManageSubscription:function(){return c.default.setSection(D.UserSettingsSections.SUBSCRIPTIONS,L.ROLE_SUBSCRIPTION_SUBSECTION)}}),W,null!=e?G(P.default,{subscription:e,withOverheadSeparator:!1}):null)):G("div",{className:(0,o.default)(w.default.container,w.default.loading)},void 0,V)}K.displayName="Subscriptions";var z=K;t.default=z},96194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=n(536211),i=n(825185),l=v(n(816624)),u=v(n(956117)),s=v(n(730977)),d=v(n(41024)),f=n(194322),c=v(n(456701)),p=v(n(247001)),S=v(n(796339));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function E(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return _.apply(this,arguments)}function g(e,t,n,a,r,o,i){try{
var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){g(o,a,r,i,l,"next",e)}function l(e){g(o,a,r,i,l,"throw",e)}i(void 0)}))}}function O(e){var t=e.user,a=(0,o.useStateFromStores)([l.default],(function(){return l.default.getPendingAvatarDecoration()})),v=(0,o.useStateFromStores)([l.default],(function(){return l.default.getErrors()})).avatarDecoration,m=void 0===a?null!=t.avatarDecoration:null!=a;return E(c.default,{title:r.createElement(r.Fragment,null,p.default.Messages.USER_SETTINGS_AVATAR_DECORATION,E(s.default,{text:p.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP},void 0,(function(e){return r.createElement(d.default,_({},e,{className:S.default.nitroWheel}))}))),errors:v},void 0,E("div",{className:S.default.buttonsContainer},void 0,E(u.default,{size:u.default.Sizes.SMALL,onClick:function(){(0,
f.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(80381)]).then(n.bind(n,780381));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,p.default.Messages.USER_SETTINGS_CHANGE_AVATAR_DECORATION),m&&E(u.default,{className:S.default.removeButton,color:u.default.Colors.PRIMARY,look:u.default.Looks.LINK,size:u.default.Sizes.SMALL,onClick:function(){var e=null==t.avatarDecoration?void 0:null;(0,i.setPendingAvatarDecoration)(e)}},void 0,p.default.Messages.USER_SETTINGS_REMOVE_AVATAR_DECORATION)))}O.displayName="AvatarDecorationsSection"},431676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=A;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t)
;if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=g(n(294184)),i=n(235234),l=g(n(213847)),u=g(n(16941)),s=n(876276),d=g(n(160629)),f=n(26172),c=g(n(992193)),p=g(n(50867)),S=g(n(776360)),v=g(n(456701)),m=n(770348),E=g(n(247001)),_=g(n(371662));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function O(){O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return O.apply(this,arguments)}function T(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e){return(null!=e?(0,i.getDarkness)(e):1)>.25}function A(e){var t,n,a=e.defaultAvatarColor,g=e.savedUserColor,y=e.pendingColor,I=e.setPendingAccentColor,A=h(r.useState(g),2),M=A[0],b=A[1],C=(0,l.default)(),P=null!==(t=(0,i.hex2int)(C===m.ThemeTypes.DARK?m.HEXColors.PRIMARY_DARK_600:m.HEXColors.WHITE))&&void 0!==t?t:0,R=void 0!==y&&null==y||null==y&&null==g;function D(){if(U===g)return I(void 0);I(U)}function L(e){I(e);b(e)}r.useEffect((function(){void 0===y&&b(g)}),[y,g])
;var U=null!=M?M:P,w=U===P,k=N(U)?m.Colors.WHITE:m.Colors.PRIMARY_DARK_530,B=N(R?a:U)?m.Colors.WHITE:m.Colors.PRIMARY_DARK_530,F=T(c.default,{width:32,height:24,color:B}),G=(0,f.useRadioGroup)({orientation:"horizontal"}),j=(0,f.useRadioItem)({isSelected:R,label:E.default.Messages.USER_SETTINGS_PROFILE_COLOR_DEFAULT_BUTTON.format({colorHex:(0,i.int2hex)(a)})}),H=(0,f.useRadioItem)({isSelected:!R,label:E.default.Messages.USER_SETTINGS_PROFILE_COLOR_CUSTOM_BUTTON.format({colorHex:(0,i.int2hex)(U)})});return T(v.default,{className:_.default.profileColorSection,title:E.default.Messages.USER_SETTINGS_PROFILE_COLOR},void 0,r.createElement("div",O({className:_.default.buttonsContainer,"aria-label":E.default.Messages.USER_SETTINGS_PROFILE_COLOR},G),T("div",{className:_.default.colorSwatch},void 0,r.createElement(u.default,O({onClick:function(){null==g&&void 0===y||I(null)}},j),T("div",{className:_.default.swatch,style:{backgroundColor:(0,i.int2hex)(a)}},void 0,R?F:null),T(S.default,{
className:_.default.swatchDescription,color:S.default.Colors.HEADER_SECONDARY,size:S.default.Sizes.SIZE_12,"aria-hidden":!0},void 0,E.default.Messages.USER_SETTINGS_PROFILE_COLOR_DEFAULT))),T("div",{className:_.default.colorSwatch},void 0,r.createElement(u.default,O({onClick:D},H),T("div",{className:(0,o.default)(_.default.customSwatch,(n={},n[_.default.defaultSwatch]=w,n)),style:{backgroundColor:(0,i.int2hex)(U),borderColor:w?void 0:(0,i.int2hex)(U)}},void 0,R?null:F),T(S.default,{className:_.default.swatchDescription,color:S.default.Colors.HEADER_SECONDARY,size:S.default.Sizes.SIZE_12,"aria-hidden":!0},void 0,E.default.Messages.USER_SETTINGS_PROFILE_COLOR_CUSTOM)),T(d.default,{onRequestOpen:D,renderPopout:function(e){return r.createElement(s.CustomColorPicker,O({},e,{value:U,onChange:L}))}},void 0,(function(e){return r.createElement(u.default,O({},e,{className:_.default.dropperIconButton,"aria-label":E.default.Messages.USER_SETTINGS_PROFILE_COLOR_SELECT_COLOR,focusProps:{offset:{
bottom:45,left:45}}}),T(p.default,{className:_.default.dropperIcon,width:14,height:14,color:k}))})))))}A.displayName="ProfileColorSection"},355152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e){case r.SettingsOverrideReasonKeys.REDUCED_MOTION:return o.default.Messages.ACCESSIBILITY_REDUCED_MOTION_SETTINGS_OVERRIDE.format();case r.SettingsOverrideReasonKeys.REDUCED_MOTION_STICKERS:return o.default.Messages.STICKERS_AUTO_PLAY_HELP_DISABLED;default:return}};var a,r=n(130613),o=(a=n(247001))&&a.__esModule?a:{default:a}},294498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setSoundpack=function(e){r.default.track(i.AnalyticEvents.SOUNDPACK_UPDATED,{soundpack:e,previous_soundpack:o.default.getSoundpack()});a.default.dispatch({type:i.ActionTypes.SET_SOUNDPACK,soundpack:e})};var a=l(n(636602)),r=l(n(308920)),o=l(n(796608)),i=n(770348);function l(e){return e&&e.__esModule?e:{default:e}}},754966:(e,t,n)=>{
"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=p;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=n(536211),o=n(967965),i=d(n(329441)),l=n(294498),u=d(n(796608)),s=n(340038);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.className,n=(0,r.useStateFromStores)([u.default],(function(){return u.default.getSoundpack()})),a=i.default.useExperiment({}).allowSoundpacks;if(!a)return null;var d=a?(0,s.getSoundpackOptionsAprilFools2021)():[];return c(o.SingleSelect,{className:t,onChange:function(e){return(0,l.setSoundpack)(e)},value:n,options:d})}p.displayName="SoundpackSelect"},781900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchEmailSettings=function(){return p.apply(this,arguments)};t.updateEmailSetting=function(e,t){return S.apply(this,arguments)};t.updateMarketingEmailSettings=function(){return v.apply(this,arguments)};var a=n(47354),r=n(377371),o=s(n(636602)),i=s(n(351772)),l=n(969299),u=n(770348);function s(e){return e&&e.__esModule?e:{
default:e}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return d.apply(this,arguments)}function f(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){f(o,a,r,i,l,"next",e)}function l(e){f(o,a,r,i,l,"throw",e)}i(void 0)}))}}function p(){return(p=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return i.default.get({url:u.Endpoints.EMAIL_SETTINGS,trackedActionData:{event:a.NetworkActionNames.EMAIL_SETTINGS_FETCH,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.initialized;return(0,r.exact)({initialized:n})}}});case 3:t=e.sent;o.default.dispatch({
type:u.ActionTypes.EMAIL_SETTINGS_FETCH_SUCCESS,settings:t.body});e.next=10;break;case 7:e.prev=7;e.t0=e.catch(0);o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_FETCH_FAILURE});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function S(){return(S=c(regeneratorRuntime.mark((function e(t,n){var r,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE,updates:(r={},r[t]=n,r)});e.prev=1;e.next=4;return i.default.patch({url:u.Endpoints.EMAIL_SETTINGS,body:{settings:{categories:(l={},l[t]=n,l)}},trackedActionData:{event:a.NetworkActionNames.EMAIL_SETTINGS_UPDATE,properties:{category:t,value:n}}});case 4:s=e.sent;o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS,settings:s.body});e.next=11;break;case 8:e.prev=8;e.t0=e.catch(1);o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE_FAILURE});case 11:case"end":return e.stop()}
}),e,null,[[1,8]])})))).apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.MarketingEmailCategories.reduce((function(e,t){var n;return d({},e,((n={})[t]=!1,n))}),{});o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE,updates:t});e.prev=2;e.next=5;return i.default.patch({url:u.Endpoints.EMAIL_SETTINGS,body:{settings:{categories:t}},trackedActionData:{event:a.NetworkActionNames.EMAIL_SETTINGS_UPDATE,properties:{category:"marketing",value:!1}}});case 5:n=e.sent;o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE_SUCCESS,settings:n.body});e.next=12;break;case 9:e.prev=9;e.t0=e.catch(2);o.default.dispatch({type:u.ActionTypes.EMAIL_SETTINGS_UPDATE_FAILURE});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}},969299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.MarketingEmailCategories=t.EmailCategoriesList=t.EmailCategories=t.EMAILS_SUBSECTION=void 0;var a,r=(a=n(247001))&&a.__esModule?a:{default:a};var o;t.EMAILS_SUBSECTION="emails";t.EmailCategories=o;!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips";e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements"}(o||(t.EmailCategories=o={}));var i=[o.TIPS,o.RECOMMENDATIONS_AND_EVENTS,o.UPDATES_AND_ANNOUNCEMENTS];t.MarketingEmailCategories=i;var l=[{category:o.COMMUNICATION,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:o.SOCIAL,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:o.UPDATES_AND_ANNOUNCEMENTS,label:function(){
return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:o.TIPS,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:o.RECOMMENDATIONS_AND_EVENTS,label:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return r.default.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}];t.EmailCategoriesList=l},526774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getSMSBackupDisabledMessage=function(e){if(e.hasFlag(r.UserFlags.STAFF)||e.hasFlag(r.UserFlags.PARTNER))return o.default.Messages.MFA_SMS_DISABLED_PARTNER;if(null==e.email)return o.default.Messages.MFA_SMS_DISABLED_NO_EMAIL;return null}
;var a,r=n(770348),o=(a=n(247001))&&a.__esModule?a:{default:a}},109061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getBestMatches=function(e,t){var n=t.split(/\s+/g).filter((function(e){return""!==e}));if(0===n.length)return e;for(var a,i=[],l=o(e);!(a=l()).done;){for(var u,s=a.value,f=0,c=o(n);!(u=c()).done;){var p=u.value;d(s,p)&&(f+=1)}if(0!==f){null==i[f]&&(i[f]=[]);i[f].push(s)}}return(0,r.default)(i.filter((function(e){return void 0!==e})).reverse())};t.getEntries=function(e){return Array.from(Object.entries(e)).map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}}(t,n)||i(t,n)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{id:a[0],experiment:a[1]}}))};t.getExperimentDateFromId=s;t.matchesDeep=d;t.sortEntries=function(e){return e.slice().sort((function(e,t){var n=s(e.id),a=s(t.id);if(null!=n&&null!=a){var r=a.localeCompare(n);if(0!==r)return r}return e.experiment.title.localeCompare(t.experiment.title)}))};var a,r=(a=n(385564))&&a.__esModule?a:{default:a};function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return l(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=/^(\d{4}-\d{1,2})/;function s(e){var t=u.exec(e);return null!=t?t[1]:null}function d(e,t){if(Array.isArray(e))for(var n,a=o(e);!(n=a()).done;){if(d(n.value,t))return!0}else if("object"==typeof e&&null!==e)for(var r=0,i=Object.values(e);r<i.length;r++){if(d(i[r],t))return!0}else if("string"==typeof e&&e.toLowerCase().includes(t.toLowerCase()))return!0;return!1}},860238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.censorEmail=function(e){var t=(o=e.split("@"),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}}(o,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);return"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=t[0],r=t[1];var o,i;return"*".repeat(a.length)+"@"+r};t.censorPhone=function(e){return""+"*".repeat(e.length-4)+e.slice(-4)};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}},730146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=c;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=s(n(131795)),i=s(n(387316)),l=s(n(776360)),u=s(n(696499));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){var e,t,n=window.GLOBAL_ENV.RELEASE_CHANNEL,a=null===(e="c086087ffaa3d444172d49bbb8471b1fe7e8fa74")?void 0:e.substring(0,7),s=null===i.default||void 0===i.default?void 0:i.default.remoteApp.getVersion(),d=null===o.default||void 0===o.default||null===(t=o.default.os)||void 0===t?void 0:t.toString(),c=null!=i.default?"("+i.default.os.release+")":null;return f("div",{className:u.default.info},void 0,f(l.default,{tag:"span",className:u.default.line,size:l.default.Sizes.SIZE_12,color:l.default.Colors.MUTED},void 0,n," ","125580"," ",f("span",{className:u.default.versionHash},void 0,"(",a,")"))," ",null!=s?r.createElement(r.Fragment,null,f(l.default,{tag:"span",className:u.default.line,size:l.default.Sizes.SIZE_12,color:l.default.Colors.MUTED},void 0,"Host ",s)," "):null,null!=d?f(l.default,{tag:"span",className:u.default.line,
size:l.default.Sizes.SIZE_12,color:l.default.Colors.MUTED},void 0,d," ",c):null)}c.displayName="ClientDebugInfo"},321424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var a,r=O(n(667294)),o=n(536211),i=g(n(740852)),l=g(n(663303)),u=g(n(956117)),s=g(n(530250)),d=g(n(279950)),f=n(688388),c=n(194322),p=g(n(776360)),S=O(n(308920)),v=n(281699),m=n(770348),E=g(n(247001)),_=g(n(219686));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function T(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return h.apply(this,arguments)}function I(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){I(o,a,r,i,l,"next",e)}
function l(e){I(o,a,r,i,l,"throw",e)}i(void 0)}))}}function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}(t,e);function t(){for(var t,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];(t=e.call.apply(e,[this].concat(o))||this).state={codeInput:"",submitting:!1,hasError:!1,isPromoCode:!1};t.handleChange=function(e){t.setState({codeInput:e,hasError:!1})};t.handleSubmit=function(){var e=N(regeneratorRuntime.mark((function e(a){var o,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault();if(""!==(o=t.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(l=(0,v.processGiftCodeInput)(o))){e.next=8;break}
t.setState({hasError:!0});return e.abrupt("return");case 8:t.setState({submitting:!0});e.prev=9;e.next=12;return i.default.resolveGiftCode(l);case 12:if(null==(u=e.sent)||null==u.giftCode.promotion){e.next=16;break}t.setState({isPromoCode:!0});throw new Error("Cannnot redeem promotion code as gift");case 16:S.default.track(m.AnalyticEvents.OPEN_MODAL,{type:"gift_accept",location:h({},t.analyticsLocation,{object:m.AnalyticsObjects.BUTTON_CTA})});(0,c.openModalLazy)(N(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(9199)]).then(n.bind(n,109199));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,h({code:l},e))}));case 5:case"end":return e.stop()}}),e)}))));t.setState({codeInput:""});e.next=24;break;case 21:e.prev=21;e.t0=e.catch(9);t.setState({hasError:!0});case 24:e.prev=24;t.setState({submitting:!1});return e.finish(24)
;case 27:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})));return function(t){return e.apply(this,arguments)}}();return t}t.prototype.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,a=t.submitting,r=t.hasError,o=t.isPromoCode;return T(f.FormSection,{tag:f.FormTitleTags.H1,title:E.default.Messages.GIFT_INVENTORY_REDEEM_CODES},void 0,T(f.FormTitle,{},void 0,E.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),T("form",{onSubmit:this.handleSubmit},void 0,T(s.default,{},void 0,T(d.default,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:m.GIFT_CODE_REDEMPTION_PLACEHOLDER,error:!o&&r?E.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:_.default.codeRedemptionInput}),T(u.default,{type:"submit",submitting:a},void 0,E.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))),o?T(p.default,{className:_.default.errorMessage
},void 0,E.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMOTION.format({promoLink:"https://discord.com/billing/promotions/"+n})):null)};!function(e,t,n){t&&A(e.prototype,t);n&&A(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"analyticsLocation",get:function(){return h({},this.props.analyticsContext.location,{object:m.AnalyticsObjects.BUTTON_CTA})}}]);return t}(r.Component);b.displayName="CodeRedemption";function C(){var e=r.useContext(S.AnalyticsContext),t=(0,o.useStateFromStores)([l.default],(function(){return l.default.enabled}));return T(b,{analyticsContext:e,obscureInput:t})}C.displayName="ConnectedCodeRedemption"},164697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=E(n(294184)),i=E(n(441143)),l=E(n(536211)),u=E(n(728429)),s=E(n(956117)),d=E(n(558402)),f=E(n(530250)),c=n(194322),p=E(n(776360)),S=E(n(950445)),v=E(n(247001)),m=E(n(672103));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){g(o,a,r,i,l,"next",e)}function l(e){g(o,a,r,i,l,"throw",e)}i(void 0)}))}}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var h=O(f.default.Child,{grow:0,shrink:0},void 0,O(S.default,{})),I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var a=t.prototype;a.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,a=e.unverifiedNotice;return t?null!=a?a:v.default.Messages.NOTICE_UNVERIFIED_ACCOUNT:null!=n?n:v.default.Messages.NOTICE_UNCLAIMED_ACCOUNT};a.renderPrimaryAction=function(){return this.props.isClaimed?this.props.hasEmail?h:O(s.default,{
size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND,onClick:this.openChangeEmailModal},void 0,v.default.Messages.ADD_EMAIL_SHORT):O(f.default.Child,{grow:0,shrink:0},void 0,O(s.default,{size:s.default.Sizes.MEDIUM,color:s.default.Colors.BRAND,onClick:this.openClaimAccountModal},void 0,v.default.Messages.CLAIM_ACCOUNT))};a.renderSecondaryAction=function(){return this.props.isClaimed&&this.props.hasEmail?O(f.default.Child,{grow:0,shrink:0},void 0,O(s.default,{color:s.default.Colors.PRIMARY,look:s.default.Looks.LINK,onClick:this.openChangeEmailModal},void 0,v.default.Messages.CHANGE_EMAIL_SHORT)):null};a.openClaimAccountModal=function(){(0,c.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(57133)]).then(n.bind(n,304388));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()
}}),e)}))))};a.openChangeEmailModal=function(){(0,c.openModalLazy)(y(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))};a.render=function(){var e=this.props,t=e.className,n=e.isClaimed,a=e.isVerified;return n&&a?null:O(d.default,{className:(0,o.default)(m.default.wrapper,t)},void 0,O(f.default,{align:f.default.Align.CENTER},void 0,O(f.default.Child,{className:m.default.image,grow:0,shrink:0}),O(f.default.Child,{},void 0,O(p.default,{},void 0,this.renderNotice()),O(f.default,{justify:f.default.Justify.CENTER,className:m.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))};return t}(r.Component);I.displayName="EmailNotice"
;var N=l.default.connectStores([u.default],(function(){var e=u.default.getCurrentUser();(0,i.default)(null!=e,"EmailNotice: currentUser cannot be undefined");return{isClaimed:e.isClaimed(),isVerified:e.verified,hasEmail:null!=e.email}}))(I);t.default=N},39122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=L(n(667294)),o=R(n(730381)),i=R(n(536211)),l=n(91817),u=R(n(740852)),s=R(n(819660)),d=R(n(423046)),f=R(n(288356)),c=R(n(202904)),p=R(n(663303)),S=R(n(909584)),v=R(n(399561)),m=R(n(542618)),E=R(n(956117)),_=R(n(16941)),g=L(n(242881)),y=R(n(530250)),O=R(n(562475)),T=R(n(80828)),h=R(n(69405)),I=n(537683),N=n(281699),A=n(179495),M=n(770348),b=n(265517),C=R(n(247001)),P=R(n(801048));function R(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function U(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){U(o,a,r,i,l,"next",e)}function l(e){U(o,a,r,i,l,"throw",e)}i(void 0)}))}}function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function B(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}function F(e,t){
F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}function G(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t=e.giftStyle,n=e.shouldAnimate;return G(s.default,{giftStyle:t,className:P.default.seasonalGiftBox,shouldAnimate:n})}j.displayName="SeasonalAnimation";var H=function(e){B(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this)._copyModeTimeout=new l.Timeout;t.state={copyMode:g.CopyInputModes.DEFAULT};t.handleCopy=function(e){var n=t.props,a=n.giftCode,r=n.sku;(0,N.trackGiftCodeCopy)(a,r);try{
(0,A.copy)(e);t.setState({copyMode:g.CopyInputModes.SUCCESS})}catch(e){t.setState({copyMode:g.CopyInputModes.ERROR})}t._copyModeTimeout.start(1e3,(function(){t.setState({copyMode:g.CopyInputModes.DEFAULT})}))};return t}var n=t.prototype;n.componentWillUnmount=function(){this._copyModeTimeout.stop()};n.handleRevoke=function(e){u.default.revokeGiftCode(e)};n.render=function(){var e=this,t=this.props,n=t.hideCode,a=t.giftCode,i=this.state.copyMode;return G(y.default,{direction:y.default.Direction.VERTICAL,className:P.default.giftCodeRow},void 0,G(g.default,{className:P.default.codeText,value:(0,N.getGiftCodeURL)(a.code),text:this.copyButtonText,mode:i,supportsCopy:A.SUPPORTS_COPY,hideMessage:n?C.default.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:g.default.ButtonColors.BRAND,buttonLook:g.default.ButtonLooks.FILLED}),G("div",{className:P.default.subTextRow},void 0,null!=a.expiresAt?G(r.Fragment,{},void 0,C.default.Messages.GIFT_INVENTORY_EXPIRES_IN.format({
hours:a.expiresAt.diff((0,o.default)(),"h")})," ",""):null,G(_.default,{tag:"a",onClick:function(){return e.handleRevoke(a.code)}},void 0,C.default.Messages.REVOKE)))};!function(e,t,n){t&&k(e.prototype,t);n&&k(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case g.CopyInputModes.SUCCESS:return C.default.Messages.BILLING_GIFT_COPIED;case g.CopyInputModes.ERROR:return C.default.Messages.FAILED;default:return C.default.Messages.COPY}}}]);return t}(r.PureComponent);H.displayName="GiftCodeRow";var x=function(e){B(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this)._loadedAt=null;t.state={isOpen:!1,isCreating:!1,isHovered:!1};t.handleGenerateGiftCode=function(){var e=w(regeneratorRuntime.mark((function e(n){var a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation();a=t.props,
r=a.skuId,o=a.subscriptionPlanId,i=a.giftStyle;t.setState({isCreating:!0});e.next=5;return u.default.createGiftCode(r,o,i);case 5:t.setState({isCreating:!1,isOpen:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.handleToggleOpen=function(){var e=t.props,n=e.skuId,a=e.subscriptionPlanId,r=e.loadedAt,o=!t.state.isOpen;(null==r||null==t._loadedAt||r<t._loadedAt)&&o&&u.default.fetchUserGiftCodesForSKU(n,a);t.setState({isOpen:!t.state.isOpen})};return t}var n=t.prototype;n.componentDidMount=function(){this._loadedAt=Date.now()};n.renderTitle=function(){var e,t=this.props,n=t.sku,a=t.subscriptionPlan,r=t.giftCodeBatchId;e=r===b.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID?C.default.Messages.BLACK_FRIDAY_PROMOTION_GIFT_INVENTORY_TITLE:r===b.STICKERS_GIFT_CODE_BATCH_ID&&null!=a?(a.interval===M.SubscriptionIntervalTypes.MONTH?C.default.Messages.STICKERS_GIFT_INVENTORY_TITLE_MONTH:C.default.Messages.STICKERS_GIFT_INVENTORY_TITLE_YEAR).format({
skuName:n.name,intervalCount:a.intervalCount}):null==a?n.name:(a.interval===M.SubscriptionIntervalTypes.MONTH?C.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:C.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:n.name,intervalCount:a.intervalCount});return G("div",{className:P.default.gameName},void 0,e)};n.renderGenerateGiftCodeRow=function(){return G(y.default,{justify:y.default.Justify.BETWEEN,align:y.default.Align.CENTER,className:P.default.generateCodeRow},void 0,G("div",{className:P.default.codeText},void 0,C.default.Messages.GIFT_INVENTORY_GENERATE_HELP),G(E.default,{submitting:this.state.isCreating,size:E.default.Sizes.SMALL,color:E.default.Colors.BRAND,onClick:this.handleGenerateGiftCode},void 0,C.default.Messages.GIFT_INVENTORY_GENERATE_LINK))};n.setIsHovered=function(e){this.setState({isHovered:e})};n.render=function(){
var e=this,t=this.props,n=t.entitlements,a=t.application,o=t.giftCodes,i=t.className,l=t.sku,u=t.isFetching,s=t.hideCodes,d=t.giftStyle,f=this.state.isOpen;return G(m.default,{className:i},void 0,G(_.default,{onClick:this.handleToggleOpen,className:P.default.card,onMouseEnter:function(){return e.setIsHovered(!0)},onMouseLeave:function(){return e.setIsHovered(!1)}},void 0,G(m.default.Header,{splashArtURL:a.getSplashURL(512)},void 0,G("div",{className:P.default.cardHeader},void 0,G(y.default,{align:y.default.Align.CENTER},void 0,null!=d?G(j,{giftStyle:d,shouldAnimate:this.state.isHovered}):G(O.default,{game:a,size:O.default.Sizes.MEDIUM,skuId:l.id}),G("div",{className:P.default.headerText},void 0,this.renderTitle(),G("div",{className:P.default.subTextHeader},void 0,C.default.Messages.GIFT_INVENTORY_COPIES.format({copies:n.length})))),G(h.default,{direction:f?h.default.Directions.UP:h.default.Directions.DOWN,className:P.default.expandIcon})))),f?G(m.default.Body,{},void 0,u?G(T.default,{
className:P.default.spinner}):G(r.Fragment,{},void 0,o.length<n.length?this.renderGenerateGiftCodeRow():null,o.map((function(e){return G(H,{giftCode:e,sku:l,hideCode:s},e.code)})))):null)};return t}(r.PureComponent);x.displayName="EntitlementGiftGroupCard";var Y=i.default.connectStores([v.default,p.default,c.default,f.default,S.default,d.default],(function(e){var t=e.skuId,n=e.subscriptionPlanId,a=e.giftStyle,r=v.default.get(t);if(null==r)throw new Error("SKU was unavailable while rendering gift.");var o=c.default.getForGifterSKUAndPlan(d.default.getId(),t,n).filter((function(e){return!e.isClaimed})).filter((function(e){return e.giftStyle===a}));return{sku:r,hideCodes:p.default.enabled,isFetching:c.default.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:c.default.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:f.default.getGame(r.applicationId),subscriptionPlan:null!=n?(0,I.getOrFetchSubscriptionPlan)(n):null,giftCodes:o}}))(x);t.default=Y},379743:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=D(n(294184)),i=D(n(496486)),l=D(n(730381)),u=n(536211),s=D(n(636602)),d=n(851792),f=D(n(226800)),c=D(n(213847)),p=D(n(268389)),S=n(462827),v=n(969082),m=D(n(113781)),E=D(n(288356)),_=D(n(47969)),g=D(n(956117)),y=D(n(80828)),O=n(688388),T=D(n(3400)),h=D(n(971639)),I=D(n(776360)),N=n(35033),A=n(281699),M=D(n(39122)),b=n(770348),C=n(265517),P=D(n(247001)),R=D(n(266958));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return U.apply(this,arguments)}function w(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{
for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function F(e){var t,n=e.outboundPromotion,a=e.code,i=e.addClaimedOutboundPromotionCode,u=k(r.useState(!1),2),s=u[0],d=u[1],f=k(r.useState(!1),2),v=f[0],E=f[1],_=function(){return d((function(e){return!e}))},y=(0,c.default)(),O=(0,
S.getPromotionImageURL)(n.id,y),A=null!=a,M=A?(0,N.dateFormat)((0,l.default)(n.endDate).add(C.OUTBOUND_PROMOTION_REDEMPTION_EXPIRATION_WINDOW),"LL"):(0,N.dateFormat)((0,l.default)(n.endDate),"LL");A&&s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_EXPANDED_BODY.format({endDate:M,onClickDetails:_}):A&&!s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_CLAIMED_UNEXPANDED_BODY.format({endDate:M,onClickDetails:_}):!A&&s?t=P.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_EXPANDED_BODY.format({endDate:M,onClickDetails:_}):A||s||(t=P.default.Messages.OUTBOUND_PROMOTION_CARD_UNCLAIMED_UNEXPANDED_BODY.format({endDate:M,onClickDetails:_}));var b=A?P.default.Messages.OUTBOUND_PROMOTION_SEE_CODE:P.default.Messages.PROMOTION_CARD_ACTION_CLAIM,D=r.useCallback((function(){return E(!1)}),[]),L=n.outboundTitle,B=n.outboundTermsAndConditions;return r.createElement(r.Fragment,null,w("div",{className:(0,o.default)(R.default.skuCard,R.default.promotionCard)},void 0,w("div",{
className:R.default.mainPromotionCardContainer},void 0,w("div",{className:R.default.promotionCardLeftContainer},void 0,w("div",{className:R.default.promotionIcon},void 0,w("img",{alt:"",src:O,className:R.default.promotionIconImage})),w("div",{},void 0,w(h.default,{size:h.default.Sizes.SIZE_16},void 0,L),w(I.default,{size:I.default.Sizes.SIZE_14,color:I.default.Colors.STANDARD,className:R.default.promotionText},void 0,t))),w(g.default,{color:g.default.Colors.BRAND,size:g.default.Sizes.SMALL,onClick:function(){return E(!0)}},void 0,b)),s&&w(I.default,{className:R.default.promotionLegalese,size:I.default.Sizes.SIZE_12,color:I.default.Colors.HEADER_SECONDARY},void 0,p.default.parse(B,!1,{allowLinks:!0}))),v&&w(T.default,{renderModal:function(e){return r.createElement(m.default,U({},e,{onClose:D,onClaim:i,code:a,outboundPromotion:n}))},onCloseRequest:D}))}var G=function(){var e=(0,u.useStateFromStores)([E.default],(function(){return Boolean(E.default.lastFetched)})),t=(0,
u.useStateFromStoresArray)([_.default],(function(){return _.default.getGiftable()})),n=k(i.default.partition(t,(function(e){return null==e.giftCodeBatchId})),2),a=n[0],o=n[1],l=i.default.groupBy(a,(function(e){return(0,A.makeComboId)(e.skuId,e.subscriptionPlanId,e.giftStyle)})),c=k(r.useState(!1),2),p=c[0],S=c[1];r.useEffect((function(){s.default.wait((function(){(0,d.fetchGiftableEntitlements)().then((function(){return S(!0)}))}))}),[]);var m,g,T,h,I,N,D=(0,v.useOutboundPromotions)(),L=D.promotionsLoaded,U=D.activeOutboundPromotions,B=D.claimedEndedOutboundPromotions,G=D.claimedOutboundPromotionCodeMap,j=D.addClaimedOutboundPromotionCode;function H(){f.default.open(b.UserSettingsSections.PREMIUM)}return e&&p&&L?r.createElement(r.Fragment,null,(g=o.find((function(e){return e.giftCodeBatchId===C.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID&&!e.consumed})),T=null!==(m=o.filter((function(e){return e.giftCodeBatchId===C.STICKERS_GIFT_CODE_BATCH_ID&&!e.consumed})))&&void 0!==m?m:[],
h=k(i.default.partition(T,(function(e){return e.subscriptionPlanId===b.SubscriptionPlans.PREMIUM_YEAR_TIER_2})),2),I=h[0],N=h[1],w(O.FormSection,{tag:O.FormTitleTags.H1,title:U.length+B.length>0?P.default.Messages.GIFT_INVENTORY_YOUR_GIFTS:void 0},void 0,B.map((function(e){var t=e.code,n=e.promotion;return w(F,{outboundPromotion:n,code:t,addClaimedOutboundPromotionCode:j},n.id)})),U.map((function(e){return w(F,{outboundPromotion:e,code:G[e.id],addClaimedOutboundPromotionCode:j},e.id)})),null!=g?w(M.default,{className:R.default.skuCard,skuId:g.skuId,subscriptionPlanId:g.subscriptionPlanId,entitlements:[g],giftCodeBatchId:C.BLACK_FRIDAY_2020_GIFT_CODE_BATCH_ID},(0,A.makeComboId)(g.skuId,g.subscriptionPlanId)):null,I.length>0?w(M.default,{className:R.default.skuCard,skuId:I[0].skuId,subscriptionPlanId:I[0].subscriptionPlanId,entitlements:I,giftCodeBatchId:C.STICKERS_GIFT_CODE_BATCH_ID},(0,A.makeComboId)(I[0].skuId,I[0].subscriptionPlanId)):null,N.length>0?w(M.default,{
className:R.default.skuCard,skuId:N[0].skuId,subscriptionPlanId:N[0].subscriptionPlanId,entitlements:N,giftCodeBatchId:C.STICKERS_GIFT_CODE_BATCH_ID},(0,A.makeComboId)(N[0].skuId,N[0].subscriptionPlanId)):null)),w(O.FormSection,{tag:O.FormTitleTags.H1,title:P.default.Messages.GIFT_INVENTORY_GIFTS_YOU_PURCHASED},void 0,0===Object.keys(l).length?w("div",{className:R.default.emptyState},void 0,w("div",{className:R.default.emptyStateImage}),w("h2",{className:R.default.emptyStateHeader},void 0,P.default.Messages.GIFT_INVENTORY_NO_GIFTS),w("p",{className:R.default.emptyStateSubtext},void 0,P.default.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onClick:H}))):i.default.keys(l).map((function(e){var t=(0,A.parseComboId)(e),n=t.skuId,a=t.subscriptionPlanId,r=t.giftStyle;return w(M.default,{className:R.default.skuCard,skuId:n,subscriptionPlanId:a,entitlements:l[e],giftStyle:r},e)})))):w(y.default,{className:R.default.loading})};t.default=G},243905:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=O;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(6505),l=n(730977),u=n(688388),s=S(n(992193)),d=S(n(259530)),f=n(967965),c=S(n(776360)),p=S(n(639617));function S(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0
}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=m(u.FormDivider,{});function y(e){var t=e.hotspotLocation,n=E((0,o.useStateFromStoresArray)([i.HotspotStore],(function(){return[i.HotspotStore.hasHotspot(t,!0),i.HotspotStore.getHotspotOverride(t)]})),2),a=n[0],c=n[1];return r.createElement(r.Fragment,null,m(u.FormItem,{title:t,className:p.default.hotspotSwitch},void 0,a?m(l.TooltipContainer,{className:p.default.iconContainer,element:"span",text:"Active"},void 0,m(s.default,{className:p.default.checkmark})):m(l.TooltipContainer,{className:p.default.iconContainer,element:"span",text:"Inactive"},void 0,m(d.default,{className:p.default.xmark})),m(f.SingleSelect,{className:p.default.overrideSelect,value:c,options:[{value:void 0,label:"No Override"},{value:!0,
label:"Force Active"},{value:!1,label:"Force Inactive"}],onChange:function(e){return null!=e?(0,i.setHotspotOverride)(t,e):(0,i.clearHotspotOverride)(t)}})),g)}function O(e){var t=e.className;return m(u.FormSection,{title:"Hotspots",tag:u.FormTitleTags.H1,className:t},void 0,m(c.default,{className:p.default.helpText,tag:"p"},void 0,'All the "hotspots" in app, and their current status. Use the select menu to override them on or off.'),Object.keys(i.HotspotLocations).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return m(y,{hotspotLocation:e},e)})))}O.displayName="HotspotConfiguration"},388988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=C(n(294184)),i=C(n(817673)),l=n(536211),u=n(832635),s=n(856259),d=C(n(849209)),f=n(547642),c=C(n(500985)),p=C(n(655205)),S=C(n(314182)),v=C(n(30098)),m=C(n(146771)),E=C(n(151097)),_=C(n(956117)),g=C(n(279950)),y=C(n(730977)),O=n(688388),T=C(n(588417)),h=n(967965),I=C(n(776360)),N=n(770348),A=C(n(598022)),M=C(n(349748)),b=C(n(3066));function C(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return R.apply(this,arguments)}function D(e,t,n,r){
a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var w=D(O.FormTitle,{},void 0,"Gift"),k=D(O.FormTitle,{},void 0,"Premium Select Plan"),B=D(O.FormTitle,{},void 0,"Boost"),F=D("div",{},void 0,"No Guild to boost"),G=D(O.FormTitle,{},void 0,D("div",{},void 0,"Standalone: Trial Promotion Redemption"),D(E.default,{href:"https://i.dis.gd/createPromo"},void 0,"How to create promotion")),j=D(O.FormTitle,{},void 0,"Standalone: Gift/Subscription Purchase"),H=D(O.FormTitle,{},void 0,"Creator Revenue"),x=D(O.FormTitle,{},void 0,"Helpers");function Y(){var e=L(r.useState(N.PremiumSubscriptionSKUs.TIER_2),2),t=e[0],n=e[1],a=L((0,
l.useStateFromStoresArray)([v.default],(function(){return[v.default.getGuilds()]})),1)[0],E=L((0,l.useStateFromStoresArray)([m.default],(function(){return[m.default.getPremiumSubscription()]})),1)[0],C=Object.values(a).map((function(e){return{value:e,label:e.name}})),P=L(r.useState(C.length>0?C[0].value:null),2),U=P[0],Y=P[1],V=L(r.useState(""),2),W=V[0],K=V[1],z=L(r.useState({plan_id:N.SubscriptionPlans.PREMIUM_MONTH_TIER_2,gift:"true"}),2),Q=z[0],$=z[1],Z="true"!==Q.gift&&null!=E,q=L(r.useState(C.length>0?C[0].value:null),2),X=q[0],J=q[1];(0,f.useFetchListingsForGuild)(null==X?void 0:X.id);var ee=(0,f.useGroupListingsForGuild)(null==X?void 0:X.id),te=r.useMemo((function(){return null==X?[]:ee.filter((function(e){return null!=e.subscription_listings&&e.subscription_listings.map((function(e){return e.published})).includes(!0)}))}),[ee,X]);return D(r.Fragment,{},void 0,D(O.FormSection,{title:"Payment Flow Modals",tag:O.FormTitleTags.H1},void 0,D(O.FormItem,{className:(0,
o.default)(b.default.flex,A.default.formItem)},void 0,w,D(h.SingleSelect,{value:t,options:[{value:N.PremiumSubscriptionSKUs.TIER_2,label:"nitro"},{value:N.PremiumSubscriptionSKUs.TIER_1,label:"nitro classic"}],onChange:function(e){return n(e)}}),D(S.default,{subscriptionTier:t,isGift:!0,premiumModalAnalyticsLocation:{},className:M.default.button})),D(T.default,{className:A.default.formDivider}),D(O.FormItem,{className:(0,o.default)(b.default.flex,A.default.formItem)},void 0,k,D(_.default,{onClick:function(){return(0,p.default)()}},void 0,"Select Plan")),D(T.default,{className:A.default.formDivider}),D(O.FormItem,{className:(0,o.default)(b.default.flex,A.default.formItem)},void 0,B,D(h.SingleSelect,{value:U,options:C,onChange:function(e){return Y(e)}}),null!=U?D(d.default,{guild:U,analyticsLocation:{}}):F),D(T.default,{className:A.default.formDivider}),D(O.FormItem,{className:(0,o.default)(b.default.flex,A.default.formItem)},void 0,G,D(g.default,{placeholder:"Promotion Code",value:W,
onChange:function(e){return K(e)}}),D(y.default,{text:"Need Promotion Code",shouldShow:W.length<1},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return D(_.default,{disabled:W.length<1,onMouseEnter:t,onMouseLeave:n,onClick:function(){window.open(N.Routes.BILLING_PROMOTION_REDEMPTION(W))}},void 0,"Open Link")}))),D(T.default,{className:A.default.formDivider}),D(O.FormItem,{className:(0,o.default)(b.default.flex,A.default.formItem)},void 0,j,D(h.SingleSelect,{value:Q.plan_id,options:[{value:N.SubscriptionPlans.PREMIUM_MONTH_TIER_1,label:"nitro classic"},{value:N.SubscriptionPlans.PREMIUM_MONTH_TIER_2,label:"nitro"}],onChange:function(e){return $((function(t){return R({},t,{plan_id:e})}))}}),D(h.SingleSelect,{value:Q.gift,options:[{value:"true",label:"Gift"},{value:"false",label:"Not Gift"}],onChange:function(e){return $((function(t){return R({},t,{gift:e})}))}}),D(y.default,{text:"Already subscribed",shouldShow:Z},void 0,(function(e){var t=e.onMouseEnter,n=e.onMouseLeave
;return D(_.default,{onMouseLeave:n,onMouseEnter:t,disabled:Z,onClick:function(){window.open(N.Routes.BILLING_PREMIUM_SUBSCRIBE+"?"+i.default.stringify(R({},Q)))}},void 0,"Open Link")}))),D(T.default,{className:A.default.formDivider}),D(O.FormItem,{className:(0,o.default)(b.default.flex,b.default.alignCenter,A.default.formItem)},void 0,H,D(I.default,{className:A.default.guildServerDescription},void 0,"Premium Server Subscription For"),D(h.SingleSelect,{value:X,options:C,onChange:function(e){return J(e)}})),null!=X?D("div",{className:(0,o.default)(A.default.groupListings,b.default.flex)},void 0,te.map((function(e){return e.subscription_listings_ids.map((function(t){return D(c.default,{guildId:X.id,groupListingId:e.id,listingId:t},t)}))}))):null,D(T.default,{className:A.default.formDivider}),D(O.FormItem,{className:(0,o.default)(b.default.flex,A.default.formItem)},void 0,x,D(_.default,{onClick:function(){return(0,s.resetSubscriptionPlanData)()}
},void 0,"Reset SubscriptionPlanStore"),D(_.default,{onClick:function(){return(0,u.resetSubscriptionStore)()}},void 0,"Reset SubscriptionStore"))))}Y.displayName="PaymentFlowModalTestPage";var V=Y;t.default=V},950445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=v(n(441143)),i=v(n(536211)),l=v(n(939949)),u=v(n(88509)),s=v(n(728429)),d=v(n(956117)),f=v(n(502197)),c=n(194322),p=v(n(776360)),S=v(n(247001));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){
if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function E(){E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return E.apply(this,arguments)}function _(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;g(e,t)}(t,e);function t(){
for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).state={isSendingVerificationEmail:!1};t.handleResendVerification=function(){var e=t.props,n=e.currentUser,a=e.onClick;null==a||a();t.setState({isSendingVerificationEmail:!0},(function(){l.default.verifyResend().then((function(){return(0,c.openModal)((function(e){return r.createElement(f.default,E({header:S.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:S.default.Messages.OKAY,confirmButtonColor:d.default.Colors.BRAND},e),_(p.default,{size:p.default.Sizes.SIZE_16},void 0,S.default.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})))}))})).catch((function(e){var t=e.body,n=S.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email);(0,c.openModal)((function(e){return r.createElement(u.default,E({title:S.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))}))})).then((function(){return t.setState({isSendingVerificationEmail:!1})}))}))}
;return t}t.prototype.render=function(){var e=this.props,t=e.color,n=e.look,a=e.size;return _(d.default,{look:n,size:a,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,S.default.Messages.RESEND_VERIFICATION_EMAIL)};return t}(r.Component);y.displayName="ResendEmailVerificationButton";y.defaultProps={size:d.default.Sizes.MEDIUM,color:d.default.Colors.BRAND};var O=i.default.connectStores([s.default],(function(){var e=s.default.getCurrentUser();(0,o.default)(null!=e,"ResendEmailVerificationButton: currentUser cannot be undefined");return{currentUser:e}}))(y);t.default=O},815780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=v;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a)}(n(667294));var a,r=f(n(805764)),o=f(n(151097)),i=f(n(877622)),l=f(n(170331)),u=f(n(637853)),s=n(770348),d=f(n(126436));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S={offset:{top:-8}};function v(){return p("div",{
className:d.default.socialLinks},void 0,p(o.default,{target:"_blank",tabIndex:-1,rel:"author",title:"Twitter",href:(0,r.default)(s.LocalizedLinks.TWITTER),className:d.default.link,focusProps:S},void 0,p(u.default,{foreground:d.default.foreground,"aria-hidden":!0})),p(o.default,{target:"_blank",rel:"author",title:"Facebook",tabIndex:-1,href:s.SOCIAL_LINKS.FACEBOOK_URL,className:d.default.link,focusProps:S},void 0,p(i.default,{foreground:d.default.foreground,"aria-hidden":!0})),p(o.default,{target:"_blank",rel:"author",title:"Instagram",tabIndex:-1,href:s.SOCIAL_LINKS.INSTAGRAM_URL,className:d.default.link,focusProps:S},void 0,p(l.default,{foreground:d.default.foreground,"aria-hidden":!0})))}v.displayName="SocialLinks"},825541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=D
;var a,r,o=N(n(667294)),i=n(536211),l=h(n(636602)),u=N(n(446637)),s=h(n(525917)),d=h(n(424099)),f=h(n(956117)),c=h(n(530250)),p=h(n(682473)),S=h(n(279950)),v=n(354479),m=n(688388),E=n(3400),_=n(967965),g=n(770348),y=h(n(247001)),O=h(n(253769)),T=h(n(380203));function h(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function N(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function A(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){M(o,a,r,i,l,"next",e)}function l(e){M(o,a,r,i,l,"throw",e)}i(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()
}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){e.LOCALHOST="localhost";e.PROXY="proxy"}(r||(r={}));function R(e,t,n){if(null==e)return null;switch(e){case r.LOCALHOST:return"https://localhost:"+t;case r.PROXY:return(0,s.default)(n)}}function D(e){var t=e.onClose,n=e.transitionState,a=(0,i.useStateFromStoresObject)([d.default],(function(){return{authorizedApplicationId:d.default.testModeApplicationId,
authorizationError:d.default.error,authorizing:d.default.isFetchingAuthorization}})),s=a.authorizedApplicationId,h=a.authorizationError,I=a.authorizing,N=C(o.useState(null!=s?s:""),2),M=N[0],P=N[1],D=C(o.useState(""),2),L=D[0],U=D[1],w=C(o.useState(null),2),k=w[0],B=w[1],F=(0,v.useUID)(),G=g.SNOWFLAKE_REGEX.test(M);o.useEffect((function(){return function(){return l.default.wait((function(){return u.resetError()}))}}),[]);function j(){return(j=b(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.resetError();n=R(k,L,M);e.next=4;return u.authorizeAndSetTestModeApplication(M,n);case 4:null!=e.sent&&t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=null!=s&&s===M,x=H?function(){u.reset();P("");B(null)}:function(){return j.apply(this,arguments)};return A(E.ModalRoot,{"aria-labelledby":F,transitionState:n},void 0,A(E.ModalHeader,{justify:c.default.Justify.BETWEEN,separator:!1
},void 0,A(m.FormTitle,{id:F,tag:m.FormTitle.Tags.H1,className:T.default.marginReset},void 0,y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),A(E.ModalCloseButton,{onClick:t})),A(E.ModalContent,{className:O.default.modalContent},void 0,A(m.FormText,{className:T.default.marginBottom20,type:m.FormText.Types.DESCRIPTION},void 0,y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),null==h?null:A(p.default,{className:T.default.marginBottom20},void 0,h),A("form",{onSubmit:function(e){e.preventDefault();x()}},void 0,A(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.START},void 0,A(m.FormItem,{className:O.default.inputWrapper,title:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER,required:!0},void 0,A(S.default,{value:M,maxLength:19,error:G?null:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID,onChange:function(e){P(e)},disabled:I})),A(m.FormItem,{className:O.default.inputWrapper,
title:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ORIGIN_LABEL},void 0,A(_.SingleSelect,{isDisabled:!G||""===M,value:k,options:[{value:r.LOCALHOST,label:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_LOCALHOST_OPTION,key:"localhost"},{value:r.PROXY,label:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PROXY_OPTION,key:"proxy"}],onChange:function(e){B(e)},placeholder:"URL Origin Type"})),k!==r.LOCALHOST?null:A(m.FormItem,{className:O.default.inputWrapper,title:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PORT_NUMBER_LABEL,required:!0},void 0,A(S.default,{value:L,maxLength:5,onChange:function(e){return U(e)},disabled:I})),A(f.default,{submitting:I,type:"submit",disabled:!G||0===M.length||k===r.LOCALHOST&&0===L.length,color:H?f.default.Colors.RED:f.default.Colors.GREEN},void 0,H?y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))}D.displayName="TextModeModal"},874364:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=k(n(667294)),o=U(n(294184)),i=U(n(441143)),l=U(n(536211)),u=n(377371),s=U(n(163521)),d=U(n(498811)),f=U(n(410671)),c=U(n(326353)),p=U(n(886279)),S=U(n(149342)),v=U(n(54725)),m=n(947472),E=U(n(753304)),_=U(n(728429)),g=U(n(151097)),y=k(n(956117)),O=U(n(789446)),T=U(n(16941)),h=U(n(530250)),I=n(688388),N=n(194322),A=n(135628),M=n(179495),b=n(526774),C=n(770348),P=n(52656),R=U(n(247001)),D=U(n(177056)),L=U(n(380203));function U(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function B(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){B(o,a,r,i,l,"next",e)}function l(e){B(o,a,r,i,l,"throw",e)}i(void 0)}))}}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return G.apply(this,arguments)}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}function H(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e){var t=e.code,n=t.code,a=t.consumed,o=n.substr(0,4)+"-"+n.substr(4),i=r.useRef(null),l=r.useCallback((function(e){if("c"===e.key&&e.metaKey&&M.SUPPORTS_COPY){var t;e.preventDefault();e.stopPropagation();(0,M.copy)(o);null==i||null===(t=i.current)||void 0===t||t.focus()}}),[o]);return H("li",{className:L.default.marginBottom20},void 0,H(T.default,{innerRef:i,className:D.default.backupCode,onKeyDown:l},void 0,H(O.default,{displayOnly:!0,readOnly:!0,className:D.default.codeCheckbox,value:a},void 0,H("span",{className:D.default.code},void 0,o))))}x.displayName="BackupCodeItem";var Y=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}(t,e);function t(){
for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).state={revealed:!1,password:""};t.togglePhoneNumberVisibility=function(e){e.preventDefault();t.setState({revealed:!t.state.revealed})};t.handlePasswordChange=function(e){t.setState({password:e})};t.handleEnableMFA=function(){(0,N.openModal)((function(e){return r.createElement(S.default,G({},e,{handleSubmit:function(e){return s.default.enableMFAStart(e)},onError:function(n){var a=0;"object"==typeof n&&null!=n&&(0,u.hasOwnProperty)(n,"code")&&"number"==typeof n.code&&(a=n.code);if(a===C.AbortCodes.MFA_INVALID_SECRET){e.onClose();(0,N.openModal)((function(e){return r.createElement(c.default,G({},e,{password:t.state.password,handleEnableMFASuccess:t.handleEnableMFASuccess}))}))}},onPasswordChange:t.handlePasswordChange,title:R.default.Messages.TWO_FA_ENABLE,actionText:R.default.Messages.CONTINUE}))}))};t.handleEnableMFASuccess=function(){(0,N.openModal)((function(e){
return r.createElement(p.default,e)}),{onCloseRequest:C.NOOP_NULL})};t.handleDisableMFA=function(){s.default.disable()};t.generateBackupCodes=F(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.default.getVerificationKey();e.next=3;return s.default.confirmViewBackupCodes(t,!0);case 3:case"end":return e.stop()}}),e)})));t.sendMFABackupCodesVerificationKeyEmail=function(){(0,N.openModal)((function(e){return r.createElement(S.default,G({},e,{handleSubmit:function(e){return s.default.sendMFABackupCodesVerificationKeyEmail(e).then((function(){t.viewBackupCodes(e)}))},title:R.default.Messages.TWO_FA_VIEW_BACKUP_CODES_ENTER_PASSWORD,actionText:R.default.Messages.TWO_FA_BACKUP_CODES_NEXT_ACTION}))}))};t.viewBackupCodes=function(e){(0,N.openModal)((function(t){return r.createElement(f.default,G({},t,{handleSubmit:function(e){return s.default.confirmViewBackupCodes(e,!1).then((function(){return t.onClose()}))},
maxLength:8,title:R.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_LABEL,label:R.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_INPUT_LABEL,forceNoPlaceholder:!0,retryPrompt:R.default.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_PROMPT,retrySuccessMessage:R.default.Messages.TWO_FA_CONFIRM_VIEW_RESEND_EMAIL_SUCCESS,onRetry:function(){return s.default.sendMFABackupCodesVerificationKeyEmail(e)},actionText:R.default.Messages.TWO_FA_VIEW_CODES_SUBMIT,helpMessage:R.default.Messages.TWO_FA_CONFIRM_VIEW_BACKUP_CODES_BODY}))}))};t.getDownloadFileContents=function(){var e=t.props.backupCodes.map((function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")})).join("\r\n");return R.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e};t.handleChangePhoneNumber=function(){t.openPhoneVerificationModal()};t.handleEnableSMS=function(){var e=function(){(0,N.openModal)((function(e){
return r.createElement(S.default,G({},e,{handleSubmit:s.default.enableSMS,title:R.default.Messages.MFA_SMS_ENABLE}))}))};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()};t.handleDisableSMS=function(){(0,N.openModal)((function(e){return r.createElement(S.default,G({},e,{handleSubmit:s.default.disableSMS,title:R.default.Messages.MFA_SMS_REMOVE}),R.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)}))};return t}var a=t.prototype;a.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)};a.renderMFASMS=function(){var e,t,n=this.state.revealed,a=this.props,r=a.currentUser,o=a.togglingSMS,i=null!=r.phone,l=r.hasFlag(C.UserFlags.MFA_SMS);if(i||l){var u=n?r.phone:this.maskPhoneNumber(r.phone);t=H(I.FormText,{type:I.FormText.Types.DESCRIPTION,className:L.default.marginBottom8},void 0,R.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:u}),H(g.default,{onClick:this.togglePhoneNumberVisibility,
className:D.default.phoneRevealer},void 0,n?R.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:R.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(l)e=H(h.default,{className:i?"":L.default.marginTop8},void 0,H(y.default,{color:y.default.Colors.RED,look:y.default.Looks.OUTLINED,size:y.default.Sizes.SMALL,submitting:o,onClick:this.handleDisableSMS},void 0,R.default.Messages.MFA_SMS_REMOVE));else{var s=(0,b.getSMSBackupDisabledMessage)(r);e=H(h.default,{className:i?"":L.default.marginTop8},void 0,H(y.default,{onClick:this.handleEnableSMS,size:y.default.Sizes.SMALL,submitting:o,disabled:null!=s},void 0,null!=s?s:R.default.Messages.MFA_SMS_ENABLE),i?H(y.default,{onClick:this.handleChangePhoneNumber,color:y.default.Colors.PRIMARY,size:y.default.Sizes.SMALL,look:y.default.Looks.LINK},void 0,R.default.Messages.CHANGE_PHONE_NUMBER):null)}return H(I.FormSection,{className:L.default.marginTop40,title:R.default.Messages.MFA_SMS_AUTH},void 0,H(I.FormText,{type:I.FormText.Types.DESCRIPTION
},void 0,R.default.Messages.MFA_SMS_AUTH_SALES_PITCH),t,e)};a.renderEnabled=function(){var e,t=this.props.backupCodes,a=H(y.default,{onClick:this.sendMFABackupCodesVerificationKeyEmail,size:y.default.Sizes.SMALL},void 0,R.default.Messages.TWO_FA_VIEW_BACKUP_CODES);if(t.length>0){a=H(d.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,H(y.default,{size:y.default.Sizes.SMALL},void 0,R.default.Messages.TWO_FA_DOWNLOAD_CODES));var r=function(e){return e.map((function(e){return H(x,{code:e},e.code)}))};e=H(I.FormSection,{title:R.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,H(I.FormText,{type:I.FormText.Types.DESCRIPTION,className:L.default.marginBottom20},void 0,R.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),H(h.default,{},void 0,H(h.default.Child,{},void 0,H("ul",{className:D.default.checkboxGroup},void 0,r(t.slice(0,t.length/2)))),H(h.default.Child,{},void 0,H("ul",{className:D.default.checkboxGroup
},void 0,r(t.slice(t.length/2))))),H("div",{},void 0,H(y.default,{onClick:this.generateBackupCodes,look:y.ButtonLooks.LINK,size:y.ButtonSizes.MIN},void 0,R.default.Messages.TWO_FA_GENERATE_CODES)),H(I.FormDivider,{className:L.default.marginTop20}))}return H(I.FormSection,{},void 0,H(I.FormTitle,{className:(0,o.default)(D.default.isEnabled,L.default.marginTop4,L.default.marginBottom8)},void 0,H("img",{alt:"",className:(0,o.default)(D.default.lockIcon),src:n(392544)}),R.default.Messages.TWO_FA_ENABLED),H(I.FormText,{type:I.FormText.Types.DESCRIPTION,className:L.default.marginBottom20},void 0,R.default.Messages.TWO_FA_DESCRIPTION),H(h.default,{justify:h.default.Justify.START,className:L.default.marginBottom20},void 0,H(h.default.Child,{wrap:!0,grow:0},void 0,a),H(h.default.Child,{wrap:!0},void 0,H(y.default,{onClick:this.handleDisableMFA,size:y.default.Sizes.SMALL,color:y.ButtonColors.RED,look:y.ButtonLooks.OUTLINED},void 0,R.default.Messages.TWO_FA_REMOVE))),e,this.renderMFASMS())}
;a.renderDisabled=function(){return H(I.FormSection,{title:R.default.Messages.TWO_FA},void 0,H(I.FormText,{type:I.FormText.Types.DESCRIPTION,className:L.default.marginBottom20},void 0,R.default.Messages.TWO_FA_SALES_PITCH),H(I.FormItem,{},void 0,H(y.default,{onClick:this.handleEnableMFA,size:y.ButtonSizes.SMALL},void 0,R.default.Messages.TWO_FA_ENABLE)))};a.render=function(){var e=this.props.currentUser;return A.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():H(I.FormSection,{title:R.default.Messages.TWO_FA},void 0,H(I.FormText,{type:I.FormText.Types.DESCRIPTION},void 0,R.default.Messages.TWO_FA_NOT_VERIFIED)):H(I.FormSection,{title:R.default.Messages.TWO_FA},void 0,H(I.FormText,{type:I.FormText.Types.DESCRIPTION},void 0,R.default.Messages.TWO_FA_USE_DESKTOP_APP))};a.openPhoneVerificationModal=function(e){void 0===e&&(e={});(0,N.openModal)((function(t){return r.createElement(v.default,G({reason:m.ChangePhoneReason.USER_SETTINGS_UPDATE},t,e))}),{
modalKey:P.PHONE_VERIFICATION_MODAL_KEY})};return t}(r.PureComponent);Y.displayName="TwoFactorAuth";var V=l.default.connectStores([_.default,E.default],(function(){var e=_.default.getCurrentUser();(0,i.default)(null!=e,"TwoFactorAuth: currentUser cannot be undefined");return{currentUser:e,togglingSMS:E.default.togglingSMS}}))(Y);t.default=V},64721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.getUserSettingsSections=function(e){return ge(e).filter((function(e){var t=e.section;return t!==c.SectionTypes.HEADER&&t!==c.SectionTypes.CUSTOM&&t!==c.SectionTypes.DIVIDER})).filter((function(e){return null==e.predicate||e.predicate()}))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Se(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=n(536211),i=pe(n(939949)),l=pe(n(241165)),u=n(264720),s=pe(n(226800)),d=pe(n(284382)),f=pe(n(898361)),c=n(826859),p=pe(n(145371)),S=pe(n(235879)),v=pe(n(844784)),m=pe(n(142721)),E=n(962119),_=pe(n(101499)),g=n(684803),y=n(653311),O=n(969082),T=pe(n(137787)),h=pe(n(225249)),I=pe(n(776115)),N=pe(n(635014)),A=pe(n(816624)),M=pe(n(516818)),b=pe(n(871778)),C=pe(n(314355)),P=pe(n(81636)),R=pe(n(434663)),D=pe(n(417184)),L=pe(n(502197)),U=n(194322),w=pe(n(776360)),k=n(864489),B=pe(n(730146)),F=pe(n(243905)),G=pe(n(388988)),j=pe(n(815780)),H=pe(n(362979)),x=pe(n(371077)),Y=pe(n(299943)),V=pe(n(556825)),W=pe(n(835672)),K=pe(n(24072)),z=pe(n(710033)),Q=pe(n(367865)),$=pe(n(117944)),Z=pe(n(418415)),q=pe(n(122253)),X=pe(n(913458)),J=pe(n(783949)),ee=pe(n(764422)),te=pe(n(720034)),ne=pe(n(325539)),ae=pe(n(313900)),re=pe(n(394163)),oe=pe(n(332798)),ie=pe(n(811030)),le=pe(n(541247)),ue=pe(n(547342)),se=pe(n(954663)),de=pe(n(229024)),fe=n(770348),ce=pe(n(247001));function pe(e){
return e&&e.__esModule?e:{default:e}}function Se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Se=function(e){return e?n:t})(e)}function ve(){ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return ve.apply(this,arguments)}function me(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Ee=le.default,_e=me(R.default,{width:16,height:16});function ge(e){var t=e.premiumTrialCount,n=e.unseenGiftCount,a=e.showPrepaidPaymentPastDueWarning;return[{section:c.SectionTypes.HEADER,
label:ce.default.Messages.USER_SETTINGS},{section:fe.UserSettingsSections.ACCOUNT,label:ce.default.Messages.USER_SETTINGS_MY_ACCOUNT,ariaLabel:ce.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:x.default},{section:fe.UserSettingsSections.PROFILE_CUSTOMIZATION,label:ce.default.Messages.USER_SETTINGS_USER_PROFILE,ariaLabel:ce.default.Messages.USER_SETTINGS_USER_PROFILE,element:de.default,notice:{store:A.default,element:se.default}},{section:fe.UserSettingsSections.PRIVACY_AND_SAFETY,label:ce.default.Messages.PRIVACY_AND_SAFETY,element:ae.default},{section:fe.UserSettingsSections.AUTHORIZED_APPS,label:ce.default.Messages.AUTHORIZED_APPS,element:W.default},{section:fe.UserSettingsSections.CONNECTIONS,label:ce.default.Messages.CONNECTIONS,element:z.default},{section:c.SectionTypes.DIVIDER},{section:c.SectionTypes.HEADER,label:ce.default.Messages.BILLING_SETTINGS},{section:fe.UserSettingsSections.PREMIUM,ariaLabel:ce.default.Messages.PREMIUM_TITLE,label:ce.default.Messages.PREMIUM_TITLE,
element:T.default,badgeCount:t},{section:fe.UserSettingsSections.GUILD_BOOSTING,label:ce.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,element:ne.default},{section:fe.UserSettingsSections.SUBSCRIPTIONS,ariaLabel:ce.default.Messages.SUBSCRIPTIONS_TITLE,label:ce.default.Messages.SUBSCRIPTIONS_TITLE,icon:a?me(D.default,{width:16,height:16,color:fe.Colors.STATUS_YELLOW}):null,element:h.default},{section:fe.UserSettingsSections.INVENTORY,label:ce.default.Messages.GIFT_INVENTORY,element:q.default,badgeCount:n,ariaLabel:ce.default.Messages.GIFT_INVENTORY},{section:fe.UserSettingsSections.BILLING,label:ce.default.Messages.BILLING,element:K.default},{section:c.SectionTypes.DIVIDER},{section:c.SectionTypes.HEADER,label:ce.default.Messages.APP_SETTINGS},{section:fe.UserSettingsSections.APPEARANCE,label:ce.default.Messages.APPEARANCE,element:V.default},{section:fe.UserSettingsSections.ACCESSIBILITY,label:ce.default.Messages.ACCESSIBILITY,element:H.default},{
section:fe.UserSettingsSections.VOICE,label:ce.default.Messages.VOICE_AND_VIDEO,element:ie.default,predicate:function(){return N.default.isSupported()}},{section:fe.UserSettingsSections.POGGERMODE,label:ce.default.Messages.POGGERMODE,element:_.default,predicate:E.poggermodeEnabled},{section:fe.UserSettingsSections.TEXT,label:ce.default.Messages.TEXT_AND_IMAGES,element:oe.default},{section:fe.UserSettingsSections.NOTIFICATIONS,label:ce.default.Messages.NOTIFICATIONS,element:ee.default},{section:fe.UserSettingsSections.KEYBINDS,label:ce.default.Messages.KEYBINDS,element:X.default},{section:fe.UserSettingsSections.LOCALE,label:ce.default.Messages.LANGUAGE,element:J.default},{section:fe.UserSettingsSections.WINDOWS,label:ce.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:le.default,predicate:function(){return k.isPlatformEmbedded&&(0,k.isWindows)()}},{section:fe.UserSettingsSections.LINUX,label:ce.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:Ee,predicate:function(){
return k.isPlatformEmbedded&&(0,k.isLinux)()}},{section:fe.UserSettingsSections.STREAMER_MODE,label:ce.default.Messages.STREAMER_MODE,element:re.default},{section:fe.UserSettingsSections.ADVANCED,label:ce.default.Messages.SETTINGS_ADVANCED,element:Y.default},{section:c.SectionTypes.DIVIDER},{section:c.SectionTypes.HEADER,label:ce.default.Messages.ACTIVITY_SETTINGS},{section:fe.UserSettingsSections.ACTIVITY_STATUS,label:ce.default.Messages.ACTIVITY_STATUS,element:$.default},{section:fe.UserSettingsSections.OVERLAY,label:ce.default.Messages.OVERLAY,element:te.default,predicate:function(){return P.default.isSupported()||!1}},{section:c.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return l.default.showChangeLog()},label:ce.default.Messages.CHANGE_LOG},{section:fe.UserSettingsSections.HYPESQUAD_ONLINE,label:ce.default.Messages.USER_SETTINGS_HYPESQUAD,element:Z.default},{section:fe.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:ue.default,predicate:function(){
return I.default.isDeveloper}},{section:fe.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:Q.default,predicate:function(){return I.default.isDeveloper}},{section:fe.UserSettingsSections.HOTSPOT_OPTIONS,label:"Hotspot Options",element:F.default,predicate:function(){return I.default.isDeveloper}},{section:fe.UserSettingsSections.DISMISSIBLE_CONTENT_OPTIONS,label:"Dismissible Contents",element:m.default,predicate:function(){return I.default.isDeveloper}},{section:fe.UserSettingsSections.PAYMENT_FLOW_MODAL_TEST_PAGE,label:"Payment Flow Modals",element:G.default,predicate:function(){return I.default.isDeveloper}},{section:c.SectionTypes.DIVIDER},{section:"logout",onClick:function(){(0,U.openModal)((function(e){return r.createElement(L.default,ve({header:ce.default.Messages.LOGOUT,confirmText:ce.default.Messages.LOGOUT,cancelText:ce.default.Messages.CANCEL,onCancel:e.onClose,onConfirm:function(){return i.default.logout()}},e),me(w.default,{
size:w.default.Sizes.SIZE_16},void 0,ce.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))}))},label:ce.default.Messages.LOGOUT,ariaLabel:ce.default.Messages.LOGOUT,icon:_e},{section:c.SectionTypes.DIVIDER},{section:c.SectionTypes.CUSTOM,element:j.default},{section:c.SectionTypes.CUSTOM,element:B.default}]}var ye=r.forwardRef((function(){var e=(0,o.useStateFromStores)([b.default],(function(){return b.default.theme})),t=(0,o.useStateFromStores)([S.default],(function(){return S.default.darkSidebar?fe.ThemeTypes.DARK:void 0})),n=(0,o.useStateFromStores)([M.default],(function(){return M.default.getSection()})),a=(0,o.useStateFromStores)([M.default],(function(){return M.default.getProps().analyticsLocation})),i=(0,p.default)(n),l=(0,O.useUnseenOutboundPromotions)().length,c=(0,y.useIsPrepaidPaymentPastDue)(),m=(0,o.useStateFromStores)([C.default],(function(){return C.default.getUnacknowledgedOffers(Object.keys(fe.SubscriptionTrials)).length})),E=(0,
g.useShouldRenderPremiumTrialBadgeInUserSettings)(m>0);r.useEffect((function(){null!=n&&n!==i&&function(e,t,n){void 0===t&&(t=null);void 0===n&&(n=null);v.default.trackWithMetadata(fe.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e,source:n})}(n,null!=i?i:null,a)}),[n,i,a]);var _=r.useMemo((function(){return ge({premiumTrialCount:E?m:void 0,unseenGiftCount:l,showPrepaidPaymentPastDueWarning:c})}),[m,l,E,c]),T=r.useCallback((function(e){s.default.setSection(e)}),[]);return me(d.default,{root:!0,page:fe.AnalyticsPages.USER_SETTINGS},void 0,me(f.default,{theme:e,title:ce.default.Messages.USER_SETTINGS,sidebarTheme:t,section:n,onSetSection:T,onClose:u.popLayer,sections:_}))}));t.default=ye},362979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=re
;var a,r=Q(n(667294)),o=K(n(294184)),i=K(n(496486)),l=n(536211),u=K(n(226800)),s=Q(n(448549)),d=n(354575),f=K(n(235879)),c=n(178235),p=K(n(843314)),S=n(202929),v=K(n(551048)),m=n(907932),E=K(n(259890)),_=K(n(355152)),g=n(43247),y=K(n(91603)),O=Q(n(956117)),T=K(n(558402)),h=K(n(789446)),I=K(n(530250)),N=K(n(960082)),A=K(n(26172)),M=K(n(118777)),b=K(n(567668)),C=n(354479),P=n(688388),R=K(n(339759)),D=K(n(118138)),L=Q(n(628551)),U=K(n(776360)),w=K(n(550270)),k=n(894826),B=K(n(175896)),F=n(770348),G=n(216287),j=n(289081),H=n(785992),x=K(n(247001)),Y=K(n(218863)),V=K(n(380203)),W=K(n(603008));function K(e){return e&&e.__esModule?e:{default:e}}function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function Q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function $(){$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return $.apply(this,arguments)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function X(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var J=(0,C.uid)(),ee=(0,C.uid)(),te=(0,C.uid)(),ne=i.default.debounce((function(e){(0,d.setSaturation)(e)}),250),ae=i.default.debounce((function(e){(0,
g.setSpeechRate)(e)}),250);function re(e){return X(P.FormSection,{tag:P.FormTitleTags.H1,title:x.default.Messages.ACCESSIBILITY},void 0,ie,(0,c.canEnableForcedColors)()?ue:null,de,ce,Se,ge,X(P.FormDivider,{className:V.default.marginBottom20}),X(U.default,{size:U.default.Sizes.SIZE_16},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_APPEARANCE_LINK.format({onAppearanceClick:function(){u.default.open(F.UserSettingsSections.APPEARANCE)}})))}re.displayName="UserSettingsAccessibility";function oe(){var e=(0,l.useStateFromStoresObject)([f.default],(function(){return{saturation:f.default.saturation,desaturateUserColors:f.default.desaturateUserColors}})),t=e.saturation,n=e.desaturateUserColors,a=k.MessageDisplayCompact.useSetting(),i=Z(r.useState((function(){var e=(0,S.createMessageRecord)($({},(0,v.default)({channelId:"1337",content:x.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_PREVIEW_MESSAGE}),{state:F.MessageStates.SENT,id:"0"}));e.colorString="green";return e})),1)[0]
;return X(P.FormSection,{},void 0,X(P.FormTitle,{id:J,className:V.default.marginBottom8},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_TITLE),X(P.FormText,{id:ee,type:P.FormText.Types.DESCRIPTION,className:V.default.marginBottom20},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_DESCRIPTION),X(M.default,{"aria-labelledby":J,"aria-describedby":ee,markers:F.Accessibility.SATURATION_INCREMENTS,equidistant:!0,stickToMarkers:!0,maxValue:1,minValue:0,initialValue:t,onValueChange:ne,onMarkerRender:function(e){return 100*e%2==0?100*e+"%":void 0}}),X(b.default,{hideBorder:!0,className:(0,o.default)(V.default.marginTop8,V.default.marginBottom20),value:n,onChange:d.toggleDesaturateUserColors,note:x.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_DESCRIPTION},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_SATURATION_CUSTOM_COLORS_LABEL),X(N.default,{},void 0,X(T.default,{className:Y.default.preview,"aria-hidden":!0},void 0,X("div",{
className:Y.default.previewHeader},void 0,X(O.default,{size:O.default.Sizes.SMALL,color:O.default.Colors.BRAND},void 0,x.default.Messages.ACCESSIBILITY_EXAMPLE_BUTTON_LABEL),X("div",{className:Y.default.previewAvatars},void 0,[F.StatusTypes.ONLINE,F.StatusTypes.DND,F.StatusTypes.IDLE].map((function(e){return X(L.AnimatedAvatar,{"aria-label":"avatar",src:W.default,size:L.default.Sizes.SIZE_32,status:e})})))),X("div",{className:Y.default.previewMessage},void 0,X(E.default,{compact:a,author:$({},(0,m.getMessageAuthor)(i),{colorString:"#DD80F4"}),message:i})))))}oe.displayName="UserSettingsAccessibilitySaturation";var ie=X(oe,{});function le(){var e=Z((0,l.useStateFromStoresArray)([f.default],(function(){return[f.default.syncForcedColors,f.default.systemForcedColors]})),2),t=e[0],n=e[1],a=Z(r.useState(t),2),o=a[0],i=a[1];r.useEffect((function(){i(t)}),[t]);var u=r.useRef(null);r.useEffect((function(){if(null!=u.current){clearTimeout(u.current);u.current=null}
o!==t&&(u.current=setTimeout((function(){return(0,d.setSyncForcedColors)(o)}),150))}),[o,t]);var s="active"===n,c=s?x.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION_WITH_FEEDBACK.format({learnMoreLink:w.default.getArticleURL(F.HelpdeskArticles.FORCED_COLORS),shareFeedbackLink:G.FORCED_COLORS_FEEDBACK_LINK}):x.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_DESCRIPTION.format({learnMoreLink:w.default.getArticleURL(F.HelpdeskArticles.FORCED_COLORS)});return X(P.FormItem,{title:x.default.Messages.ACCESSIBILITY_SETTINGS_CONTRAST,className:V.default.marginTop20},void 0,X(b.default,{value:!!s&&o,disabled:!s,note:c,onChange:i},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_SYNC_FORCED_COLORS_LABEL))}le.displayName="UserSettingsAccessibilityContrast";var ue=X(le,{});function se(){var e=k.GifAutoPlay.useSetting(),t=k.AnimateEmoji.useSetting(),n=(0,l.useStateFromStoresObject)([f.default,B.default],(function(){return{
systemPrefersReducedMotion:f.default.systemPrefersReducedMotion,rawPrefersReducedMotion:f.default.rawPrefersReducedMotion,useReducedMotion:f.default.useReducedMotion,gifAutoPlayOverrideReason:B.default.getAppliedOverrideReasonKey("gifAutoPlay"),animateEmojiOverrideReason:B.default.getAppliedOverrideReasonKey("animateEmoji")}})),a=n.useReducedMotion,i=n.rawPrefersReducedMotion,u=n.systemPrefersReducedMotion,s=n.gifAutoPlayOverrideReason,c=n.animateEmojiOverrideReason,p="auto"===i,S=r.useCallback((function(e,t){(0,d.setPrefersReducedMotion)(t?"auto":u)}),[u]),v=r.useCallback((function(e){(0,d.setPrefersReducedMotion)(e?"reduce":"no-preference")}),[]);return X(P.FormItem,{title:x.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION,className:V.default.marginTop20},void 0,X(P.FormText,{type:P.FormText.Types.DESCRIPTION,className:V.default.marginBottom8},void 0,x.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_DESCRIPTION.format({
helpdeskArticle:w.default.getArticleURL(F.HelpdeskArticles.REDUCED_MOTION)})),X(h.default,{className:V.default.marginTop20,value:p,shape:h.default.Shapes.BOX,type:h.default.Types.INVERTED,onChange:S},void 0,X(U.default,{},void 0,x.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_AUTO)),X(b.default,{className:V.default.marginTop20,value:a,onChange:v},void 0,x.default.Messages.ACCESSIBILITY_PREFERS_REDUCED_MOTION_ENABLE),X(b.default,{className:V.default.marginBottom40,value:e,note:null!=s?(0,_.default)(s):void 0,onChange:k.GifAutoPlay.updateSetting},void 0,x.default.Messages.GIF_AUTO_PLAY_LABEL),X(b.default,{className:(0,o.default)(V.default.marginTop8,V.default.marginBottom20),value:t,note:null!=c?(0,_.default)(c):void 0,onChange:k.AnimateEmoji.updateSetting},void 0,x.default.Messages.ANIMATE_EMOJI))}se.displayName="UserSettingsAccessibilityReducedMotion";var de=X(se,{});function fe(){var e=k.AnimateStickers.useSetting(),t=(0,l.useStateFromStores)([B.default],(function(){
return B.default.getAppliedOverrideReasonKey("animateStickers")})),n=r.useCallback((function(e){k.AnimateStickers.updateSetting(e.value)}),[]);return X(P.FormItem,{className:V.default.marginBottom40,title:x.default.Messages.STICKERS_AUTO_PLAY_HEADING},void 0,X(P.FormText,{type:P.FormText.Types.DESCRIPTION,className:V.default.marginBottom8},void 0,null!=t?(0,_.default)(t):x.default.Messages.STICKERS_AUTO_PLAY_HELP),X(A.default,{options:[{name:x.default.Messages.STICKERS_ALWAYS_ANIMATE,value:j.StickerAnimationSettings.ALWAYS_ANIMATE},{name:x.default.Messages.STICKERS_ANIMATE_ON_INTERACTION,desc:x.default.Messages.STICKERS_ANIMATE_ON_INTERACTION_DESCRIPTION,value:j.StickerAnimationSettings.ANIMATE_ON_INTERACTION},{name:x.default.Messages.STICKERS_NEVER_ANIMATE,value:j.StickerAnimationSettings.NEVER_ANIMATE}],onChange:n,value:e}))}fe.displayName="UserSettingsAccessibilityStickers";var ce=X(fe,{});function pe(){var e=(0,l.useStateFromStores)([f.default],(function(){
return f.default.isSubmitButtonEnabled}));return X(P.FormItem,{},void 0,X(P.FormTitle,{className:V.default.marginBottom8},void 0,x.default.Messages.FORM_LABEL_ACCESSIBILITY_CHAT_INPUT),X(b.default,{className:V.default.marginTop20,value:e,onChange:d.toggleSubmitButton},void 0,x.default.Messages.DISPLAY_SUBMIT_BUTTON))}pe.displayName="UserSettingsAccessibilityMessages";var Se=X(pe,{}),ve=X(R.default,{width:24,height:24}),me=X(D.default,{width:24,height:24}),Ee=X("span",{},void 0,"x1.0");function _e(){var e=k.EnableTTSCommand.useSetting(),t=(0,l.useStateFromStores)([y.default],(function(){return y.default.speechRate})),n=Z(r.useState(!1),2),a=n[0],o=n[1];if(!s.supported)return null;return r.createElement(r.Fragment,null,X(P.FormItem,{},void 0,X(P.FormTitle,{className:V.default.marginBottom8},void 0,x.default.Messages.FORM_LABEL_TTS),X(b.default,{className:V.default.marginTop20,value:e,onChange:k.EnableTTSCommand.updateSetting},void 0,x.default.Messages.ALLOW_TTS_COMMAND)),X(P.FormItem,{
className:V.default.marginBottom20},void 0,X(P.FormTitle,{id:te,className:V.default.marginBottom20},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL),X("div",{className:Y.default.ttsPreviewWrapper},void 0,X(O.default,{color:O.ButtonColors.BRAND_NEW,onClick:function(){if(a){(0,g.stopSpeaking)();o(!1)}else{(0,g.speakText)(x.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_TEST,!0,void 0,(function(){return o(!0)}),(function(){return o(!1)}));o(!0)}}},void 0,X(I.default,{align:I.default.Align.CENTER},void 0,a?ve:me,X("span",{},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_PREVIEW),X(p.default,{},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_LABEL)))),X(M.default,{markers:H.SPEECH_RATE_INCREMENTS,initialValue:t,defaultValue:1,stickToMarkers:!0,onValueChange:ae,onValueRender:function(e){return"x"+e.toFixed(2)},onMarkerRender:function(e){return 0===e?X("span",{className:Y.default.ttsSliderMarker
},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_SLOWER):10===e?X("span",{className:Y.default.ttsSliderMarker},void 0,x.default.Messages.ACCESSIBILITY_SETTINGS_TTS_RATE_FASTER):1===e?Ee:e%1==0?"":void 0},"aria-labelledby":te})))}var ge=X(_e,{})},371077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=k(n(667294)),o=U(n(294184)),i=U(n(441143)),l=n(536211),u=U(n(163521)),s=n(825185),d=U(n(524791)),f=U(n(149342)),c=U(n(915539)),p=U(n(711195)),S=U(n(30098)),v=U(n(753304)),m=U(n(663303)),E=U(n(871778)),_=U(n(728429)),g=k(n(956117)),y=U(n(530250)),O=n(688388),T=n(502197),h=n(194322),I=U(n(776360)),N=U(n(950445)),A=U(n(874364)),M=U(n(174128)),b=U(n(319155)),C=U(n(66272)),P=n(770348),R=U(n(247001)),D=U(n(177056)),L=U(n(380203));function U(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){
if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return B.apply(this,arguments)}function F(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{
$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t){G=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return G(e,t)}var j=F(b.default,{}),H=F(d.default,{}),x=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).state={disableAccountErrorMessage:null,shouldRenderOwnedGuildsModal:!1,shouldRenderDeleteAccountConfirmModal:!1,shouldRenderDisableAccountErrorModal:!1};return n}var a=t.prototype;a.componentDidMount=function(){var e=this.props.currentUser;(0,p.default)(e.id,e.getAvatarURL(void 0,80))};a.componentWillUnmount=function(){u.default.clearBackupCodes();(0,s.accountDetailsClose)()};a.renderAccountWarning=function(){var e=this.props.currentUser;if(!e.isClaimed()){var t=F("section",{},void 0,F("div",{className:D.default.accountWarningBodyText},void 0,R.default.Messages.UNCLAIMED_ACCOUNT_BODY_2),F(g.default,{look:g.ButtonLooks.INVERTED,
size:g.ButtonSizes.SMALL,color:g.default.Colors.RED,onClick:function(){return c.default.openClaimAccountModal()}},void 0,R.default.Messages.CLAIM_ACCOUNT_LONG));return F(O.FormNotice,{type:O.FormNotice.Types.DANGER,className:L.default.marginBottom20,imageData:{src:n(350672),width:60,height:60},title:R.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:t})}if(null==e.email)return null;if(!e.verified){var a=F("section",{},void 0,F("div",{className:D.default.accountWarningBodyText},void 0,R.default.Messages.USER_SETTINGS_UNVERIFIED_EMAIL_BODY),F(N.default,{size:g.ButtonSizes.SMALL,color:g.default.Colors.PRIMARY}));return F(O.FormNotice,{type:O.FormNotice.Types.PRIMARY,className:L.default.marginBottom20,imageData:{src:n(24264),width:60,height:60},title:R.default.Messages.UNVERIFIED_EMAIL_TITLE,body:a})}};a.renderAccountSettings=function(){return F(O.FormSection,{tag:O.FormTitleTags.H1,title:R.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:D.default.userSettingsAccount
},void 0,this.renderAccountWarning(),j)};a.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,a=e.currentUser,i=e.theme===P.ThemeTypes.DARK?n(273361):n(129428);return F(O.FormSection,{className:(0,o.default)(D.default.userSettingsSecurity,L.default.marginTop40),title:R.default.Messages.USER_SETTINGS_ACCOUNT_PASSWORD_AND_AUTHENTICATION,tag:O.FormTitle.Tags.H1},void 0,F("div",{},void 0,F(g.default,{size:g.default.Sizes.SMALL,className:D.default.changePasswordButton,onClick:function(){return(0,h.openModal)((function(e){return r.createElement(C.default,e)}))}},void 0,R.default.Messages.CHANGE_PASSWORD)),F(y.default,{align:y.default.Align.STRETCH},void 0,F(y.default.Child,{wrap:!0},void 0,F(A.default,{backupCodes:t})),a.mfaEnabled?null:F(y.default,{align:y.default.Align.CENTER,basis:"323px",grow:0},void 0,F("img",{src:i,className:D.default.userSettingsSecurityImage,alt:""}))))};a.renderConfirmModals=function(){
var e=this,t=this.state,n=t.shouldRenderOwnedGuildsModal,a=t.shouldRenderDeleteAccountConfirmModal,r=t.shouldRenderDisableAccountErrorModal,o=t.disableAccountErrorMessage;if(n){var i=function(){return e.setState({shouldRenderOwnedGuildsModal:!1})};return F(T.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:R.default.Messages.OKAY,confirmButtonColor:g.ButtonColors.BRAND,onCancel:i,onConfirm:i},void 0,F(I.default,{size:I.default.Sizes.SIZE_16},void 0,R.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}if(a){var l=function(){return e.setState({shouldRenderDeleteAccountConfirmModal:!1})};return F(T.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT,confirmText:R.default.Messages.DELETE_ACCOUNT,cancelText:R.default.Messages.CANCEL,onCancel:l,onConfirm:function(){return(0,s.disableAccount)("",!0).then(l)}},void 0,F(I.default,{size:I.default.Sizes.SIZE_16
},void 0,R.default.Messages.DELETE_ACCOUNT_BODY))}if(r){var u=function(){return e.setState({shouldRenderDisableAccountErrorModal:!1,disableAccountErrorMessage:null})};return F(T.DeclarativeConfirmModal,{dismissable:!0,header:R.default.Messages.DELETE_ACCOUNT_ERROR,confirmText:R.default.Messages.OKAY,confirmButtonColor:g.ButtonColors.BRAND,onCancel:u,onConfirm:u},void 0,F(I.default,{size:I.default.Sizes.SIZE_16},void 0,o))}};a.render=function(){var e=this;if(this.props.hide)return H;var t=this.props.currentUser;return F("div",{},void 0,this.renderConfirmModals(),this.renderAccountSettings(),t.isClaimed()?r.createElement(r.Fragment,null,F(O.FormDivider,{className:L.default.marginTop40}),this.renderSecuritySettings(),F(O.FormDivider,{className:L.default.marginTop40})):null,F(M.default,{className:L.default.marginTop40,currentUser:t,handleDisableAccount:function(){return e.handleDisableAccount(!1)},handleDeleteAccount:function(){return e.handleDisableAccount(!0)}}))}
;a.handleDisableAccountError=function(e){if(e.body.code===P.AbortCodes.INVALID_PASSWORD)throw e;this.setState({shouldRenderDisableAccountErrorModal:!0,disableAccountErrorMessage:e.body.message})};a.handleSubmitDisableAccount=function(e,t){return(0,s.disableAccount)(e,t).then(P.NOOP,this.handleDisableAccountError)};a.handleDisableAccount=function(e){var t=this;void 0===e&&(e=!1);var n=this.props.currentUser,a=S.default.getGuilds();Object.keys(a).filter((function(e){return a[e].ownerId===n.id})).length>0?this.setState({shouldRenderOwnedGuildsModal:!0}):n.isClaimed()?(0,h.openModal)((function(n){return r.createElement(f.default,B({},n,{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?R.default.Messages.DELETE_ACCOUNT:R.default.Messages.DISABLE_ACCOUNT,actionText:e?R.default.Messages.DELETE_ACCOUNT:R.default.Messages.DISABLE_ACCOUNT}),e?R.default.Messages.DELETE_ACCOUNT_BODY:R.default.Messages.DISABLE_ACCOUNT_BODY)})):this.setState({
shouldRenderDeleteAccountConfirmModal:!0})};return t}(r.PureComponent);x.displayName="UserSettingsAccount";var Y=function(){var e=(0,l.useStateFromStores)([_.default],(function(){var e=_.default.getCurrentUser();(0,i.default)(null!=e,"ConnectedUserAccountSettings: currentUser cannot be undefined");return e})),t=(0,l.useStateFromStores)([v.default],(function(){return v.default.getBackupCodes()})),n=(0,l.useStateFromStores)([m.default],(function(){return m.default.hidePersonalInformation})),a=(0,l.useStateFromStores)([E.default],(function(){return E.default.theme}));return F(x,{currentUser:e,backupCodes:t,hide:n,theme:a})};Y.displayName="ConnectedUserAccountSettings";var V=Y;t.default=V},299943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=b
;var a,r=h(n(667294)),o=n(536211),i=h(n(446637)),l=O(n(191839)),u=O(n(424099)),s=O(n(567668)),d=n(688388),f=O(n(502197)),c=n(194322),p=O(n(776360)),S=n(864489),v=n(179495),m=O(n(922629)),E=n(894826),_=O(n(825541)),g=n(770348),y=O(n(247001));function O(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function I(){I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return I.apply(this,arguments)}function N(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(){var e=A(r.useState((function(){return m.default.getEnableHardwareAcceleration()})),1)[0],t=E.DisableGamesTab.useSetting(),n=E.DeveloperMode.useSetting(),a=(0,o.useStateFromStoresObject)([u.default,l.default],(function(){return{hasLibraryApplication:l.default.hasLibraryApplication(),testModeApplicationId:u.default.testModeApplicationId}})),O=a.hasLibraryApplication,T=a.testModeApplicationId,h=r.useCallback((function(e){E.DisableGamesTab.updateSetting(!e)
}),[]),M=r.useCallback((function(e){e?(0,c.openModal)((function(e){return r.createElement(_.default,e)})):i.reset()}),[]),b=r.useCallback((function(e){(0,c.openModal)((function(t){return r.createElement(f.default,I({header:y.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:y.default.Messages.OKAY,cancelText:y.default.Messages.CANCEL,onConfirm:function(){return m.default.setEnableHardwareAcceleration(e)}},t),N(p.default,{},void 0,y.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))}))}),[]);return N(d.FormSection,{tag:d.FormTitleTags.H1,title:y.default.Messages.SETTINGS_ADVANCED},void 0,v.SUPPORTS_COPY&&N(s.default,{value:n,onChange:E.DeveloperMode.updateSetting,note:y.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:g.MarketingURLs.API_DOCS})},void 0,y.default.Messages.DEVELOPER_MODE),S.isPlatformEmbedded&&N(s.default,{value:e,onChange:b,note:y.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,y.default.Messages.HARDWARE_ACCELERATION),O&&N(s.default,{
value:!t,onChange:h,note:y.default.Messages.USER_SETTINGS_SHOW_LIBRARY_NOTE},void 0,y.default.Messages.USER_SETTINGS_SHOW_LIBRARY),n&&N(s.default,{value:null!=T,note:y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:M},void 0,y.default.Messages.DEVELOPER_APPLICATION_TEST_MODE))}b.displayName="UserSettingsAdvanced"},556825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=q;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=B(n(294184)),i=n(536211),l=B(n(929031)),u=B(n(226800)),s=B(n(351336)),d=B(n(14096)),f=n(354575),c=B(n(235879)),p=n(178235),S=n(202929),v=B(n(551048)),m=n(907932),E=B(n(259890)),_=B(n(871778)),g=B(n(558402)),y=B(n(530250)),O=B(n(960082)),T=B(n(26172)),h=B(n(118777)),I=B(n(567668)),N=n(354479),A=n(688388),M=B(n(776360)),b=n(864489),C=B(n(174508)),P=n(894826),R=n(770348),D=n(100678),L=n(251984),U=B(n(247001)),w=B(n(926105)),k=B(n(380203));function B(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function G(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,
type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return H.apply(this,arguments)}var x="cozy",Y="compact",V=(0,N.uid)(),W=(0,N.uid)(),K=(0,N.uid)(),z=(0,N.uid)(),Q="1337",$=function(e){var t=0;return[(0,S.createMessageRecord)(H({},(0,v.default)({channelId:Q,content:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1}),{state:R.MessageStates.SENT,id:""+t++})),(0,S.createMessageRecord)(H({},(0,v.default)({channelId:Q,content:e===R.ThemeTypes.DARK?U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT}),{state:R.MessageStates.SENT,id:""+t++})),(0,S.createMessageRecord)(H({},(0,v.default)({channelId:Q,
content:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3}),{state:R.MessageStates.SENT,id:""+t++})),(0,S.createMessageRecord)(H({},(0,v.default)({channelId:Q,content:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4}),{state:R.MessageStates.SENT,id:""+t++})),(0,S.createMessageRecord)(H({},(0,v.default)({channelId:Q,content:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5}),{state:R.MessageStates.SENT,id:"4"}))]},Z=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).darkMessages=$(R.ThemeTypes.DARK);t.lightMessages=$(R.ThemeTypes.LIGHT);t.handleThemeChange=function(e){var t=e.value;"system"!==t&&l.default.updateRemoteSettings({theme:t});l.default.updatedUnsyncedSettings({useSystemTheme:"system"===t?L.SystemThemeState.ON:L.SystemThemeState.OFF})}
;t.handleDisplayCompactAvatarsChanged=function(e){l.default.updatedUnsyncedSettings({displayCompactAvatars:e})};t.handleMessageDisplayModeChange=function(e){var t=e.value;P.MessageDisplayCompact.updateSetting(t===Y);(0,f.setMessageGroupSpacing)()};return t}var n=t.prototype;n.getPreviewMessage=function(e){return e===R.ThemeTypes.DARK?U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:U.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT};n.renderZoomSlider=function(){return b.isPlatformEmbedded?G(A.FormItem,{className:k.default.marginTop20},void 0,G(A.FormTitle,{id:W,tag:A.FormTitleTags.H5,className:k.default.marginBottom8},void 0,U.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL),G(h.default,{className:(0,o.default)(k.default.marginTop20,k.default.marginBottom4),initialValue:this.props.zoom,defaultValue:R.Accessibility.ZOOM_DEFAULT,markers:R.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,
onValueRender:this.handleSliderRender,"aria-labelledby":W}),G(A.FormText,{type:A.FormText.Types.DESCRIPTION},void 0,U.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:d.default.modKey}))):null};n.renderFontScaleSlider=function(){return G(A.FormItem,{className:k.default.marginTop20},void 0,G(A.FormTitle,{id:K,tag:A.FormTitleTags.H5,className:k.default.marginBottom8},void 0,U.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL),G(y.default,{align:y.default.Align.CENTER},void 0,G(h.default,{className:(0,o.default)(k.default.marginTop20,k.default.marginBottom4),initialValue:this.props.fontSize,defaultValue:R.Accessibility.FONT_SIZE_DEFAULT,markers:R.Accessibility.FONT_SIZES,stickToMarkers:!0,onValueChange:this.handleFontSizeChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":K})))};n.renderMessageGroupSpacingSlider=function(){
var e=this.props,t=e.messageDisplayCompact,n=e.messageGroupSpacing;return G(A.FormItem,{className:k.default.marginTop20},void 0,G(A.FormTitle,{id:z,tag:A.FormTitleTags.H5,className:k.default.marginBottom8},void 0,U.default.Messages.ACCESSIBILITY_MESSAGE_GROUP_SPACING),G(h.default,{className:(0,o.default)(k.default.marginTop20,k.default.marginBottom4),initialValue:n,defaultValue:t?D.DEFAULT_COMPACT_SPACING:D.DEFAULT_COZY_SPACING,markers:D.MESSAGE_GROUP_SPACING,stickToMarkers:!0,onValueChange:this.handleMessageSpacingChange,onValueRender:this.handleSliderRenderPX,onMarkerRender:this.handleSliderRenderPX,getAriaValueText:this.handleSliderValueText,"aria-labelledby":z}))};n.renderPreview=function(){var e=this.props,t=e.messageDisplayCompact,n=e.theme,a=e.messageGroupSpacing,r=e.renderMediaEmbeds,i=n===R.ThemeTypes.DARK?this.darkMessages:this.lightMessages;return G(O.default,{},void 0,G(g.default,{className:(0,
o.default)(w.default.preview,k.default.marginBottom40,t?w.default.compactPreview:void 0,"group-spacing-"+(null!=a?a:t?D.DEFAULT_COMPACT_SPACING:D.DEFAULT_COZY_SPACING)),outline:!0,"aria-hidden":!0},void 0,i.map((function(e,n){return G(E.default,{author:(0,m.getMessageAuthor)(e),message:e,compact:t,isGroupStart:n%2==0,className:0===n?w.default.firstMessage:void 0,renderMediaEmbeds:r},e.id)}))))};n.renderTheme=function(){var e=this.props,t=e.theme,n=e.useForcedColors,a=e.useSystemTheme,r=e.darkSidebar,o=a===L.SystemThemeState.ON||n;return G(A.FormItem,{className:k.default.marginTop8,title:U.default.Messages.THEME},void 0,n&&G(A.FormText,{type:A.FormText.Types.DEFAULT,className:w.default.forcedColorsWarning},void 0,(0,p.canEnableForcedColors)()?U.default.Messages.THEME_DISABLED_FOR_CONTRAST_SYNC.format({onClick:function(){u.default.open(R.UserSettingsSections.ACCESSIBILITY)}}):U.default.Messages.THEME_DISABLED_FOR_FORCED_COLORS),G(T.default,{options:[{name:U.default.Messages.THEME_DARK,
value:R.ThemeTypes.DARK},{name:U.default.Messages.THEME_LIGHT,value:R.ThemeTypes.LIGHT},{name:U.default.Messages.THEME_SYSTEM,value:"system"}],onChange:this.handleThemeChange,value:o?"system":t,disabled:n,"aria-labelledBy":V}),G(I.default,{value:r&&t===R.ThemeTypes.LIGHT&&!n,disabled:t!==R.ThemeTypes.LIGHT||n,onChange:this.handleDarkSidebarChecked,className:k.default.marginTop20},void 0,U.default.Messages.ACCESSIBILITY_DARK_SIDEBAR))};n.renderDisplayMode=function(){return G(A.FormItem,{title:U.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:k.default.marginTop8},void 0,G(T.default,{options:[{name:U.default.Messages.COZY_MODE,value:x},{name:U.default.Messages.COMPACT_MODE,value:Y}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?Y:x}),s.default.getCurrentConfig({}).enabled&&G(I.default,{value:this.props.messageDisplayCompact&&this.props.displayCompactAvatars,disabled:!this.props.messageDisplayCompact,
onChange:this.handleDisplayCompactAvatarsChanged,className:k.default.marginTop20},void 0,U.default.Messages.DISPLAY_COMPACT_AVATARS))};n.handleDarkSidebarChecked=function(){(0,f.toggleDarkSidebar)()};n.renderScalingAndSpacing=function(){return r.createElement(r.Fragment,null,this.renderFontScaleSlider(),this.renderMessageGroupSpacingSlider(),this.renderZoomSlider(),G(A.FormDivider,{className:k.default.marginTop20}))};n.render=function(){return G(A.FormSection,{tag:A.FormTitleTags.H1,title:U.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderTheme(),this.renderDisplayMode(),G(A.FormDivider,{className:k.default.marginTop20}),this.renderScalingAndSpacing(),G(M.default,{size:M.default.Sizes.SIZE_16,className:k.default.marginTop20},void 0,U.default.Messages.APPEARANCE_SETTINGS_ACCESSIBILITY_LINK.format({onAccessibilityClick:function(){u.default.open(R.UserSettingsSections.ACCESSIBILITY)}})))};n.handleSliderRender=function(e){return e.toFixed(0)+"%"}
;n.handleSliderRenderPX=function(e){return e.toFixed(0)+"px"};n.handleSliderValueText=function(e){return U.default.Messages.PIXEL_VALUE_A11Y_TEXT.format({value:e})};n.handleFontSizeChange=function(e){(0,f.setFontSize)(e)};n.handleMessageSpacingChange=function(e){switch(e){case 0:case 4:case 8:case 16:case 24:(0,f.setMessageGroupSpacing)(e)}};n.handleZoomChange=function(e){(0,f.setZoom)(e)};return t}(r.Component);Z.displayName="UserSettingsAppearance";function q(){var e=P.MessageDisplayCompact.useSetting(),t=P.InlineEmbedMedia.useSetting(),n=P.RenderEmbeds.useSetting(),a=(0,i.useStateFromStoresObject)([_.default,C.default,c.default],(function(){return{theme:_.default.theme,useForcedColors:c.default.useForcedColors,useSystemTheme:C.default.useSystemTheme,darkSidebar:c.default.darkSidebar,fontSize:c.default.fontSize,zoom:c.default.zoom,messageGroupSpacing:c.default.messageGroupSpacing,displayCompactAvatars:C.default.displayCompactAvatars}}));return r.createElement(Z,H({
messageDisplayCompact:e,renderMediaEmbeds:t&&n},a))}q.displayName="ConnectedUserSettingsAppearance"},835672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=C(n(667294)),o=M(n(294184)),i=C(n(536211)),l=M(n(392654)),u=M(n(524791)),s=M(n(88509)),d=n(746920),f=M(n(303798)),c=M(n(395425)),p=M(n(663303)),S=M(n(871778)),v=C(n(956117)),m=C(n(558402)),E=C(n(737705)),_=M(n(530250)),g=M(n(80828)),y=n(688388),O=n(194322),T=M(n(692711)),h=n(770348),I=M(n(247001)),N=M(n(102172)),A=M(n(380203));function M(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return R.apply(this,arguments)}var D=i.default.connectStores([S.default],(function(){return{theme:S.default.theme}}))(E.default),L=function(e){
var t,n,a=e.scopes,i=e.application,l=e.onDelete,u=function(){return(0,O.openModal)((function(e){return r.createElement(s.default,R({title:I.default.Messages.DEAUTHORIZE_APP,body:I.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:I.default.Messages.DEAUTHORIZE,cancelText:I.default.Messages.CANCEL,onConfirm:l},e))}))};return P(m.default,{className:(0,o.default)(N.default.authedApp,A.default.marginBottom8),outline:!0},void 0,(t=T.default.getApplicationIconURL({id:i.id,icon:i.icon}),n=null!=t?P(_.default.Child,{className:N.default.appAvatar,grow:0},void 0,P("img",{src:t,alt:""})):null,P(_.default,{className:(0,o.default)(N.default.header,A.default.marginBottom20)},void 0,P(_.default,{className:N.default.headerInfo},void 0,n,P(_.default.Child,{},void 0,P(y.FormText,{type:y.FormTextTypes.LABEL_BOLD},void 0,P("span",{},void 0,i.name)))),P(_.default.Child,{wrap:!0,grow:0},void 0,P(v.default,{className:N.default.deleteApp,color:v.ButtonColors.RED,look:v.ButtonLooks.OUTLINED,
size:v.ButtonSizes.SMALL,onClick:u},void 0,I.default.Messages.DEAUTHORIZE)))),function(){if(null!=i.description&&""!==i.description)return P(y.FormItem,{faded:!0,title:I.default.Messages.ABOUT_THIS_APP},void 0,P(y.FormText,{},void 0,i.description))}(),function(){var e=a.map((function(e){var t;switch(e){case h.OAuth2Scopes.IDENTIFY:t=I.default.Messages.SCOPE_IDENTIFY;break;case h.OAuth2Scopes.EMAIL:t=I.default.Messages.SCOPE_EMAIL;break;case h.OAuth2Scopes.CONNECTIONS:t=I.default.Messages.SCOPE_CONNECTIONS;break;case h.OAuth2Scopes.GUILDS:t=I.default.Messages.SCOPE_GUILDS;break;case h.OAuth2Scopes.GUILDS_JOIN:t=I.default.Messages.SCOPE_GUILDS_JOIN;break;case h.OAuth2Scopes.GUILDS_MEMBERS_READ:t=I.default.Messages.SCOPE_GUILDS_MEMBERS_READ;break;case h.OAuth2Scopes.GDM_JOIN:t=I.default.Messages.SCOPE_GDM_JOIN;break;case h.OAuth2Scopes.BOT:t=I.default.Messages.SCOPE_BOT;break;case h.OAuth2Scopes.RPC:t=I.default.Messages.SCOPE_RPC;break;case h.OAuth2Scopes.RPC_NOTIFICATIONS_READ:
t=I.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case h.OAuth2Scopes.RPC_VOICE_WRITE:t=I.default.Messages.SCOPE_RPC_VOICE_WRITE;break;case h.OAuth2Scopes.RPC_VOICE_READ:t=I.default.Messages.SCOPE_RPC_VOICE_READ;break;case h.OAuth2Scopes.RPC_ACTIVITIES_WRITE:t=I.default.Messages.SCOPE_RPC_ACTIVITIES_WRITE;break;case h.OAuth2Scopes.MESSAGES_READ:t=I.default.Messages.SCOPE_MESSAGES_READ;break;case h.OAuth2Scopes.APPLICATIONS_BUILDS_UPLOAD:t=I.default.Messages.SCOPE_APPLICATIONS_BUILDS_UPLOAD;break;case h.OAuth2Scopes.APPLICATIONS_BUILDS_READ:t=I.default.Messages.SCOPE_APPLICATIONS_BUILDS_READ;break;case h.OAuth2Scopes.APPLICATIONS_STORE_UPDATE:t=I.default.Messages.SCOPE_APPLICATIONS_STORE_UPDATE;break;case h.OAuth2Scopes.APPLICATIONS_ENTITLEMENTS:t=I.default.Messages.SCOPE_APPLICATIONS_ENTITLEMENTS;break;case h.OAuth2Scopes.APPLICATIONS_COMMANDS:t=I.default.Messages.SCOPE_APPLICATIONS_COMMANDS;break;case h.OAuth2Scopes.APPLICATIONS_COMMANDS_UPDATE:
t=I.default.Messages.SCOPE_APPLICATIONS_COMMANDS_UPDATE;break;case h.OAuth2Scopes.APPLICATIONS_COMMANDS_PERMISSIONS_UPDATE:t=I.default.Messages.SCOPE_APPLICATIONS_COMMANDS_PERMISSIONS_UPDATE;break;case h.OAuth2Scopes.ACTIVITIES_READ:t=I.default.Messages.SCOPE_ACTIVITIES_READ;break;case h.OAuth2Scopes.ACTIVITIES_WRITE:t=I.default.Messages.SCOPE_ACTIVITIES_WRITE;break;case h.OAuth2Scopes.RELATIONSHIPS_READ:t=I.default.Messages.SCOPE_RELATIONSHIPS_READ;break;default:t=e}return P("li",{className:(0,o.default)(N.default.permission,A.default.marginTop8)},e,P("i",{className:N.default.permissionCheckmark}),P(y.FormText,{},void 0,t))}));if(e.length>0)return P(y.FormItem,{faded:!0,title:I.default.Messages.PERMISSIONS,className:A.default.marginTop20},void 0,P("ul",{},void 0,e))}())};L.displayName="AuthorizedApp";var U=P(u.default,{}),w=function(){var e=(0,i.useStateFromStores)([p.default],(function(){return p.default.hidePersonalInformation})),t=(0,i.useStateFromStores)([c.default],(function(){
return c.default.getApps()})),a=(0,i.useStateFromStores)([f.default],(function(){return f.default.getSelfEmbeddedActivities()}));r.useEffect((function(){l.default.fetch()}),[]);return e?U:P(y.FormSection,{tag:y.FormTitleTags.H1,title:I.default.Messages.AUTHORIZED_APPS},void 0,P(y.FormNotice,{className:A.default.marginBottom40,type:m.Types.PRIMARY,title:I.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:I.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),null==t?P(g.default,{className:A.default.marginTop20,type:g.default.Type.SPINNING_CIRCLE}):0===t.length?P(D,{className:N.default.marginTop20},void 0,P(E.EmptyStateImage,{darkSrc:n(3874),lightSrc:n(302255),width:380,height:282}),P(E.EmptyStateText,{note:I.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,I.default.Messages.NO_AUTHORIZED_APPS)):t.map((function(e){return r.createElement(L,R({key:e.id,onDelete:function(){return function(e){var t=e.id,n=e.application;l.default.delete(t);var r=a.get(n.id);null!=r&&(0,
d.stopEmbeddedActivity)(r.channelId,n.id)}(e)}},e))})))};w.displayName="UserSettingsAuthedApps";var k=w;t.default=k},24072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var a,r=C(n(667294)),o=M(n(441143)),i=n(536211),l=M(n(636602)),u=C(n(832635)),s=M(n(226800)),d=M(n(524791)),f=M(n(109043)),c=M(n(565093)),p=n(421748),S=M(n(663303)),v=M(n(871778)),m=M(n(728429)),E=M(n(697952)),_=M(n(748826)),g=M(n(146771)),y=M(n(558402)),O=M(n(530250)),T=M(n(80828)),h=M(n(662197)),I=n(770348),N=M(n(247001)),A=M(n(196806));function M(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){R=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return R(e,t)}var D=P(d.default,{}),L=P(T.default,{}),U=P(p.BlockedPaymentsWarning,{}),w=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;R(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype
;n.componentDidMount=function(){l.default.wait((function(){u.fetchPaymentSources();u.fetchSubscriptions()}))};n.handleRedemptionRedirect=function(){s.default.setSection(I.UserSettingsSections.INVENTORY)};n.render=function(){var e=this.props,t=e.syncing,n=e.hide,a=e.paymentSources,r=e.defaultPaymentSourceId,o=e.locale,i=e.premiumSubscription,l=e.isRemovingPaymentSource,u=e.isUpdatingPaymentSource;return n?D:P("div",{className:A.default.userSettingsBilling},void 0,t&&0===Object.keys(a).length?P("div",{className:A.default.syncing},void 0,L):P(c.default,{paymentSources:a,defaultPaymentSourceId:r,premiumSubscriptionPaymentSourceId:null!=i&&i.status!==I.SubscriptionStatusTypes.CANCELED?i.paymentSourceId:null,locale:o,removing:l,submitting:u}),P("div",{className:A.default.paymentHistory},void 0,P(h.default,{tag:h.default.Tags.H1},void 0,P(O.default,{align:O.default.Align.CENTER},void 0,N.default.Messages.BILLING_PAYMENT_HISTORY)),U,P(f.default,{locale:o})),P(y.default,{
className:A.default.codeRedemptionRedirect,type:y.default.Types.CUSTOM},void 0,N.default.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})))};return t}(r.PureComponent);w.displayName="UserSettingsBilling";function k(){var e=(0,i.useStateFromStoresObject)([v.default,E.default,_.default,m.default,S.default,g.default],(function(){var e=g.default.getPremiumTypeSubscription(),t=m.default.getCurrentUser();(0,o.default)(null!=t,"UserSettingsBilling: currentUser cannot be undefined");return{locale:v.default.locale,hide:S.default.enabled,isClaimed:t.isClaimed(),isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:_.default.defaultPaymentSourceId,paymentSources:_.default.paymentSources,syncing:E.default.isSyncing,isRemovingPaymentSource:E.default.isRemovingPaymentSource,isUpdatingPaymentSource:E.default.isUpdatingPaymentSource}}));return r.createElement(w,e)}k.displayName="UserSettingsBillingConnected"},710033:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=k(n(667294)),o=U(n(294184)),i=n(536211),l=U(n(861315)),u=U(n(524791)),s=U(n(169404)),d=U(n(88509)),f=U(n(213847)),c=U(n(155502)),p=U(n(6887)),S=U(n(754416)),v=U(n(513266)),m=U(n(30098)),E=U(n(663303)),_=U(n(151097)),g=k(n(956117)),y=U(n(16941)),O=k(n(737705)),T=U(n(380439)),h=U(n(80828)),I=U(n(567668)),N=n(688388),A=U(n(259530)),M=n(194322),b=n(864489),C=n(894826),P=n(770348),R=U(n(247001)),D=U(n(125354)),L=U(n(380203));function U(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function B(){B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return B.apply(this,arguments)}function F(e,t){F=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return F(e,t)}function G(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=function(e){var t,n,a,r=e.integration,o=(0,i.useStateFromStores)([v.default],(function(){return v.default.isJoining(r.id)
}),[r.id]);null!=(0,i.useStateFromStores)([m.default],(function(){return m.default.getGuild(r.guild.id)}),[r.guild.id])||(a=G(g.default,{size:g.ButtonSizes.SMALL,onClick:function(){l.default.joinServer(r.id,(function(){}))},disabled:o},void 0,G("span",{},void 0,o?R.default.Messages.JOINING_GUILD:R.default.Messages.JOIN_GUILD)));return G("div",{className:D.default.integration},void 0,G("div",{},void 0,G(T.default,{size:T.default.Sizes.SMALL,guild:r.guild,className:D.default.guildIcon}),G("div",{className:D.default.integrationInner},void 0,G(N.FormText,{className:D.default.integrationName},void 0,r.guild.toString()),G(_.default,{className:D.default.channelLink,href:null===(t=c.default.get(r.type))||void 0===t||null===(n=t.getPlatformUserUrl)||void 0===n?void 0:n.call(t,r.account)},void 0,r.account.name))),a)};j.displayName="Integration";var H=G(A.default,{width:16,height:16}),x=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}(t,e)
;function t(t){var n;(n=e.call(this,t)||this).handleReconnect=function(){(0,S.default)(n.props.account.type,"User Settings")};n.handleDisconnect=function(){var e=c.default.get(n.props.account.type);(0,M.openModal)((function(t){return r.createElement(d.default,B({title:R.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:R.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:R.default.Messages.DISCONNECT_ACCOUNT,cancelText:R.default.Messages.CANCEL,onConfirm:n.props.onDisconnect},t))}))};n.handleVisibilityChange=function(e){var t=n.props.account,a=e?1:0;if(t.verified){n.setState({visibility:a});l.default.setVisibility(t.type,t.id,a)}else{n._inProgressVisibility=a;(0,S.default)(t.type,"User Settings")}};n.handleInProgressVisibilityChange=function(){if(null!=n._inProgressVisibility){var e=n.props.account;l.default.setVisibility(e.type,e.id,n._inProgressVisibility);n._inProgressVisibility=null}};n.handleFriendSyncChange=function(e){var t=n.props.account;n.setState({
friendSync:e});l.default.setFriendSync(t.type,t.id,e)};n.handleShowActivityChange=function(e){var t=n.props.account;n.setState({showActivity:e});l.default.setShowActivity(t.type,t.id,e)};var a=t.account,o=a.friendSync,i=a.visibility,u=a.showActivity;n.state={friendSync:o,visibility:i,showActivity:u,accountProps:t.account};return n}t.getDerivedStateFromProps=function(e,t){var n=t.accountProps,a=n.friendSync,r=n.visibility,o=n.showActivity,i=e.account,l=i.friendSync,u=i.visibility,s=i.showActivity;return a!==l||r!==u||o!==s?{friendSync:l,visibility:u,showActivity:s,accountProps:e.account}:null};var n=t.prototype;n.componentDidUpdate=function(e){var t=e.account.verified,n=this.props.account.verified;!t&&n&&this.handleInProgressVisibilityChange()};n.renderHeader=function(e){var t=this.props,n=t.account,a=t.theme;return G("div",{className:D.default.connectionHeader},void 0,G("img",{alt:e.name,className:D.default.connectionIcon,src:a===P.ThemeTypes.DARK?e.icon.darkSVG:e.icon.lightSVG
}),G("div",{},void 0,G(N.FormText,{className:D.default.connectionAccountValue},void 0,n.name),G(N.FormText,{className:D.default.connectionAccountLabel,type:N.FormTextTypes.DESCRIPTION},void 0,c.default.get(n.type).name)),G(y.default,{className:D.default.connectionDelete,onClick:this.handleDisconnect,"aria-label":R.default.Messages.SERVICE_CONNECTIONS_DISCONNECT,focusProps:{offset:{top:-4,left:-4,right:-4}}},void 0,H))};n.renderConnectionOptions=function(e){var t,n,a=this.state,r=a.visibility,o=a.friendSync,i=a.showActivity,l=this.props.account;P.FRIEND_SYNC_PLATFORM_TYPES.has(l.type)&&(t=G(I.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,value:o,onChange:this.handleFriendSyncChange},void 0,G("span",{className:D.default.subEnabledTitle},void 0,R.default.Messages.SYNC_FRIENDS)));P.ACTIVITY_PLATFORM_TYPES.has(l.type)&&(n=G(I.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,value:i,onChange:this.handleShowActivityChange},void 0,G("span",{
className:D.default.subEnabledTitle},void 0,R.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))));return G("div",{className:D.default.connectionOptionsWrapper},void 0,G("div",{className:D.default.connectionOptions},void 0,G(I.default,{className:D.default.connectionOptionSwitch,hideBorder:!0,value:1===r,onChange:this.handleVisibilityChange},void 0,G("span",{className:D.default.subEnabledTitle},void 0,R.default.Messages.DISPLAY_ON_PROFILE)),n,t))};n.renderIntegrations=function(){var e=this.props.account;return e.revoked?G(N.FormItem,{className:D.default.integrationsWrapper},void 0,G(N.FormText,{className:D.default.integrationRevoked},void 0,R.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):e.integrations.length>0?G(N.FormItem,{className:D.default.integrationsWrapper},void 0,G(N.FormTitle,{tag:N.FormTitleTags.H5},void 0,G("span",{className:D.default.subEnabledTitle
},void 0,R.default.Messages.SUB_ENABLED_SERVERS)),G("div",{},void 0,e.integrations.map((function(e){return G(j,{integration:e},e.id)})))):void 0};n.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return G(N.FormDivider,{className:D.default.connectedAccountSeparator})};n.render=function(){var e=this.props.account,t=c.default.get(e.type);return G("div",{className:D.default.connection},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations())};return t}(r.PureComponent);x.displayName="ConnectedAccount";var Y=G(u.default,{}),V=function(){var e,t=(0,i.useStateFromStores)([E.default],(function(){return E.default.hidePersonalInformation})),a=(0,i.useStateFromStores)([v.default],(function(){return v.default.isFetching()})),u=(0,i.useStateFromStores)([v.default],(function(){return v.default.getAccounts()})),d=C.DetectPlatformAccounts.useSetting(),S=(0,
f.default)(),m=p.default.useExperiment({}).enabled;r.useEffect((function(){l.default.fetch()}),[]);return t?Y:G(N.FormSection,{className:D.default.connections,tag:N.FormTitleTags.H1,title:R.default.Messages.CONNECTIONS},void 0,G("div",{className:(0,o.default)(D.default.accountList,(e={},e[L.default.marginBottom20]=!b.isPlatformEmbedded,e))},void 0,G(N.FormTitle,{className:L.default.marginBottom4},void 0,R.default.Messages.CONNECT_ACCOUNT_TITLE),G(N.FormText,{className:L.default.marginBottom8},void 0,R.default.Messages.CONNECT_ACCOUNT_DESCRIPTION),G("div",{className:D.default.connectedAccounts},void 0,c.default.filter((function(e){return e.enabled&&(e.type!==P.PlatformTypes.PLAYSTATION||m)})).map((function(e){return G(s.default,{type:e.type,className:D.default.accountBtn,innerClassName:D.default.accountBtnInner},e.type)})))),function(){if(b.isPlatformEmbedded)return G(I.default,{value:d,onChange:C.DetectPlatformAccounts.updateSetting,className:(0,
o.default)(L.default.marginTop20,L.default.marginBottom20)},void 0,R.default.Messages.DETECT_PLATFORM_ACCOUNTS)}(),function(){var e;e=a?G(h.default,{className:L.default.marginTop20,type:h.default.Type.SPINNING_CIRCLE}):0===u.length?G(O.default,{className:L.default.marginTop40,theme:S},void 0,G(O.EmptyStateImage,{darkSrc:n(117399),lightSrc:n(408056),width:230,height:220}),G(O.EmptyStateText,{note:R.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,R.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):u.filter((function(e){return c.default.isSupported(e.type)})).map((function(e,t){return G(x,{theme:S,account:e,onDisconnect:function(){return n=(t=e).type,a=t.id,void l.default.disconnect(n,a);var t,n,a}},t)}));return G(N.FormItem,{className:D.default.connectionList},void 0,e)}())};V.displayName="UserSettingsConnections";var W=V;t.default=W},367865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var a,r=x(n(667294)),o=j(n(294184)),i=j(n(496486)),l=x(n(536211)),u=n(188622),s=x(n(622349)),d=x(n(483559)),f=j(n(379319)),c=j(n(680219)),p=n(713746),S=n(224179),v=n(329117),m=j(n(909243)),E=j(n(859024)),_=j(n(871778)),g=j(n(728429)),y=n(81636),O=x(n(956117)),T=j(n(558402)),h=x(n(737705)),I=j(n(530250)),N=j(n(80828)),A=j(n(567668)),M=j(n(279950)),b=n(688388),C=n(3400),P=n(194322),R=j(n(971639)),D=n(967965),L=j(n(776360)),U=n(770348),w=n(871615),k=j(n(383654)),B=j(n(122688)),F=j(n(380203)),G=j(n(840348));function j(e){return e&&e.__esModule?e:{default:e}}function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function z(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){z(o,a,r,i,l,"next",e)}function l(e){z(o,a,r,i,l,"throw",e)}i(void 0)}))}}function $(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Z(e,t)}function Z(e,t){
Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}function q(){q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return q.apply(this,arguments)}function X(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var J=["discord_web","discord_marketing","discord_ios"],ee=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function te(e){return new Promise((function(t){(0,P.openModal)((function(n){var a=function(e){n.onClose();t(e)};return r.createElement(C.ModalRoot,q({},n,{
"aria-label":"Choose A Project to Override"}),X(C.ModalHeader,{separator:!1},void 0,X(R.default,{tag:R.default.Tags.H2,size:R.default.Sizes.SIZE_20},void 0,"Choose A Project to Override")),X(C.ModalContent,{},void 0,X(I.default,{},void 0,e.map((function(e){return X(I.default.Child,{grow:0},e,X(O.default,{value:e,color:O.default.Colors.GREEN,onClick:function(){return a(e)}},void 0,e))})))),X(C.ModalFooter,{},void 0,X(O.default,{color:O.default.Colors.PRIMARY,look:O.default.Looks.LINK,onClick:function(){return a(null)}},void 0,"Nevermind")))}))}))}var ne=function(e){$(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleRemoveBuildOverride=function(){t.props.onBuildOverrideRemoved(t.props.project)};t.handleOverrideIdChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{id:e})};t.handleOverrideTypeChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{type:e,id:""})};return t
}t.prototype.render=function(){var e,t=this.props,n=t.project,a=t.overrideType,r=t.overrideId,i=t.disabled,l=t.error,u="branch"===a?"Branch Name":"Build ID";return X(I.default,{direction:I.default.Direction.VERTICAL,className:(0,o.default)(k.default.buildOverrideGroup,F.default.marginBottom20,B.default.card,k.default.row)},void 0,X(f.default,{className:(0,o.default)(k.default.removeBuildOverride,(e={},e[k.default.removeBuildOverrideDisabled]=i,e)),onClick:i?void 0:this.handleRemoveBuildOverride}),X(I.default,{className:F.default.marginBottom8},void 0,X(I.default.Child,{basis:"50%"},void 0,X(b.FormItem,{title:"Override Type",className:k.default.item},void 0,X(D.SingleSelect,{options:ee,onChange:this.handleOverrideTypeChanged,value:a,isDisabled:i}))),X(I.default.Child,{basis:"50%"},void 0,X(b.FormItem,{title:u,className:k.default.item},void 0,X(M.default,{value:r,onChange:this.handleOverrideIdChanged,disabled:i})))),X(I.default.Child,{},void 0,null!=l&&""!==l&&X(b.FormText,{
className:k.default.item,style:{color:U.Colors.STATUS_RED},type:b.FormText.Types.DESCRIPTION},void 0,l),X(b.FormText,{className:k.default.item,type:b.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",X("code",{},void 0,n)," project.")))};return t}(r.Component);ne.displayName="BuildOverride";var ae=X(h.EmptyStateText,{},void 0,"You have no build overrides configured."),re=X(b.FormDivider,{}),oe=function(e){$(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(t=e.call.apply(e,[this].concat(a))||this).state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1};t.handleAddBuildOverride=Q(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return te(t.getAvailableProjects());case 2:if(null!=(a=e.sent)){e.next=5;break}return e.abrupt("return");case 5:r=q({},t.state.buildOverrides,((n={})[a]={
type:"branch",id:""},n));t.setState({buildOverrides:r});case 7:case"end":return e.stop()}}),e)})));t.handleBuildOverrideUpdated=function(e,n){var a,r=t.state.buildOverrides,o=q({},null!=r?r[e]:{},{},n),i=q({},t.state.buildOverrides,((a={})[e]=o,a));t.setState({buildOverrides:i})};t.handleBuildOverrideRemoved=function(e){var n=q({},t.state.buildOverrides);delete n[e];t.setState({buildOverrides:n})};t.handleDiscardChanges=function(){t.setState({buildOverrides:i.default.cloneDeep(t.state.loadedBuildOverrides),errors:{},didSave:!1})};t.handleSaveChanges=Q(regeneratorRuntime.mark((function e(){var n,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.state.buildOverrides)){e.next=3;break}return e.abrupt("return");case 3:t.setState({saving:!0});e.next=6;return(0,p.applyStaffBuildOverride)(n);case 6:if(200===(a=e.sent).status){r=a.body;t.setState({buildOverrides:r,loadedBuildOverrides:i.default.cloneDeep(r),errors:{},didSave:!0,saving:!1})
}else if(400===a.status){o=a.body;t.setState({errors:o,saving:!1,didSave:!1})}else t.setState({saving:!1,didSave:!1});case 8:case"end":return e.stop()}}),e)})));t.handleLinkGeneration=function(){var e=t.state.buildOverrides;(0,P.openModal)((function(t){return r.createElement(ie,q({},t,{buildOverrides:e}))}))};return t}var a=t.prototype;a.refreshBuildOverrides=function(){var e=Q(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0});e.next=3;return(0,S.getBuildOverride)();case 3:t=e.sent;this.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:i.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}();a.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!i.default.isEqual(t,n)};a.componentDidMount=function(){this.refreshBuildOverrides()};a.getAvailableProjects=function(){
var e=this.state.buildOverrides;if(null==e)return[];var t=Object.keys(e);return i.default.without.apply(i.default,[J].concat(V(t)))};a.renderEmpty=function(){return X(h.default,{theme:_.default.theme,className:(0,o.default)(F.default.marginTop40,F.default.marginBottom20)},void 0,X(h.EmptyStateImage,{darkSrc:n(921912),lightSrc:n(964766),width:294,height:192}),ae)};a.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,a=t.saving,r=t.errors;return null==n?null:i.default.map(n,(function(t,n){return X(ne,{project:n,overrideType:t.type,overrideId:t.id,disabled:a,error:r[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)}))};a.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:X(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,X(I.default.Child,{grow:0},void 0,X(O.default,{onClick:function(){return location.reload()},color:O.default.Colors.PRIMARY
},void 0,"Reload App")))};a.renderLinkButton=function(){var e=this.state.buildOverrides;return null==e||0===Object.keys(e).length?null:X(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,X(I.default.Child,{grow:0},void 0,X(O.default,{onClick:this.handleLinkGeneration,color:O.default.Colors.BRAND},void 0,"Generate Public Link")))};a.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state,t=e.saving,n=e.buildOverrides;return X(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,X(I.default.Child,{grow:0},void 0,X(O.default,{disabled:"discord_ios"in(null!=n?n:{}),onClick:this.handleSaveChanges,submitting:t,color:O.default.Colors.GREEN},void 0,"Save Build Overrides")),X(I.default.Child,{grow:0},void 0,X(O.default,{onClick:this.handleDiscardChanges,disabled:t,color:O.default.Colors.RED},void 0,"Discard Changes")))};a.render=function(){var e,t=this.state,n=t.loading,a=t.saving,r=t.buildOverrides;e=n?X(N.default,{
className:F.default.marginTop20}):null!=r&&0===Object.keys(r).length?this.renderEmpty():this.renderItems();var o=!a&&!n&&this.getAvailableProjects().length>0,i=null!=r&&"discord_ios"in r&&"stable"!==window.GLOBAL_ENV.RELEASE_CHANNEL?X(L.default,{color:L.default.Colors.STATUS_RED,size:L.default.Sizes.SIZE_16},void 0,"iOS build overrides must be generated using the desktop/web stable client for now!"):null;return X(b.FormSection,{className:F.default.marginTop60},void 0,X(I.default,{className:F.default.marginBottom20},void 0,X(I.default.Child,{},void 0,X(b.FormTitle,{tag:b.FormTitleTags.H1},void 0,"Build Overrides")),X(I.default.Child,{grow:0},void 0,X(O.default,{size:O.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!o},void 0,"Add Build Override"))),re,X(I.default,{direction:I.default.Direction.VERTICAL},void 0,i,e,X(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))}
;return t}(r.Component);oe.displayName="BuildOverrides";var ie=function(e){$(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).state={ttlSeconds:3600,releaseChannel:"all",userIds:[],userIdEntry:"",userIdEntryError:null,allowedVersions:[],allowedVersionEntry:"",allowedVersionEntryError:null,publicLink:" ",statusText:null,statusTextColor:L.default.Colors.STATUS_RED,allowLoggedOut:!1};t.setUserEntryError=function(e){t.setState({userIdEntryError:e})};t.setStatusMessage=function(e,n){t.setState({statusText:e,statusTextColor:null!=n?n:L.default.Colors.STATUS_RED})};t.handleUserIDEntry=function(e){e=e.trim();if(!/^\d+$/.test(e))return t.setUserEntryError("User IDs are numbers!");t.setState({userIdEntry:e})};t.handleUserEnter=function(e){e.charCode===U.KeyboardKeys.ENTER&&t.handleAddUser()};t.handleAddUser=function(){var e=t.state,n=e.userIds,a=e.userIdEntry
;if(0===a.length)return t.setUserEntryError("Enter a valid user ID!");if(n.indexOf(a)>=0)return t.setUserEntryError("You already added that user!");t.setState({userIds:[].concat(V(n),[a]),userIdEntry:""})};t.handleRemoveUser=function(e){var n=t.state.userIds;n=n.filter((function(t){return t!==e}));t.setState({userIds:n})};t.setAllowedVersionError=function(e){t.setState({allowedVersionEntryError:e})};t.handleAllowedVersionEntry=function(e){t.setState({allowedVersionEntry:e})};t.handleAllowedVersionEnter=function(e){e.charCode===U.KeyboardKeys.ENTER&&t.handleAddAllowedVersion()};t.handleAddAllowedVersion=function(){var e=t.state,n=e.allowedVersions,a=e.allowedVersionEntry;if(0===(a=a.trim()).length)return t.setAllowedVersionError("Enter a valid version number!");if(n.indexOf(a)>=0)return t.setAllowedVersionError("You already added that version!");t.setState({allowedVersions:[].concat(V(n),[a]),allowedVersionEntry:"",allowedVersionEntryError:""})};t.handleRemoveAllowedVersion=function(e){
var n=t.state.allowedVersions;n=n.filter((function(t){return t!==e}));t.setState({allowedVersions:n})};t.handleAllowLoggedOut=function(e){t.setState({allowLoggedOut:e})};t.handleExpirationChange=function(e){t.setState({ttlSeconds:e})};t.handleReleaseChannelChange=function(e){t.setState({releaseChannel:e})};t.generatePayload=function(){return{overrides:t.props.buildOverrides,meta:{release_channel:"all"===t.state.releaseChannel?null:t.state.releaseChannel,ttl_seconds:t.state.ttlSeconds,user_ids:t.state.userIds,allowed_versions:t.isIos()?t.state.allowedVersions:void 0,allow_logged_out:t.state.allowLoggedOut}}};t.handleGenerateLink=Q(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isIos()||0!==t.state.allowedVersions.length){e.next=3;break}t.setAllowedVersionError("You must add at least one allowed version for iOS");return e.abrupt("return");case 3:t.setStatusMessage(null);n=t.generatePayload();e.next=7
;return(0,p.getPublicBuildOverrideLink)(n);case 7:if(!1!==(a=e.sent).error)t.setStatusMessage(a.error.toString(),L.default.Colors.STATUS_RED);else{t.setState({publicLink:a.url.toString()});0===n.meta.user_ids.length&&t.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",L.default.Colors.STATUS_YELLOW)}case 9:case"end":return e.stop()}}),e)})));return t}var a=t.prototype;a.isIos=function(){var e;return"discord_ios"in(null!==(e=this.props.buildOverrides)&&void 0!==e?e:{})};a.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,a=t.releaseChannel,o=t.userIdEntry,i=t.userIdEntryError,l=t.userIds,u=t.allowedVersions,s=t.allowedVersionEntry,d=t.allowedVersionEntryError,f=t.allowLoggedOut,c=w.BUILD_OVERRIDE_EXPIRATION_OPTIONS.find((function(e){return e.value===n})),p=u.map((function(e){return{label:e,value:e}})),S=l.map((function(e){return{label:e,value:e}}));return X(I.default.Child,{basis:"70%"
},void 0,X(b.FormItem,{title:"Expire After",className:F.default.marginBottom20},void 0,X(D.SingleSelect,{value:null!=c?c.value:null,options:w.BUILD_OVERRIDE_EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),this.isIos()?null:X(b.FormItem,{title:"Release Channel",className:F.default.marginBottom20},void 0,X(D.SingleSelect,{value:a,options:w.BUILD_OVERRIDE_RELEASE_CHANNEL_OPTIONS,onChange:this.handleReleaseChannelChange})),this.isIos()?r.createElement(r.Fragment,null,X(b.FormItem,{title:"Add allowed app version (required)",className:F.default.marginBottom20},void 0,X(I.default,{direction:I.default.Direction.HORIZONTAL},void 0,X(I.default.Child,{wrap:!0,basis:"90%"},void 0,X(M.default,{autoFocus:!0,value:s,onKeyPress:this.handleAllowedVersionEnter,error:d,onChange:this.handleAllowedVersionEntry,placeholder:"Example: 34.0"})),X(O.default,{onClick:this.handleAddAllowedVersion},void 0,"Add"))),X(b.FormItem,{title:"Remove allowed app version",className:F.default.marginBottom20
},void 0,X(D.SingleSelect,{value:null,options:p,onChange:this.handleRemoveAllowedVersion,isDisabled:0===u.length}))):null,this.isIos()?null:r.createElement(r.Fragment,null,X(b.FormItem,{title:"Add User ID (optional)",className:F.default.marginBottom20},void 0,X(I.default,{direction:I.default.Direction.HORIZONTAL},void 0,X(I.default.Child,{wrap:!0,basis:"90%"},void 0,X(M.default,{autoFocus:!0,value:o,onKeyPress:this.handleUserEnter,error:i,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),X(O.default,{onClick:this.handleAddUser},void 0,"Add"))),X(b.FormItem,{title:"Remove User ID",className:F.default.marginBottom20},void 0,X(D.SingleSelect,{value:null,options:S,onChange:this.handleRemoveUser,isDisabled:0===l.length}))),X(A.default,{onChange:this.handleAllowLoggedOut,value:f},void 0,"Allow logged out users"))};a.renderPayloadBlock=function(){var e=JSON.stringify(this.generatePayload(),null,2),t=function(){return e},a=X(v.LazyLibrary,{
createPromise:function(){return Promise.resolve().then(n.bind(n,891433))},webpackId:891433,renderFallback:t,render:function(n){var a=n.highlight("json",e,!0);return null==a?t():X("code",{className:"hljs scroller "+a.language+" "+G.default.scrollbarGhost+" "+k.default.codebox,dangerouslySetInnerHTML:{__html:a.value}})}});return X(I.default.Child,{},void 0,X(T.default,{},void 0,X("pre",{},void 0,a)))};a.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,a=e.publicLink;return X("div",{},void 0,X(b.FormItem,{title:"Signed Link"},void 0,X(I.default,{},void 0,X(I.default.Child,{wrap:!0,basis:"75%"},void 0,X(c.default,{value:a})),X(O.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),X(L.default,{color:t,className:F.default.marginBottom8+" "+F.default.marginTop8},void 0,n))};a.render=function(){var e=this.props,t=e.onClose,n=e.transitionState;return X(C.ModalRoot,{size:C.ModalSize.LARGE,transitionState:n,
"aria-label":"Generate Public Build Override Link"},void 0,X(C.ModalHeader,{justify:I.default.Justify.BETWEEN,separator:!1},void 0,X(R.default,{tag:R.default.Tags.H2,size:R.default.Sizes.SIZE_20},void 0,"Generate Public Build Override Link"),X(C.ModalCloseButton,{onClick:t})),X(C.ModalContent,{},void 0,X(I.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))};return t}(r.Component);ie.displayName="BuildOverrideLinkModal";var le=function(e){var t=e.isTracingRequests,n=e.isForcedCanary,a=e.isLoggingGatewayEvents,r=e.isLoggingOverlayEvents,o=e.isLoggingAnalyticsEvents,i=(e.isAxeEnabled,e.isSourceMapsEnabled),s=e.isAnalyticsDebuggerEnabled,f=(0,l.useStateFromStores)([g.default],(function(){return g.default.getCurrentUser()}));return X(b.FormSection,{title:"Developer Flags",tag:b.FormTitleTags.H1},void 0,X(A.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){return(0,u.setDeveloperOptionSettings)({trace:e})}
},void 0,"Enable Tracing Requests"),X(A.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){return(0,u.setDeveloperOptionSettings)({canary:e})}},void 0,"Enable Forced Canary"),X(A.default,{value:a,note:"Logs all incoming and outgoing gateway events to the developer console, enable verbose logging in the developer console to see!",onChange:function(e){return(0,u.setDeveloperOptionSettings)({logGatewayEvents:e})}},void 0,"Enable Logging of Gateway Events to Console"),X(A.default,{value:r,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){return(0,u.setDeveloperOptionSettings)({logOverlayEvents:e})}},void 0,"Enable Logging of Overlay RPC Events & Commands"),X(A.default,{value:o,note:"Logs all analytics events to the developer console",onChange:function(e){return(0,u.setDeveloperOptionSettings)({logAnalyticsEvents:e})}},void 0,"Enable Logging of Analytics Events"),X(A.default,{value:i,
note:"Only enable on devices you trust.",onChange:function(e){return(0,u.setDeveloperOptionSettings)({sourceMapsEnabled:e})}},void 0,"Enable source maps to be loaded on this client"),X(A.default,{value:s,note:"Displays a floating debugger with viewed impressions",onChange:function(e){return(0,u.setDeveloperOptionSettings)({analyticsDebuggerEnabled:e})}},void 0,"Enable standard analytics debugger view"),null,(null==f?void 0:f.isStaff())?X(A.default,{value:null==f?void 0:f.hasDisabledPremium(),note:"Force non premium user experience locally",onChange:function(e){return d.setFlag(U.UserFlags.DISABLE_PREMIUM,e)}},void 0,"Enable force non nitro experience locally"):null)};le.displayName="DeveloperFlagsInner";var ue=X(O.default,{onClick:function(){throw new Error("Send help")}},void 0,"Trigger onClick Throw");function se(){var e=Y(r.useState(!1),2),t=e[0],n=e[1],a=Y(r.useState(""),2),o=a[0],i=a[1];r.useEffect((function(){Q(regeneratorRuntime.mark((function e(){var t
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return(0,y.getOverlayURL)();case 2:t=e.sent;i(t);case 4:case"end":return e.stop()}}),e)})))()}),[]);return t?{}:X("div",{className:k.default.buttonsContainer},void 0,X(O.default,{onClick:function(){return n(!0)}},void 0,"Trigger React Crash"),ue,X(O.default,{onClick:function(){return window.open(o,"_blank")},disabled:""===o},void 0,"Open Overlay"))}se.displayName="UsefulButtons";var de=l.default.connectStores([m.default],(function(){return{isTracingRequests:m.default.isTracingRequests,isForcedCanary:m.default.isForcedCanary,isLoggingGatewayEvents:m.default.isLoggingGatewayEvents,isLoggingOverlayEvents:m.default.isLoggingOverlayEvents,isLoggingAnalyticsEvents:m.default.isLoggingAnalyticsEvents,isAxeEnabled:m.default.isAxeEnabled,isSourceMapsEnabled:m.default.sourceMapsEnabled,isAnalyticsDebuggerEnabled:m.default.isAnalyticsDebuggerEnabled}
}))(le),fe=X(b.FormTitle,{},void 0,"Copy the ID of the Survey you want to test:"),ce=X(O.default,{type:"submit"},void 0,"Save Override");function pe(){var e=(0,l.useStateFromStores)([E.default],(function(){return E.default.getSurveyOverride()})),t=Y(r.useState(null!=e?e:""),2),n=t[0],a=t[1];return X(b.FormSection,{tag:b.FormTitleTags.H1,title:"Survey Override",className:F.default.marginTop60},void 0,fe,X("form",{className:k.default.surveyOverride,onSubmit:function(e){e.preventDefault();n.length>0?s.overrideSurvey(n):s.overrideSurvey(null)}},void 0,X(M.default,{className:k.default.surveyOverrideInput,value:n,onChange:a}),ce))}pe.displayName="SurveyOverride";var Se=X(r.Fragment,{},void 0,X(de,{}),X(se,{}),X(pe,{}),X(oe,{})),ve=function(e){$(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){return Se};return t}(r.PureComponent);ve.displayName="UserSettingsModalDeveloperOptions";var me=ve;t.default=me},117944:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=ee;var a,r=B(n(667294)),o=w(n(294184)),i=B(n(536211)),l=w(n(234161)),u=w(n(379319)),s=w(n(834162)),d=w(n(871778)),f=B(n(956117)),c=w(n(16941)),p=w(n(265851)),S=B(n(737705)),v=w(n(410208)),m=w(n(618993)),E=w(n(160629)),_=w(n(567668)),g=w(n(730977)),y=n(688388),O=w(n(68259)),T=w(n(330998)),h=w(n(804080)),I=w(n(614617)),N=n(862728),A=n(864489),M=n(894826),b=n(770348),C=w(n(247001)),P=w(n(835244)),R=w(n(480798)),D=w(n(3066)),L=w(n(122688)),U=w(n(380203));function w(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function F(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(){G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return G.apply(this,arguments)}function j(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;H(e,t)}function H(e,t){H=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return H(e,t)}function x(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return W(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var K=i.default.connectStores([d.default],(function(){return{theme:d.default.theme}}))(S.default),z=(0,A.isWindows)();function Q(e){var t=e.onClose,n=(0,i.useStateFromStores)([s.default],(function(){return s.default.getCandidateGames()})),a=Y(r.useState(null),2),u=a[0],d=a[1];var c=n.map((function(e){return{value:e.pid,label:null!=e.name?e.name:""}}));return x(p.default,{className:(0,o.default)(P.default.addGamePopout,R.default.elevationBorderHigh),"aria-label":C.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME},void 0,x(I.default,{placeholder:C.default.Messages.SELECT,value:u,options:c,onChange:function(e){d(e)}}),x(y.FormDivider,{className:(0,
o.default)(U.default.marginTop8,U.default.marginBottom8)}),x("div",{className:(0,o.default)(P.default.actions,D.default.horizontal)},void 0,x(f.default,{className:P.default.cancelButton,look:f.ButtonLooks.LINK,color:f.ButtonColors.PRIMARY,onClick:t},void 0,C.default.Messages.CANCEL),x(f.default,{disabled:null==u,onClick:function(){if(null!=u){l.default.addGame(u);t()}}},void 0,C.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))}Q.displayName="AddGamePopout";var $=function(e){j(t,e);function t(){for(var t,n,a,r,o,i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];(o=e.call.apply(e,[this].concat(u))||this).state={editingName:null!==(t=null===(n=o.props.game)||void 0===n?void 0:n.name)&&void 0!==t?t:"",gameName:null!==(a=null===(r=o.props.game)||void 0===r?void 0:r.name)&&void 0!==a?a:""};o.handleRemoveClick=function(){var e=o.props.game;null!=e&&l.default.deleteEntry(e)};o.handleNameEdit=function(){var e=o.props.game,t=o.state.editingName
;null!=e&&e.name!==t&&l.default.editName(e,t)};o.handleNameChange=function(e){o.setState({editingName:e.target.value})};o.handleOverlayToggle=function(){var e=o.props.game;null!=e&&l.default.toggleOverlay(e)};return o}t.getDerivedStateFromProps=function(e,t){var n,a=e.game,r=e.nowPlaying,o=t.editingName,i=t.gameName;return r&&null!=a&&a.name!==i&&a.name!==o?{editingName:a.name,gameName:a.name}:{gameName:null!==(n=null==a?void 0:a.name)&&void 0!==n?n:""}};var n=t.prototype;n.renderName=function(){var e=this.props,t=e.game,n=e.isOverride;return null==t?x("div",{className:P.default.gameName},void 0,C.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):t.verified&&!n?x("div",{className:P.default.detectedApplication},void 0,x("div",{className:P.default.gameName},void 0,t.name),x(g.default,{text:C.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,(function(e){return r.createElement(v.default,G({className:P.default.gameVerifiedIcon,size:18,color:b.Colors.BRAND_500},e),x(h.default,{width:18,
height:18,color:b.Colors.WHITE}))}))):x("input",{className:(0,o.default)(P.default.gameName,P.default.gameNameInput),type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})};n.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return x("div",{className:P.default.lastPlayed},void 0,C.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var a,r=t.played,o=t.exePath;n?a=C.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:null!=r&&""!==r&&(a=C.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:r}));return x("div",{className:P.default.lastPlayed},void 0,x(m.default,{hoverText:null!=o&&""!==o?o.toUpperCase():""},void 0,a))};n.renderOverlayToggle=function(){var e=this,t=this.props.game;if(!z||null==t)return null;var n=t.overlay,a=t.overlayWarn,i=n?C.default.Messages.SETTINGS_GAMES_OVERLAY_ON:C.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,l=n?x(O.default,{
className:P.default.overlayToggleIconOn,foreground:P.default.fill}):x(T.default,{className:P.default.overlayToggleIconOff,foreground:P.default.fill}),u=a?x(g.default,{text:C.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,(function(e){return r.createElement("i",G({className:P.default.overlayWarningIcon},e))})):null;return x("div",{className:(0,o.default)(D.default.flexCenter,D.default.noWrap,D.default.justifyBetween)},void 0,u,x("div",{className:P.default.overlayStatusText},void 0,i),x(g.default,{text:C.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,(function(t){var n=t.onMouseEnter,a=t.onMouseLeave;return x(c.default,{"aria-label":C.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY,className:P.default.overlayToggleIcon,onClick:e.handleOverlayToggle,onMouseEnter:n,onMouseLeave:a},void 0,l)})))};n.renderRemove=function(){return x(u.default,{className:P.default.removeGame,onClick:this.handleRemoveClick})};n.render=function(){
var e,t=this.props,n=t.nowPlaying,a=t.game,r=t.isOverride,i=null!=a;return x("div",{className:(0,o.default)(D.default.flexCenter,((e={})[P.default.game]=!n,e[P.default.activeGame]=n,e[L.default.card]=!n,e[P.default.nowPlaying]=i&&n,e[P.default.notDetected]=!i&&n,e))},void 0,x("div",{className:(0,o.default)(P.default.gameNameLastPlayed,D.default.vertical)},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),null==a||n&&!r?null:this.renderRemove())};n.handleEnterKey=function(e){if(13===e.keyCode){e.currentTarget.blur();e.preventDefault()}};return t}(r.PureComponent);$.displayName="Game";$.defaultProps={nowPlaying:!1,isOverride:!1};function Z(e){var t=e.children;return x(K,{className:U.default.marginTop40},void 0,x(S.EmptyStateImage,{darkSrc:n(498913),lightSrc:n(598150),width:430,height:250}),t)}Z.displayName="GameEmptyStateImage";var q=x(Z,{}),X=function(e){j(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.componentDidMount=function(){
s.default.watchCandidateGames(!0)};n.componentWillUnmount=function(){s.default.watchCandidateGames(!1)};n.renderPopout=function(e){return x(Q,{onClose:e.closePopout})};n.renderGameList=function(){var e=this.props,t=e.gameHistory,n=e.overrideExePaths;return 0===t.length?x(Z,{},void 0,x(S.EmptyStateText,{},void 0,C.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER)):x(y.FormSection,{className:U.default.marginTop40},void 0,x(y.FormTitle,{className:U.default.marginBottom4},void 0,C.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),t.map((function(e){return x($,{game:e,isOverride:n.has(e.exePath)},e.exePath)})))};n.renderGameDetails=function(){if(!A.isPlatformEmbedded)return q;var e=this.props,t=e.runningGame,n=e.overrideExePaths;return r.createElement(r.Fragment,null,x($,{game:t,isOverride:null!=t&&n.has(t.exePath),nowPlaying:!0}),x("div",{className:(0,o.default)(P.default.nowPlayingAdd,U.default.marginReset,U.default.marginTop8,U.default.marginBottom20)
},void 0,x("span",{},void 0,C.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),x(E.default,{renderPopout:this.renderPopout,align:E.default.Align.CENTER,position:E.default.Positions.BOTTOM},void 0,(function(e){return r.createElement(f.default,G({},e,{look:f.ButtonLooks.LINK,size:f.ButtonSizes.MIN,color:f.ButtonColors.LINK}),C.default.Messages.SETTINGS_GAMES_ADD_GAME)}))),this.renderGameList())};n.render=function(){var e=this.props.showCurrentGame,t=A.isPlatformEmbedded?C.default.Messages.SHOW_CURRENT_ACTIVITY_DESC_EMBEDDED:C.default.Messages.SHOW_CURRENT_ACTIVITY_DESC;return x(r.Fragment,{},void 0,x(y.FormSection,{tag:y.FormTitle.Tags.H1,title:C.default.Messages.ACTIVITY_STATUS},void 0,x(_.default,{value:e,onChange:M.ShowCurrentGame.updateSetting,note:t},void 0,C.default.Messages.SHOW_CURRENT_ACTIVITY),this.renderGameDetails()))};return t}(r.PureComponent);X.displayName="UserSettingsGameActivity";var J=(0,N.cachedFunction)((function(){
for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Set(t.map((function(e){return e.exePath})))}));function ee(){var e=(0,i.useStateFromStoresObject)([s.default],(function(){return{gameHistory:s.default.getGamesSeen(!0),runningGame:s.default.getSettingsGame(),overrideExePaths:J.apply(void 0,F(s.default.getOverrides()))}}));return r.createElement(X,G({},e,{showCurrentGame:M.ShowCurrentGame.useSetting()}))}ee.displayName="ConnectedUserSettingsGameActivity"},418415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=g(n(441143)),i=g(n(536211)),l=g(n(810139)),u=g(n(508875)),s=g(n(677837)),d=g(n(958698)),f=g(n(728429)),c=g(n(558402)),p=g(n(971639)),S=g(n(776360)),v=g(n(164697)),m=n(770348),E=g(n(247001)),_=g(n(676366));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return T(e,t)}var h=O(l.default,{}),I=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderIntroHeader=function(){return null==this.props.houseMembership?E.default.Messages.HYPESQUAD_HEADING:E.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER};n.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,a=e.isVerified;return O(r.Fragment,{},void 0,O("div",{className:_.default.intro},void 0,O(p.default,{size:p.default.Sizes.SIZE_32,className:_.default.introHeader},void 0,this.renderIntroHeader()),O(S.default,{size:S.default.Sizes.SIZE_20},void 0,E.default.Messages.HYPESQUAD_SUBHEADING)),O(v.default,{className:_.default.verificationNotice,unclaimedNotice:E.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:E.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),O(u.default,{houseMembership:t,isClaimed:n,isVerified:a}),h,O(s.default,{
isHypeSquadOnlineMember:null!=t}),O(c.default,{className:_.default.attendeeCTA},void 0,E.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:m.MarketingURLs.HYPESQUAD})))};return t}(r.PureComponent);I.displayName="UserSettingsHypeSquad";var N=i.default.connectStores([f.default,d.default],(function(){var e=f.default.getCurrentUser();(0,o.default)(null!=e,"UserSettingsHypeSquad: currentUser cannot be undefined");return{houseMembership:d.default.getHouseMembership(),isClaimed:e.isClaimed(),isVerified:e.verified}}))(I);t.default=N},122253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){if((0,i.useBlockedPaymentsConfig)())return m;return r.createElement(r.Fragment,null,v(o.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_CODE_REDEMPTION},void 0,E),v(u.FormDivider,{className:c.default.divider}),v(o.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_GIFTS_LIST},void 0,_))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=p(n(284382)),i=n(444272),l=n(421748),u=n(688388),s=p(n(321424)),d=p(n(379743)),f=n(770348),c=p(n(827079));function p(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=v(l.BlockedPaymentsContentSettings,{}),E=v(s.default,{}),_=v(d.default,{})},913458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ie;var a,r=V(n(667294)),o=x(n(294184)),i=x(n(496486)),l=V(n(536211)),u=x(n(511066)),s=x(n(379319)),d=x(n(372936)),f=n(497677),c=n(726485),p=n(246049),S=x(n(14096)),v=x(n(379310)),m=x(n(749666)),E=n(915188),_=n(205809),g=x(n(122913)),y=x(n(635014)),O=x(n(871778)),T=x(n(527501)),h=x(n(81636)),I=V(n(956117)),N=V(n(737705)),A=x(n(530250)),M=V(n(20902)),b=n(688388),C=V(n(37241)),P=x(n(971639)),R=n(967965),D=x(n(776360)),L=x(n(550270)),U=n(864489),w=V(n(339943)),k=n(770348),B=n(697984),F=x(n(247001)),G=x(n(437338)),j=x(n(122688)),H=x(n(380203));function x(e){return e&&e.__esModule?e:{default:e}}function Y(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,n=new WeakMap;return(Y=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function K(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(){z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return z.apply(this,arguments)}function Q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;$(e,t)}function $(e,t){$=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $(e,t)}function Z(e){return(0,e.children)([c.KeybindGroup.MESSAGE,c.KeybindGroup.NAVIGATION,c.KeybindGroup.DND,c.KeybindGroup.CHAT,c.KeybindGroup.VOICE_AND_VIDEO,c.KeybindGroup.MISCELLANEOUS])}var q=(0,i.default)((0,c.getDefaultLayoutContent)()).filter((function(e){return e.description!==F.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG})).groupBy((function(e){return e.group})).value(),X=l.default.connectStores([O.default],(function(){return{
theme:O.default.theme}}))(N.default),J=function(e){Q(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleActionChanged=function(e){u.default.setKeybind(z({},t.props.keybind,{action:e}))};t.handleShortcutChange=function(e){u.default.setKeybind(z({},t.props.keybind,{shortcut:e}))};t.handleDeleteKeybind=function(){u.default.deleteKeybind(t.props.keybind.id)};return t}var n=t.prototype;n.renderMessage=function(){var e=this.props.keybind,t=w.toString(e.shortcut);return S.default.hasBind(t)?K(C.default,{className:G.default.keybindMessage,type:C.Types.DESCRIPTION,style:{color:k.Colors.STATUS_RED}},void 0,F.default.Messages.KEYBIND_CONFLICT):B.NavigationShortcuts.has(t)?K(C.default,{className:G.default.keybindMessage,type:C.Types.DESCRIPTION,style:{color:k.Colors.STATUS_RED}},void 0,F.default.Messages.KEYBIND_NAVIGATION_CONFLICT.format({
keyboardNavArticle:L.default.getArticleURL(k.HelpdeskArticles.KEYBOARD_NAVIGATION)})):K(C.default,{className:G.default.keybindMessage,type:C.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[e.action])};n.render=function(){var e=this.props.keybind.managed;return K(A.default,{direction:A.default.Direction.VERTICAL,className:(0,o.default)(G.default.keybindGroup,j.default.card)},void 0,!e&&K(s.default,{"aria-label":F.default.Messages.REMOVE_KEYBIND,className:G.default.removeKeybind,onClick:this.handleDeleteKeybind,look:s.default.Looks.FILLED}),K(A.default,{className:H.default.marginBottom8},void 0,K(A.default.Child,{basis:"50%"},void 0,K(b.FormItem,{title:F.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:G.default.item},void 0,K(R.SingleSelect,{value:this.props.keybind.action,options:this.props.keybindActionTypes,onChange:this.handleActionChanged,isDisabled:e}))),K(A.default.Child,{basis:"50%"},void 0,K(b.FormItem,{title:F.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,
className:G.default.item},void 0,K(d.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})))),K(A.default.Child,{},void 0,this.renderMessage()))};return t}(r.PureComponent);J.displayName="KeybindEntry";var ee=K(b.FormDivider,{}),te=K(b.FormDivider,{}),ne=K(b.FormDivider,{}),ae=K(b.FormDivider,{}),re=K(b.FormDivider,{}),oe=function(e){Q(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleAddKeybind=function(){u.default.addKeybind()};return t}var a=t.prototype;a.componentDidMount=function(){S.default.disable()};a.componentWillUnmount=function(){S.default.enable();var e=[k.Layers.USER_SETTINGS,k.Layers.CHANNEL_SETTINGS,k.Layers.GUILD_SETTINGS];g.default.getLayers().some((function(t){return e.includes(t)}))&&S.default.enableTemp(p.SETTINGS_LAYERS_LAYOUT)};a.renderKeybinds=function(e){var t=this;return e.map((function(e){return K("div",{className:G.default.row
},e.id,K(J,{keybind:e,keybindDescriptions:t.keybindDescriptions,keybindActionTypes:t.keybindActionTypes},e.id))}))};a.renderEmpty=function(e){if(0===e.length)return K(X,{className:H.default.marginTop60},void 0,K(N.EmptyStateImage,{darkSrc:n(656470),lightSrc:n(789885),width:320,height:170}))};a.render=function(){var e=(0,i.default)(this.props.keybinds).reject((function(e){return e.managed&&e.action!==k.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET})).sortBy((function(e){return e.id})).sortBy((function(e){return!0===e.managed?-1:0})).value();return r.createElement(r.Fragment,null,K(b.FormSection,{tag:b.FormTitleTags.H1,title:F.default.Messages.KEYBINDS},void 0,U.isPlatformEmbedded?r.createElement(r.Fragment,null,K(A.default,{justify:A.default.Justify.BETWEEN,className:H.default.marginBottom20},void 0,K(A.default.Child,{grow:0},void 0,K(M.default,{messageType:M.HelpMessageTypes.WARNING},void 0,F.default.Messages.ADD_KEYBIND_WARNING)),K(A.default.Child,{wrap:!0,grow:0
},void 0,K(I.default,{size:I.ButtonSizes.LARGE,onClick:this.handleAddKeybind},void 0,F.default.Messages.ADD_KEYBIND))),ee,K(b.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e))):K(M.default,{messageType:M.HelpMessageTypes.INFO,fontSize:M.HelpMessageFontSizes.FONT_SIZE_16,className:G.default.browserNotice},void 0,F.default.Messages.KEYBIND_IN_BROSWER_NOTICE.format({downloadLink:k.MarketingURLs.DOWNLOAD}))),te,K(b.FormSection,{tag:b.FormTitleTags.H1,title:F.default.Messages.USER_SETTINGS_KEYBINDS_DEFAULT_KEYBINDS_TITLE,className:H.default.marginTop60},void 0,K("div",{className:G.default.defaultKeybind},void 0,K(D.default,{size:D.default.Sizes.SIZE_16},void 0,F.default.Messages.USER_SETTINGS_KEYBINDS_SHOW_LIST_TITLE),K("div",{className:G.default.defaultKeybindShortcutGroup},void 0,K(m.default,{shortcut:f.TOGGLE_HOTKEYS.binds[0],className:G.default.defaultKeybindShortcut}))),ne,K(Z,{},void 0,(function(e){return r.createElement(r.Fragment,null,e.map((function(e){var t,n=(0,
c.getNameForKeybindGroup)(e),a=(0,c.getDescriptionForKeybindGroup)(e),i=q[e];return K("div",{className:G.default.defaultKeybindGroup},void 0,K(P.default,{tag:P.default.Tags.H3,size:P.default.Sizes.SIZE_12,className:(0,o.default)(G.default.defaultKeybindGroupHeader,(t={},t[G.default.defaultKeybindGroupWithDescription]=null!=a,t))},void 0,n),null!=a&&K(D.default,{color:D.default.Colors.HEADER_SECONDARY,className:G.default.defaultKeybindGroupDescription},void 0,a),ae,i.map((function(e){return K(r.Fragment,{},e.description,K("div",{className:G.default.defaultKeybind},void 0,K(D.default,{size:D.default.Sizes.SIZE_16},void 0,e.description),K("div",{className:G.default.defaultKeybindShortcutGroup},void 0,e.binds.map((function(e){return K(m.default,{shortcut:e},e)})))),re)})))})))}))))};!function(e,t,n){t&&W(e.prototype,t);n&&W(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"keybindActionTypes",get:function(){
var e=this.props,t=e.overlaySupported,n=e.canGoLive,a=e.allowSoundboard,r=[{value:k.GlobalKeybindActions.UNASSIGNED,label:F.default.Messages.KEYBIND_UNASSIGNED},{value:k.GlobalKeybindActions.PUSH_TO_TALK,label:F.default.Messages.KEYBIND_PUSH_TO_TALK},{value:k.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY,label:F.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:k.GlobalKeybindActions.PUSH_TO_MUTE,label:F.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:k.GlobalKeybindActions.TOGGLE_MUTE,label:F.default.Messages.KEYBIND_TOGGLE_MUTE},{value:k.GlobalKeybindActions.TOGGLE_DEAFEN,label:F.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:k.GlobalKeybindActions.TOGGLE_VOICE_MODE,label:F.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:k.GlobalKeybindActions.TOGGLE_STREAMER_MODE,label:F.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}];if(t){r.push({value:k.GlobalKeybindActions.TOGGLE_OVERLAY,label:F.default.Messages.KEYBIND_TOGGLE_OVERLAY});r.push({
value:k.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK,label:F.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK});r.push({value:k.GlobalKeybindActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:F.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})}n&&(0,U.isWindows)()&&r.push({value:k.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING,label:F.default.Messages.KEYBIND_TOGGLE_GO_LIVE_STREAMING});if((0,U.isDesktop)()){r.push({value:k.GlobalKeybindActions.NAVIGATE_BACK,label:F.default.Messages.KEYBIND_NAVIGATE_BACK},{value:k.GlobalKeybindActions.NAVIGATE_FORWARD,label:F.default.Messages.KEYBIND_NAVIGATE_FORWARD});a&&(0,_.isSoundboardSupported)()&&r.push({value:k.GlobalKeybindActions.SOUNDBOARD,label:F.default.Messages.KEYBIND_SOUNDBOARD},{value:k.GlobalKeybindActions.SOUNDBOARD_HOLD,label:F.default.Messages.KEYBIND_SOUNDBOARD_HOLD})}return r}},{key:"keybindDescriptions",get:function(){
var e,t=this.props,n=t.overlaySupported,a=t.canGoLive,r=((e={})[k.GlobalKeybindActions.UNASSIGNED]=F.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,e[k.GlobalKeybindActions.PUSH_TO_MUTE]=F.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,e[k.GlobalKeybindActions.PUSH_TO_TALK]=F.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,e[k.GlobalKeybindActions.PUSH_TO_TALK_PRIORITY]=F.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,e[k.GlobalKeybindActions.TOGGLE_MUTE]=F.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,e[k.GlobalKeybindActions.TOGGLE_DEAFEN]=F.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,e[k.GlobalKeybindActions.TOGGLE_VOICE_MODE]=F.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,e[k.GlobalKeybindActions.TOGGLE_STREAMER_MODE]=F.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,e);if(n){r[k.GlobalKeybindActions.TOGGLE_OVERLAY]=F.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY
;r[k.GlobalKeybindActions.TOGGLE_OVERLAY_INPUT_LOCK]=F.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK}a&&(0,U.isWindows)()&&(r[k.GlobalKeybindActions.TOGGLE_GO_LIVE_STREAMING]=F.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_GO_LIVE_STREAMING);if((0,U.isDesktop)()){r[k.GlobalKeybindActions.NAVIGATE_BACK]=F.default.Messages.KEYBIND_DESCRIPTION_NAVIGATE_BACK;r[k.GlobalKeybindActions.NAVIGATE_FORWARD]=F.default.Messages.KEYBIND_DESCRIPTION_NAVIGATE_FORWARD;r[k.GlobalKeybindActions.SOUNDBOARD]=(0,U.isWindows)()?F.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_GLOBAL:F.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD;r[k.GlobalKeybindActions.SOUNDBOARD_HOLD]=(0,U.isWindows)()?F.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD_GLOBAL:F.default.Messages.KEYBIND_DESCRIPTION_SOUNDBOARD_HOLD}return r}}]);return t}(r.PureComponent);oe.displayName="UserSettingsKeybinds";function ie(){var e=(0,l.useStateFromStores)([T.default],(function(){return T.default.getState()})),t=(0,
l.useStateFromStores)([y.default],(function(){return(0,v.default)(y.default)})),n=(0,l.useStateFromStores)([h.default],(function(){return h.default.isSupported()})),a=(0,E.useGlobalSoundboardConfig)().allowSoundboard;return K(oe,{keybinds:e,canGoLive:t,overlaySupported:n,allowSoundboard:a})}ie.displayName="UserSettingsKeybindsConnected"},783949:(e,t,n)=>{"use strict";var a=n(734155);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),i=p(n(536211)),l=p(n(929031)),u=p(n(871778)),s=p(n(26172)),d=n(688388),f=p(n(247001)),c=p(n(391431));function p(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return m.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(e){
var t=E(o.useState(e.currentLocale),2),r=t[0],i=t[1],u=E(o.useState((function(){return f.default.getAvailableLocales().map((function(e){var t;try{t=n(357605)("./"+e.value+".png")}catch(e){t=n(223693)}return m({},e,{name:v("div",{className:c.default.option},void 0,v("span",{className:c.default.localeName},void 0,e.name),v("span",{className:c.default.localizedName},void 0,e.localizedName),v("div",{className:c.default.flag,"aria-hidden":!0},void 0,v("img",{alt:"",src:t,className:c.default.flagImage})))})}))})),1)[0],p=o.useCallback((function(e){var t=e.value;i(t);a.nextTick((function(){return l.default.updateRemoteSettings({locale:t})}))}),[]);return v(d.FormSection,{tag:d.FormTitleTags.H1,title:f.default.Messages.LANGUAGE},void 0,v(d.FormSection,{},void 0,v(d.FormItem,{title:f.default.Messages.LANGUAGE_SELECT},void 0,v(s.default,{onChange:p,options:u,value:r}))))}g.displayName="UserSettingsLocale";var y=i.default.connectStores([u.default],(function(){return{currentLocale:u.default.locale
}}))(g);t.default=y},764422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=F;var a,r=P(n(667294)),o=b(n(294184)),i=b(n(496486)),l=n(536211),u=b(n(969226)),s=P(n(448549)),d=b(n(329441)),f=b(n(754966)),c=b(n(919935)),p=b(n(16941)),S=b(n(26172)),v=b(n(567668)),m=n(688388),E=b(n(149982)),_=n(967965),g=b(n(169617)),y=n(864489),O=P(n(179379)),T=n(894826),h=b(n(55181)),I=n(770348),N=b(n(247001)),A=b(n(66662)),M=b(n(380203));function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function R(){R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return R.apply(this,arguments)}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}function L(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e){var t=e.label,n=e.enabled,a=e.disabled,r=e.onPreview,o=e.onChange;return L(v.default,{className:A.default.soundRow,value:n,onChange:o,disabled:a},void 0,L("div",{
className:A.default.notificationSound},void 0,L("div",{className:A.default.soundName},void 0,t),L(p.default,{className:A.default.soundIcon,onClick:r,"aria-label":N.default.Messages.USER_SETTINGS_NOTIFICATIONS_PREVIEW_SOUND},void 0,L(E.default,{width:16,height:16,className:A.default.icon,"aria-hidden":!0}))))}U.displayName="NotificationSound";function w(e){var t=e.disabledSounds,n=e.disableAllSounds,a=d.default.useExperiment({}).allowSoundpacks;r.useEffect((function(){d.default.trackExposure({})}),[]);var o=r.useRef(),i=r.useCallback((function(e,t){t.stopPropagation();t.preventDefault();null!=o.current&&o.current.stop();o.current=O.playSound(e)}),[]),l=r.useCallback((function(e,n){var a=t.filter((function(t){return t!==e}));n||a.push(e);u.default.setDisabledSounds(a)}),[t]),s=[{label:N.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:N.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:N.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:N.default.Messages.MUTE,
sound:"mute"},{label:N.default.Messages.UNMUTE,sound:"unmute"},{label:N.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:N.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:N.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:N.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:N.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:N.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:N.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:N.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"},{label:N.default.Messages.SOUND_STREAM_STARTED,sound:"stream_started"},{label:N.default.Messages.SOUND_STREAM_STOPPED,sound:"stream_ended"},{label:N.default.Messages.SOUND_VIEWER_JOIN,sound:"stream_user_joined"},{label:N.default.Messages.SOUND_VIEWER_LEAVE,sound:"stream_user_left"},{label:N.default.Messages.SOUND_INVITED_TO_SPEAK,sound:"reconnect"}];return L(m.FormSection,{tag:m.FormTitleTags.H1,
title:N.default.Messages.SOUNDS},void 0,a?r.createElement(r.Fragment,null,L(m.FormTitle,{className:M.default.marginBottom20},void 0,N.default.Messages.SOUNDPACK_LABEL),L(f.default,{className:M.default.marginBottom40})):null,L(v.default,{note:N.default.Messages.SOUND_DISABLE_ALL_NOTE,value:n,onChange:u.default.toggleDisableAllSounds},void 0,N.default.Messages.SOUND_DISABLE_ALL),s.map((function(e){var a=e.label,r=e.sound;return L(U,{label:a,disabled:n,onChange:function(e){return l(r,e)},onPreview:function(e){return i(r,e)},enabled:!n&&!t.includes(r)},r)})))}w.displayName="NotificationSounds";var k=L(h.default,{}),B=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.call.apply(e,[this].concat(a))||this).handleToggleShowUnreadBadge=function(){u.default.setDisableUnreadBadge(!t.props.disableUnreadBadge)};t.handleToggleShowFlash=function(){
u.default.setTaskbarFlash(!t.props.taskbarFlash)};t.renderTTS=function(){if(!s.supported)return null;var e=[{name:N.default.Messages.TTS_ALLS,value:I.TTSNotificationTypes.ALL_CHANNELS},{name:N.default.Messages.TTS_CURRENT,value:I.TTSNotificationTypes.SELECTED_CHANNEL},{name:N.default.Messages.TTS_NEVER,value:I.TTSNotificationTypes.NEVER}];return L(m.FormItem,{title:N.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,L(m.FormText,{type:m.FormTextTypes.DESCRIPTION,className:M.default.marginBottom8},void 0,N.default.Messages.FORM_DESCRIPTION_TTS),L(S.default,{options:e,onChange:t.handleTTSChange,value:t.props.ttsType}))};return t}var n=t.prototype;n.handleDesktopChange=function(e){var t,n=e?I.DesktopNotificationTypes.ALL:I.DesktopNotificationTypes.NEVER;n!==I.DesktopNotificationTypes.NEVER?(t="UserSettingsModal",g.default.requestPermission((function(e){var n=e?I.NotificationPermissionTypes.ENABLED:I.NotificationPermissionTypes.BLOCKED;u.default.setPermissionsState(n,t)
}))):u.default.setDesktopType(n)};n.handleTTSChange=function(e){var t=e.value;u.default.setTTSType(t)};n.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,a=e.disableUnreadBadge,r=e.taskbarFlash,l=e.disabledSounds,u=e.disableAllSounds,s=y.isPlatformEmbedded&&(0,y.isWindows)(),d=i.default.range(1,11).map((function(e){return{value:60*e,label:N.default.Messages.DURATION_MINUTES.format({minutes:e})}}));return L(m.FormSection,{tag:m.FormTitleTags.H1,title:N.default.Messages.NOTIFICATIONS},void 0,L(v.default,{className:M.default.marginBottom20,value:t!==I.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:N.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,N.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),L(v.default,{className:s?M.default.marginBottom20:M.default.marginBottom40,value:!a,note:N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge
},void 0,N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),s?L(v.default,{className:M.default.marginBottom40,value:r,note:N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,N.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,L(m.FormItem,{title:N.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,L(_.SingleSelect,{value:n,onChange:T.AfkTimeout.updateSetting,options:d}),L(m.FormText,{type:m.FormTextTypes.DESCRIPTION,className:M.default.marginTop8},void 0,N.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),L(m.FormDivider,{className:(0,o.default)(M.default.marginTop40,M.default.marginBottom40)})),this.renderTTS(),L(m.FormDivider,{className:(0,o.default)(M.default.marginTop40,M.default.marginBottom40)}),L(m.FormItem,{},void 0,L(w,{disabledSounds:l,disableAllSounds:u})),k)};return t}(r.PureComponent);B.displayName="UserSettingsNotifications";function F(){var e=(0,
l.useStateFromStoresObject)([c.default],(function(){return{disableUnreadBadge:c.default.getDisableUnreadBadge(),taskbarFlash:c.default.taskbarFlash,disabledSounds:c.default.getDisabledSounds(),disableAllSounds:c.default.getDisableAllSounds(),desktopType:c.default.getDesktopType(),ttsType:c.default.getTTSType()}}));return r.createElement(B,R({},e,{afkTimeout:T.AfkTimeout.useSetting()}))}F.displayName="ConnectedUserSettingsNotifications"},720034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=N(n(536211)),i=N(n(511066)),l=N(n(390557)),u=N(n(372936)),s=n(555437),d=N(n(527501)),f=N(n(81636)),c=N(n(945771)),p=N(n(530250)),S=N(n(26172)),v=N(n(567668)),m=n(688388),E=N(n(510596)),_=N(n(738858)),g=N(n(308920)),y=(N(n(550270)),n(339943)),O=n(770348),T=N(n(247001)),h=N(n(780663)),I=N(n(380203));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){
var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return b.apply(this,arguments)}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function P(){var e=c.default.getNotificationPositionMode(),t=e!==O.OverlayNotificationPositions.DISABLED,n=d.default.getOverlayKeybind(),a=d.default.getOverlayChatKeybind();g.default.track(O.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:f.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:c.default.getTextChatNotificationMode(),hotkey:null!=n?(0,y.toString)(n.shortcut):null,text_activation_hotkey:null!=a?(0,y.toString)(a.shortcut):null,text_opacity_slider:c.default.getTextWidgetOpacity()})}var R=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r]
;(t=e.call.apply(e,[this].concat(a))||this).handleChangeEnabled=function(e){l.default.setEnabled(e);P();g.default.track(O.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e,setting_type:"overlay toggled - global"})};t.handleChangeDisplayNameMode=function(e){var t=e.value;l.default.setDisplayNameMode(t)};t.handleChangeAvatarSizeMode=function(e){var t=e.value;l.default.setAvatarSizeMode(t)};t.handleChangeDisplayUserMode=function(e){var t=e.value;l.default.setDisplayUserMode(t)};t.handleChangeTextNotificationMode=function(){var e=O.OverlayNotificationTextChatTypes.ENABLED,n=O.OverlayNotificationTextChatTypes.DISABLED,a=t.props.textChatNotificationMode===e?n:e;l.default.setTextChatNotificationMode(a);P()};t.handleChangeNotificationPositionMode=function(e,t){l.default.setNotificationPositionMode(t);P()};t.handleInputLockShortcutChange=function(e){i.default.setKeybind(b({},t.props.inputLockKeybind,{shortcut:e}));P()};return t}var n=t.prototype;n.renderExplanation=function(){return null}
;n.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind,a=(0,s.isHookModuleTooOld)();return M(p.default,{className:I.default.marginBottom20},void 0,M(p.default.Child,{basis:"50%"},void 0,M(E.default,{},void 0,M(m.FormTitle,{tag:m.FormTitleTags.H5},void 0,T.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),M(v.default,{className:I.default.marginBottom20,style:{marginTop:16},value:t,disabled:a,note:a?T.default.Messages.OVERLAY_DISABLED_OLD_CLIENT:null,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,T.default.Messages.ENABLE_INGAME_OVERLAY))),M(p.default.Child,{basis:"50%"},void 0,M(E.default,{title:T.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,M(u.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))};n.renderAvatarSize=function(){return M(p.default,{className:I.default.marginBottom20},void 0,M(p.default.Child,{},void 0,M(E.default,{title:T.default.Messages.FORM_LABEL_AVATAR_SIZE
},void 0,M(S.default,{options:[{name:T.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:O.OverlayAvatarSizes.LARGE},{name:T.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:O.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))};n.renderDisplayNames=function(){return M(p.default,{className:I.default.marginBottom20},void 0,M(p.default.Child,{},void 0,M(E.default,{title:T.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,M(S.default,{options:[{name:T.default.Messages.DISPLAY_OPTION_ALWAYS,value:O.OverlayDisplayNames.ALWAYS},{name:T.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:O.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:T.default.Messages.DISPLAY_OPTION_NEVER,value:O.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))};n.renderDisplayUsers=function(){return M(p.default,{className:I.default.marginBottom20},void 0,M(p.default.Child,{},void 0,M(E.default,{
title:T.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,M(S.default,{options:[{name:T.default.Messages.DISPLAY_OPTION_ALWAYS,value:O.OverlayDisplayUsers.ALWAYS},{name:T.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:O.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))};n.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==O.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===O.OverlayNotificationTextChatTypes.ENABLED;return M(p.default,{className:I.default.marginBottom20},void 0,M(p.default.Child,{},void 0,M(E.default,{},void 0,M(v.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,T.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))};n.renderNotificationPosition=function(){return M(p.default,{className:I.default.marginBottom20},void 0,M(p.default.Child,{},void 0,M(E.default,{
title:T.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,M("div",{className:h.default.notificationSettings},void 0,M(_.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))};n.render=function(){return M(r.Fragment,{},void 0,M(m.FormSection,{tag:m.FormTitleTags.H1,title:T.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),M(m.FormSection,{tag:m.FormTitleTags.H1,title:T.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:I.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))};return t}(r.PureComponent);R.displayName="UserSettingsOverlay";var D=o.default.connectStores([f.default,c.default,d.default],(function(){return{enabled:f.default.enabled,avatarSizeMode:c.default.getAvatarSizeMode(),displayNameMode:c.default.getDisplayNameMode(),
displayUserMode:c.default.getDisplayUserMode(),notificationPositionMode:c.default.getNotificationPositionMode(),textChatNotificationMode:c.default.getTextChatNotificationMode(),inputLockKeybind:d.default.getOverlayKeybind()}}))(R);t.default=D},325539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=ne;var a,r=Q(n(667294)),o=K(n(294184)),i=n(536211),l=K(n(636602)),u=Q(n(832635)),s=n(233271),d=n(264720),f=n(856259),c=n(421748),p=K(n(266603)),S=K(n(474258)),v=K(n(843675)),m=n(158384),E=K(n(404203)),_=n(95034),g=K(n(887609)),y=K(n(890535)),O=K(n(748826)),T=K(n(146771)),h=K(n(16941)),I=K(n(380439)),N=K(n(638707)),A=K(n(427370)),M=K(n(80828)),b=n(688388),C=K(n(394617)),P=K(n(782732)),R=K(n(634567)),D=K(n(878338)),L=K(n(340858)),U=K(n(545449)),w=K(n(526432)),k=K(n(830759)),B=K(n(289799)),F=K(n(971639)),G=K(n(776360)),j=K(n(308920)),H=n(71246),x=K(n(550270)),Y=n(770348),V=K(n(247001)),W=K(n(156661));function K(e){return e&&e.__esModule?e:{default:e}}
function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function Q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function $(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null
}}function Z(e){var t=e.guild;return $(h.default,{onClick:function(){(0,_.transitionToGuild)(t.id,{state:{shouldShowSubscribeTooltip:!0}});(0,d.popLayer)()},className:W.default.cardWrapper},void 0,$(A.default,{className:W.default.card},void 0,$(I.default,{guild:t,size:I.default.Sizes.LARGE,"aria-hidden":!0}),$("div",{className:W.default.guildInfo},void 0,$(G.default,{size:G.default.Sizes.SIZE_16,className:W.default.guildName},void 0,t.name),$("div",{className:W.default.subscriptionInfo},void 0,$(P.default,{className:W.default.guildBoostingIcon}),$(G.default,{className:W.default.subscriberCount},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:t.premiumSubscriberCount})))),$(N.default,{guildId:t.id,subscriberCount:t.premiumSubscriberCount})))}Z.displayName="GuildSubscriptionInfoCard";function q(){var e=(0,i.useStateFromStores)([g.default],(function(){return g.default.getFlattenedGuilds()
})).slice(0,Y.NUMBER_OF_GUILDS_TO_RECOMMEND_BOOSTING),t=(0,m.useSubscriptionPlansLoaded)();return r.createElement(r.Fragment,null,$("div",{className:W.default.divider}),$("div",{className:W.default.marketingLogo},void 0,$(R.default,{className:W.default.marketingLogoIcon,"aria-label":V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE,role:"heading"}),$("div",{className:W.default.marketingLogoImage})),$(F.default,{className:W.default.marketingHeader,size:F.default.Sizes.SIZE_20},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_HEADER),$(G.default,{size:G.default.Sizes.SIZE_16},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_BLURB),$(F.default,{className:W.default.featureHeaderTop,size:F.default.Sizes.SIZE_20,muted:!0},void 0,V.default.Messages.PREMIUM_GUILD_USER_FEATURES_HEADER),$(E.default,{features:[{description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_MEMBER_BADGE,icon:P.default,iconClass:W.default.memberBadgeIcon},{
description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_PROFILE_BADGE,overrideIcon:function(e){return $("div",{className:(0,o.default)(e,W.default.profileBadgeIcon)})}},{description:V.default.Messages.PREMIUM_GUILD_USER_FEATURE_ROLE,icon:L.default,iconClass:W.default.roleIcon}],columns:3}),$(F.default,{className:W.default.featureHeader,size:F.default.Sizes.SIZE_20,muted:!0},void 0,V.default.Messages.PREMIUM_GUILD_GUILD_FEATURES_HEADER),$(E.default,{features:[{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_EMOJI,icon:C.default,iconClass:W.default.emojiIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_STICKERS,icon:w.default,iconClass:W.default.stickerIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_AUDIO_QUALITY,icon:D.default,iconClass:W.default.audioQualityIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_UPLOAD_SIZE,icon:B.default,iconClass:W.default.uploadSizeIcon},{
description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_CUSTOMIZATION,icon:U.default,iconClass:W.default.customizationIcon},{description:V.default.Messages.PREMIUM_GUILD_GUILD_FEATURE_THREADS,icon:k.default,iconClass:W.default.threadIcon}].filter(H.isNotNullish),columns:3}),$(G.default,{className:W.default.guildFullFeatures,size:G.default.Sizes.SIZE_16},void 0,V.default.Messages.PREMIUM_GUILD_FULL_FEATURE_LIST.format({helpdeskArticle:x.default.getArticleURL(Y.HelpdeskArticles.GUILD_SUBSCRIPTIONS)})),$("section",{className:W.default.guildsSection},void 0,t?$(S.default,{className:W.default.guildSubscriptionHeading}):null,null==e||0===e.length?r.createElement(r.Fragment,null,$("div",{className:W.default.emptyGuilds}),$(G.default,{size:F.default.Sizes.SIZE_20,className:W.default.emptyGuildsTitle},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TITLE),$(G.default,{size:F.default.Sizes.SIZE_16,className:W.default.emptyGuildsText
},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_EMPTY_DESCRIPTION_TEXT)):r.createElement(r.Fragment,null,$(G.default,{size:F.default.Sizes.SIZE_16,className:W.default.guildsBlurb},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_MARKETING_GUILDS_BLURB),$("div",{className:W.default.guilds},void 0,e.map((function(e){return $(Z,{guild:e},e.id)}))))),$(p.default,{onOpenPremiumClick:function(){j.default.track(Y.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:{page:Y.AnalyticsPages.USER_SETTINGS,section:Y.AnalyticsSections.NITRO_CROSS_PROMO_FROM_BOOSTING,object:Y.AnalyticsObjects.BUTTON_CTA}})}}))}var X=$(M.default,{}),J=$(c.BlockedPaymentsWarning,{}),ee=$(v.default,{}),te=$(q,{});function ne(){r.useEffect((function(){l.default.wait((function(){u.fetchSubscriptions();u.fetchPaymentSources();(0,s.fetchGuildBoostSlots)();(0,f.fetchPremiumSubscriptionPlans)()}))}),[]);var e=(0,i.useStateFromStores)([T.default],(function(){return T.default.hasFetchedSubscriptions()
})),t=(0,m.useSubscriptionPlansLoaded)(),n=(0,i.useStateFromStores)([O.default],(function(){return O.default.hasFetchedPaymentSources})),a=(0,i.useStateFromStores)([y.default],(function(){return y.default.boostSlots}));return e&&t&&n?$("div",{className:W.default.container},void 0,$("div",{className:W.default.background}),$("div",{className:W.default.content},void 0,Object.keys(a).length>0?r.createElement(r.Fragment,null,$(b.FormTitle,{tag:b.FormTitle.Tags.H1},void 0,V.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_TITLE),J,ee):null,te)):$("div",{className:(0,o.default)(W.default.container,W.default.loading)},void 0,X)}ne.displayName="UserSettingsPremiumGuildSubscriptions"},313900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te
;var a,r=z(n(667294)),o=W(n(294184)),i=W(n(441143)),l=W(n(730381)),u=n(536211),s=W(n(190040)),d=n(642230),f=n(825185),c=W(n(929031)),p=W(n(226800)),S=n(160866),v=W(n(8549)),m=W(n(30098)),E=W(n(871778)),_=W(n(728429)),g=W(n(956117)),y=W(n(558402)),O=W(n(530250)),T=W(n(26172)),h=W(n(567668)),I=W(n(730977)),N=n(688388),A=W(n(588417)),M=W(n(874331)),b=W(n(956303)),C=z(n(37241)),P=z(n(662197)),R=W(n(502197)),D=n(194322),L=W(n(776360)),U=W(n(308920)),w=W(n(550270)),k=n(943112),B=n(374699),F=n(894826),G=n(770348),j=W(n(247001)),H=W(n(584397)),x=W(n(380203)),Y=["body"],V=["friendSourceFlags"];function W(e){return e&&e.__esModule?e:{default:e}}function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function Q(e,t){Q=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Q(e,t)}function $(){$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return $.apply(this,arguments)}function Z(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(e,t){if(null==e)return{}
;var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}function X(e){var t=e.body,n=q(e,Y);(0,D.openModal)((function(e){return r.createElement(R.default,$({},e,n),Z(L.default,{size:L.default.Sizes.SIZE_16},void 0,t))}))}function J(e){var t=e.message;X({header:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:j.default.Messages.OKAY,body:t})}var ee=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Q(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleChangeDefaultGuildsRestricted=function(e){n.setState({defaultGuildsRestricted:!e},(function(){return n.showGuildRestrictionModal(!e)}))};n.handleUsageStatisticsChange=function(){!n.props.usageStatistics?(0,d.setConsents)([G.Consents.USAGE_STATISTICS],[]).catch(J):X({header:j.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:j.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,
confirmText:j.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:j.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,d.setConsents)([],[G.Consents.USAGE_STATISTICS]).catch(J)}})};n.handlePersonalizationChange=function(){!n.props.personalization?(0,d.setConsents)([G.Consents.PERSONALIZATION],[]).catch(J):X({header:j.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:j.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:j.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,d.setConsents)([],[G.Consents.PERSONALIZATION]).catch(J)},body:j.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})};n.handleAccessibilityDetectionChange=function(){F.AllowAccessibilityDetection.updateSetting(!n.props.allowAccessibilityDetection)};n.handleDataDownloadRequest=function(){X({header:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,
body:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){n.setState({requestingHarvest:!0},(function(){(0,f.requestHarvest)().then((function(e){if(null!=e&&null!=e.body){n.setState({currentHarvestRequest:e.body});s.default.show({body:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})}else s.default.show({title:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}),(function(){return s.default.show({title:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})})).finally((function(){return n.setState({requestingHarvest:!1})}))}))}})};var a=t.defaultGuildsRestricted;n.state={defaultGuildsRestricted:a,
currentHarvestRequest:null,requestingHarvest:!0};return n}var n=t.prototype;n.componentDidMount=function(){var e=this;(0,d.fetchConsents)();(0,f.getHarvestStatus)().then((function(t){var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)}),(function(){e.setState({requestingHarvest:!1})}))};n.componentDidUpdate=function(e){e.defaultGuildsRestricted!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:this.props.defaultGuildsRestricted})};n.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(G.FriendSourceFlagKeys.ALL)||n(e)};n.onFieldChange=function(e,t){var n,a=this.props.friendSourceFlags;if(e===G.FriendSourceFlagKeys.ALL)if(t){var r;n=((r={})[G.FriendSourceFlagKeys.ALL]=!0,r[G.FriendSourceFlagKeys.FRIENDS]=!0,r[G.FriendSourceFlagKeys.GUILDS]=!0,r)}else{var o;n=((o={})[G.FriendSourceFlagKeys.ALL]=!1,o[G.FriendSourceFlagKeys.FRIENDS]=!0,o[G.FriendSourceFlagKeys.GUILDS]=!0,o)}else if(t){
var i,l=!1;if(e===G.FriendSourceFlagKeys.FRIENDS)l=!0===a[G.FriendSourceFlagKeys.GUILDS];else l=!0===a[G.FriendSourceFlagKeys.FRIENDS];n=$({},a,((i={})[G.FriendSourceFlagKeys.ALL]=l,i[e]=!0,i))}else{var u;n=$({},a,((u={})[G.FriendSourceFlagKeys.ALL]=!1,u[e]=!1,u))}this.updatePermittedFriendSourceFlags(n)};n.updatePermittedFriendSourceFlags=function(e){c.default.updateRemoteSettings({friendSourceFlags:e})};n.showGuildRestrictionModal=function(e){var t=this;X({header:j.default.Messages.USER_DM_SETTINGS_TITLE,body:j.default.Messages.USER_DM_SETTINGS_DESCRIPTION,confirmText:j.default.Messages.NO_TEXT,cancelText:j.default.Messages.YES_TEXT,confirmButtonColor:g.default.Colors.BRAND,onConfirm:function(){c.default.updateRemoteSettings({defaultGuildsRestricted:e});t.trackDefaulDmsUpdated(e,!1)},onCancel:function(){c.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(m.default.getGuilds()):[]});t.trackDefaulDmsUpdated(e,!0)}})}
;n.trackDefaulDmsUpdated=function(e,t){U.default.track(G.AnalyticEvents.GUILD_DEFAULT_DMS_UPDATED,{default_guilds_restricted:e,applied_to_existing_guilds:t})};n.renderFriendSettings=function(){var e=this;return Z(b.default,{title:j.default.Messages.FRIEND_PERMITTED_SOURCE,className:x.default.marginBottom40},void 0,Z(h.default,{className:(0,o.default)(x.default.marginTop8,x.default.marginBottom20),value:this.hasPermittedSourceFlag(G.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(G.FriendSourceFlagKeys.ALL,t)}},void 0,j.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),Z(h.default,{value:this.hasPermittedSourceFlag(G.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(G.FriendSourceFlagKeys.FRIENDS,t)}},void 0,j.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),Z(h.default,{className:x.default.marginReset,value:this.hasPermittedSourceFlag(G.FriendSourceFlagKeys.GUILDS),onChange:function(t){
return e.onFieldChange(G.FriendSourceFlagKeys.GUILDS,t)}},void 0,j.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))};n.renderDMSafety=function(){return Z(b.default,{className:x.default.marginBottom40},void 0,Z(N.FormItem,{tag:P.Tags.H5,className:x.default.marginBottom4,title:j.default.Messages.USER_EXPLICIT_CONTENT_FILTER},void 0,Z(C.default,{type:C.Types.DESCRIPTION,className:x.default.marginBottom8},void 0,j.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),Z(T.default,{value:this.props.explicitContentFilter,options:(0,k.generateDMSafetyOptions)(),onChange:function(e){var t=e.value;return F.ExplicitContentFilter.updateSetting(t)}})))};n.renderServerPrivacy=function(){var e=this.props,t=e.viewNsfwGuilds,n=e.showAgeRestrictedToggle;return Z(b.default,{className:x.default.marginBottom40},void 0,Z(P.default,{tag:P.Tags.H5,className:x.default.marginBottom8},void 0,j.default.Messages.USER_DM_SETTINGS),Z(h.default,{className:x.default.marginReset,
value:!this.state.defaultGuildsRestricted,note:j.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,j.default.Messages.NEW_GUILDS_DM_ALLOWED),n?Z(h.default,{className:x.default.marginReset,value:t,note:j.default.Messages.NSFW_GUILDS_TOGGLE_CAPTION,onChange:F.ViewNsfwGuilds.updateSetting},void 0,j.default.Messages.NSFW_GUILDS_TOGGLE_HEADER):null)};n.renderActivityPartyPrivacy=function(){var e=this.props,t=e.allowActivityPartyPrivacyFriends,n=e.allowActivityPartyPrivacyVoiceChannel;return Z(b.default,{className:x.default.marginBottom40},void 0,Z(P.default,{tag:P.Tags.H5,className:x.default.marginBottom8},void 0,j.default.Messages.ACTIVITY_PARTY_PRIVACY),Z(h.default,{value:t,note:j.default.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS_HELP,onChange:function(e){return F.AllowActivityPartyPrivacyFriends.updateSetting(e)}},void 0,j.default.Messages.ACTIVITY_PARTY_PRIVACY_FRIENDS),Z(h.default,{value:n,
note:j.default.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL_HELP,onChange:function(e){return F.AllowActivityPartyPrivacyVoiceChannel.updateSetting(e)}},void 0,j.default.Messages.ACTIVITY_PARTY_PRIVACY_VOICE_CHANNEL))};n.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization,a=e.allowAccessibilityDetection;return Z(b.default,{className:x.default.marginBottom40},void 0,Z(P.default,{tag:P.Tags.H5,className:x.default.marginBottom8},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS),Z(h.default,{value:t,note:j.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE.format({helpdeskArticle:w.default.getArticleURL(G.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handleUsageStatisticsChange},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),Z(h.default,{value:n,note:j.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:w.default.getArticleURL(G.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),
onChange:this.handlePersonalizationChange},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),Z(h.default,{value:a,note:j.default.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_NOTE.format({helpdeskArticle:w.default.getArticleURL(G.HelpdeskArticles.ACCESSIBILITY_TRACKING)}),onChange:this.handleAccessibilityDetectionChange},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS_ALLOW_ACCESSIBILITY_DETECTION_TITLE),Z(P.default,{tag:P.Tags.H3,className:(0,o.default)(x.default.marginTop20,x.default.marginBottom8)},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),Z(C.default,{type:C.Types.DESCRIPTION,className:x.default.marginBottom20},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){p.default.setSection(G.UserSettingsSections.ACCOUNT)}})),this.renderHarvestRequest())};n.renderHarvestRequest=function(){
var e,t=this,n=this.props.currentUser,a=this.state,o=a.requestingHarvest,i=a.currentHarvestRequest,u=(0,B.harvestDisabled)(i,n),s=Z(I.default,{text:n.verified?null:j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,(function(e){var n=e.onMouseEnter,a=e.onMouseLeave;return Z(g.default,{disabled:u,onClick:t.handleDataDownloadRequest,onMouseEnter:n,onMouseLeave:a,look:g.default.Looks.OUTLINED,color:g.default.Colors.BRAND,submitting:o},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD)}));if(u&&null!=i){e=Z(y.default,{className:H.default.card},void 0,Z(L.default,{size:L.default.Sizes.SIZE_16},void 0,j.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,l.default)(i.created_at).add(G.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")})));s=null}null!=s&&(s=Z(O.default,{},void 0,s));return Z(r.Fragment,{},void 0,Z(A.default,{className:x.default.marginBottom20}),Z(P.default,{tag:P.Tags.H3
},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),Z(C.default,{type:C.Types.DESCRIPTION,className:x.default.marginBottom20},void 0,j.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:w.default.getArticleURL(G.HelpdeskArticles.GDPR_REQUEST_DATA)})),e,s)};n.renderPrivacyAndTermsNote=function(){return Z(b.default,{className:x.default.marginBottom40},void 0,Z(M.default,{type:M.default.Types.PRIMARY,body:j.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:G.MarketingURLs.TERMS,privacyLink:G.MarketingURLs.PRIVACY})}))};n.render=function(){var e=this.props.fetchedConsents;return Z(b.default,{tag:P.Tags.H1,title:j.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),this.renderActivityPartyPrivacy(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote())};return t}(r.PureComponent);ee.displayName="UserSettingsPrivacySafety";function te(){
var e=S.AgeRestrictedGuildsExperiment.useExperiment({}),t=(0,u.useStateFromStores)([_.default],(function(){var e=_.default.getCurrentUser();(0,i.default)(null!=e,"ConnectedUserSettingsPrivacySafety: currentUser cannot be undefined");return e})),n=(0,u.useStateFromStoresObject)([E.default],(function(){return{defaultGuildsRestricted:E.default.defaultGuildsRestricted,friendSourceFlags:E.default.friendSourceFlags}})),a=n.friendSourceFlags,o=q(n,V),l=r.useMemo((function(){return(0,B.computeFlags)(a)}),[a]),s=(0,u.useStateFromStoresObject)([v.default],(function(){return{fetchedConsents:v.default.fetchedConsents,usageStatistics:v.default.hasConsented(G.Consents.USAGE_STATISTICS),personalization:v.default.hasConsented(G.Consents.PERSONALIZATION)}}));return r.createElement(ee,$({currentUser:t,showAgeRestrictedToggle:e.enabled,allowActivityPartyPrivacyFriends:F.AllowActivityPartyPrivacyFriends.useSetting(),
allowActivityPartyPrivacyVoiceChannel:F.AllowActivityPartyPrivacyVoiceChannel.useSetting(),friendSourceFlags:l,viewNsfwGuilds:F.ViewNsfwGuilds.useSetting(),allowAccessibilityDetection:F.AllowAccessibilityDetection.useSetting(),explicitContentFilter:F.ExplicitContentFilter.useSetting()},o,s))}te.displayName="ConnectedUserSettingsPrivacySafety"},394163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=_(n(294184)),i=_(n(536211)),l=_(n(105988)),u=_(n(226800)),s=_(n(663303)),d=_(n(871778)),f=_(n(567668)),c=n(688388),p=n(864489),S=n(770348),v=_(n(247001)),m=_(n(328451)),E=_(n(380203));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(){y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return y.apply(this,arguments)}function O(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,
props:t,_owner:null}}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var h=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var a=t.prototype;a.renderNotice=function(){return O(c.FormNotice,{className:E.default.marginBottom40,iconClassName:m.default.noticeIcon,type:c.FormNoticeTypes.PRIMARY,imageData:{src:n(566300),width:184,height:110,position:c.FormNoticeImagePositions.RIGHT},title:v.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:v.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:S.MarketingURLs.STREAMKIT})})};a.renderAutoToggle=function(){if(p.isPlatformEmbedded)return O(f.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:v.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,v.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)};a.render=function(){
return O(c.FormSection,{className:m.default.container,tag:c.FormTitleTags.H1,title:v.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),O(f.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:v.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,v.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),O(c.FormTitle,{className:(0,o.default)(E.default.marginTop40,E.default.marginBottom8)},void 0,v.default.Messages.OPTIONS),O(f.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:v.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,v.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),O(f.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:v.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION
},void 0,v.default.Messages.HIDE_INSTANT_INVITES_LABEL),O(f.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:v.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,v.default.Messages.DISABLE_SOUNDS_LABEL),O(f.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:v.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,v.default.Messages.DISABLE_NOTIFICATIONS_LABEL))};a.handleChange=function(e,t){var n;l.default.update(((n={})[e]=t,n))};a.handleGotoKeybinds=function(){u.default.setSection(S.UserSettingsSections.KEYBINDS)};return t}(r.PureComponent);h.displayName="UserSettingsModalStreamerMode";var I=i.default.connectStores([d.default,s.default],(function(){return y({},s.default.getSettings(),{theme:d.default.theme})}))(h);t.default=I},332798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=I;T(n(667294))
;var a,r=y(n(294184)),o=n(536211),i=n(849237),l=y(n(315050)),u=y(n(268389)),s=y(n(26172)),d=y(n(567668)),f=y(n(510596)),c=y(n(956303)),p=y(n(37241)),S=T(n(662197)),v=y(n(308920)),m=n(894826),E=n(770348),_=y(n(247001)),g=y(n(380203));function y(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){var e=(0,o.useStateFromStores)([l.default],(function(){return l.default.expressionSuggestionsEnabled})),t=m.UseRichChatTextBox.useSetting(),n=m.RenderSpoilers.useSetting(),a=m.UseThreadSidebar.useSetting(),y=m.ViewImageDescriptions.useSetting(),O=m.ConvertEmoticons.useSetting(),T=m.InlineAttachmentMedia.useSetting(),I=m.InlineEmbedMedia.useSetting(),N=m.RenderEmbeds.useSetting(),A=m.RenderReactions.useSetting();return h(c.default,{tag:S.Tags.H1,title:_.default.Messages.TEXT_AND_IMAGES},void 0,h(S.default,{className:g.default.marginBottom8},void 0,_.default.Messages.INLINE_MEDIA_LABEL),h(d.default,{className:(0,
r.default)(g.default.marginTop8,g.default.marginBottom20),value:I,onChange:m.InlineEmbedMedia.updateSetting},void 0,_.default.Messages.INLINE_EMBED_MEDIA),h(d.default,{className:(0,r.default)(g.default.marginTop8,g.default.marginBottom20),value:T,note:_.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:m.InlineAttachmentMedia.updateSetting},void 0,_.default.Messages.INLINE_ATTACHMENT_MEDIA),h(d.default,{className:(0,r.default)(g.default.marginTop8,g.default.marginBottom20),value:y,note:_.default.Messages.IMAGE_DESCRIPTION_HELP,onChange:m.ViewImageDescriptions.updateSetting},void 0,_.default.Messages.USER_SETTINGS_IMAGE_DESCRIPTIONS),h(S.default,{className:g.default.marginBottom8},void 0,_.default.Messages.RENDER_EMBEDS_LABEL),h(d.default,{className:(0,r.default)(g.default.marginTop8,g.default.marginBottom40),value:N,onChange:m.RenderEmbeds.updateSetting},void 0,_.default.Messages.RENDER_EMBEDS),h(S.default,{className:g.default.marginBottom8
},void 0,_.default.Messages.EMOJI),h(d.default,{className:(0,r.default)(g.default.marginTop8,g.default.marginBottom20),value:A,onChange:m.RenderReactions.updateSetting},void 0,_.default.Messages.RENDER_REACTIONS),h(d.default,{className:g.default.marginBottom40,value:O,note:u.default.parse(_.default.Messages.CONVERT_EMOTICONS_HELP),onChange:m.ConvertEmoticons.updateSetting},void 0,_.default.Messages.CONVERT_EMOTICONS),h(f.default,{className:g.default.marginBottom20,title:_.default.Messages.STICKERS_AUTO_PLAY_HEADING},void 0,h(d.default,{className:(0,r.default)(g.default.marginTop20,g.default.marginBottom20),value:e,note:_.default.Messages.AUTO_SUGGEST_STICKERS_DESCRIPTION,onChange:function(t){v.default.track(E.AnalyticEvents.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!e,location:{section:E.AnalyticsSections.SETTINGS_TEXT_AND_IMAGES}});(0,i.toggleExpressionSuggestionsEnabled)()}},void 0,_.default.Messages.AUTO_SUGGEST_STICKERS)),h(c.default,{className:g.default.marginBottom8
},void 0,h(S.default,{className:g.default.marginBottom8},void 0,_.default.Messages.FORM_LABEL_USE_RICH_CHAT_BOX),h(d.default,{className:g.default.marginTop8,value:t,onChange:function(e){v.default.track(E.AnalyticEvents.RICH_CHAT_TEXT_BOX_TOGGLED,{is_enabled:e});m.UseRichChatTextBox.updateSetting(e)}},void 0,_.default.Messages.USE_RICH_CHAT_BOX_DESCRIPTION)),h(c.default,{className:g.default.marginBottom40},void 0,h(S.default,{className:g.default.marginBottom8},void 0,_.default.Messages.THREADS),h(d.default,{className:g.default.marginTop8,value:a,onChange:m.UseThreadSidebar.updateSetting},void 0,_.default.Messages.USE_THREADS_SIDEBAR_DESCRIPTION)),h(f.default,{title:_.default.Messages.SHOW_SPOILER_CONTENT},void 0,h(p.default,{type:p.default.Types.DESCRIPTION,className:g.default.marginBottom8},void 0,_.default.Messages.SHOW_SPOILER_CONTENT_HELP),h(s.default,{options:[{name:_.default.Messages.SHOW_SPOILER_ON_CLICK,value:E.SpoilerRenderSetting.ON_CLICK},{
name:_.default.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:E.SpoilerRenderSetting.IF_MODERATOR},{name:_.default.Messages.SHOW_SPOILER_ALWAYS,value:E.SpoilerRenderSetting.ALWAYS}],onChange:function(e){return m.RenderSpoilers.updateSetting(e.value)},value:n})))}I.displayName="UserSettingsTextImages"},811030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=he
;var a,r=ie(n(667294)),o=re(n(294184)),i=re(n(496486)),l=ie(n(536211)),u=n(91817),s=re(n(740207)),d=ie(n(361983)),f=re(n(226800)),c=ie(n(712283)),p=re(n(372936)),S=re(n(88509)),v=n(646002),m=re(n(387316)),E=re(n(529600)),_=re(n(9056)),g=re(n(635014)),y=re(n(99462)),O=re(n(397228)),T=re(n(871778)),h=re(n(728429)),I=re(n(151097)),N=re(n(956117)),A=n(558402),M=re(n(530250)),b=re(n(26172)),C=re(n(118777)),P=re(n(565281)),R=re(n(567668)),D=n(354479),L=re(n(588417)),U=re(n(510596)),w=ie(n(874331)),k=re(n(956303)),B=re(n(37241)),F=ie(n(662197)),G=re(n(502197)),j=n(194322),H=n(967965),x=re(n(776360)),Y=re(n(308920)),V=re(n(165551)),W=re(n(550270)),K=n(758956),z=n(864489),Q=re(n(922629)),$=n(894826),Z=re(n(629598)),q=n(770348),X=n(376293),J=re(n(247001)),ee=re(n(819887)),te=re(n(3066)),ne=re(n(380203)),ae=re(n(73432));function re(e){return e&&e.__esModule?e:{default:e}}function oe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(oe=function(e){return e?n:t
})(e)}function ie(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=oe(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function le(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){le(o,a,r,i,l,"next",e)}function l(e){le(o,a,r,i,l,"throw",e)}i(void 0)}))}}function se(){se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return se.apply(this,arguments)}function de(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ce(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;pe(e,t)}function pe(e,t){pe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return pe(e,t)}var Se=(0,D.uid)(),ve=(0,D.uid)(),me=(0,D.uid)(),Ee=(0,D.uid)(),_e=(0,D.uid)(),ge=fe("div",{className:"grow"}),ye=function(e){ce(t,e);function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r]
;(t=e.call.apply(e,[this].concat(a))||this)._timeout=new u.Timeout;t.state={volume:-100,speaking:!1};t.setupVoiceActivity=function(){g.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity);t._timeout.stop()};t.handleVoiceActivity=function(e,n){t.setState({volume:e,speaking:(n&X.SpeakingFlags.VOICE)===X.SpeakingFlags.VOICE})};t.handleAutoThresholdChange=function(e){var n=t.props,a=n.onThresholdChange,r=n.threshold;null==a||a(r,e)};t.handleSensitivityChange=function(e){var n=t.props,a=n.onThresholdChange,r=n.auto;null==a||a(-1*(100-e),r)};return t}var n=t.prototype;n.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)};n.componentWillUnmount=function(){g.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity);this._timeout.stop()};n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"};n.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto
;if(g.default.supports(X.Features.AUTOMATIC_VAD))return fe(D.UID,{},void 0,(function(n){return fe("div",{className:(0,o.default)(te.default.horizontal,ne.default.marginBottom4)},void 0,fe(F.default,{tag:F.Tags.H3,className:ne.default.marginReset},void 0,fe("label",{htmlFor:n},void 0,J.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),fe(P.default,{id:n,checked:t,onChange:e.handleAutoThresholdChange}))}))};n.renderSlider=function(){var e=this.props,t=e.auto,n=e.threshold,a=this.state.speaking;if(t){var r;return fe("section",{className:ee.default.inputSensitivityToggle},void 0,fe("div",{className:ae.default.slider},void 0,fe("div",{className:(0,o.default)(ae.default.bar,ee.default.sliderBar,(r={},r[ee.default.speaking]=a||this.state.speaking,r))})),fe(B.default,{type:B.default.Types.DESCRIPTION,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_HELP_AUTOMATIC_VAD))}return fe("section",{className:(0,o.default)(ee.default.inputSensitivityToggle,ee.default.manual)
},void 0,fe(C.default,{initialValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:q.Colors.STATUS_GREEN_600},fillStyles:{background:q.Colors.STATUS_YELLOW_500},"aria-labelledby":Se},void 0,fe("div",{className:(0,o.default)(ee.default.sliderBar,ee.default.microphone,ae.default.bar)},void 0,fe("div",{className:(0,o.default)(ee.default.fill,ae.default.barFill),style:{width:this.state.volume+100+"%"}}),ge)))};n.renderInputDisabledWarning=function(){if(!g.default.isEnabled())return fe(B.default,{type:B.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.inputDisabledWarning,ne.default.marginBottom8)},void 0,J.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:s.default.enable}))};n.render=function(){return fe(U.default,{className:ee.default.sensitivity},void 0,fe(F.default,{id:Se,tag:F.Tags.H5,className:ne.default.marginBottom8
},void 0,J.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),fe("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())};return t}(r.PureComponent);ye.displayName="VoiceSensitivity";var Oe=l.default.connectStores([O.default],(function(){return{speaking:O.default.isCurrentUserSpeaking()}}))(ye),Te=function(e){ce(t,e);function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];(t=e.call.apply(e,[this].concat(o))||this).state={showCamera:!1,disableDebugUpload:!1};t.handleInputModeChange=function(e){var n=e.value;n===q.InputModes.PUSH_TO_TALK&&t.props.usePTTLimited&&(0,j.openModal)((function(e){return r.createElement(S.default,se({title:J.default.Messages.PTT_LIMITED_TITLE,confirmText:J.default.Messages.DOWNLOAD,cancelText:J.default.Messages.OKAY,onConfirm:t.handleDownload.bind(de(t),"PTT Limited Modal"),body:J.default.Messages.PTT_LIMITED_BODY},e))}));s.default.setMode(n)};t.handleDelayChange=function(e){
s.default.setMode(t.props.inputMode,{delay:e})};t.handleThresholdChange=function(e,n){s.default.setMode(t.props.inputMode,{threshold:e,autoThreshold:n})};t.handleAdvancedVoiceActivityChange=function(e){s.default.setMode(t.props.inputMode,{vadUseKrisp:e})};t.handleHardwareH264Change=function(e){s.default.setHardwareH264(e)};t.handleDebugLoggingChange=function(e){(0,j.openModal)((function(t){return r.createElement(G.default,se({header:J.default.Messages.SET_DEBUG_LOGGING,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onCancel:t.onClose,onConfirm:function(){return s.default.setDebugLogging(e)}},t),fe(x.default,{size:x.default.Sizes.SIZE_16},void 0,J.default.Messages.SET_DEBUG_LOGGING_BODY))}))};t.handleAecDumpChange=function(e){s.default.setAecDump(e)};t.handleAttenuationChange=function(e){s.default.setAttenuation(e,t.props.attenuateWhileSpeakingSelf,t.props.attenuateWhileSpeakingOthers)};t.handleAttenuateSelfChanged=function(e){
s.default.setAttenuation(t.props.attenuation,e,t.props.attenuateWhileSpeakingOthers)};t.handleAttenuateOthersChanged=function(e){var n=t.props,a=n.attenuation,r=n.attenuateWhileSpeakingSelf;s.default.setAttenuation(a,r,e)};t.handleShortcutChange=function(e){s.default.setMode(t.props.inputMode,{shortcut:e})};t.handleShowCamera=function(){t.setState({showCamera:!0})};t.handleShowVoiceModuleFolder=ue(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==m.default.fileManager.getModulePath){e.next=6;break}e.next=3;return m.default.fileManager.getModulePath();case 3:e.t0=e.sent;e.next=7;break;case 6:e.t0=m.default.fileManager.modulePath;case 7:t=e.t0;n=m.default.fileManager.join(t,"discord_voice");m.default.fileManager.showItemInFolder(n);case 10:case"end":return e.stop()}}),e)})));t.handleUploadDebugFiles=function(){t.setState({disableDebugUpload:!0})
;g.default.getMediaEngine().writeAudioDebugState().finally((function(){return V.default.submitLiveCrashReport({message:{message:"User Live Dump"}})})).finally((function(){return(0,v.uploadDebugFiles)().then((function(){return(0,j.openModal)((function(e){return r.createElement(G.default,se({header:J.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS_HEADER,confirmButtonColor:N.default.Colors.BRAND,confirmText:J.default.Messages.OKAY},e),fe(x.default,{size:x.default.Sizes.SIZE_16},void 0,J.default.Messages.UPLOAD_DEBUG_LOG_SUCCESS))}))})).catch((function(e){return(0,j.openModal)((function(t){return r.createElement(G.default,se({header:J.default.Messages.UPLOAD_DEBUG_LOG_FAILURE_HEADER,confirmButtonColor:N.default.Colors.BRAND,confirmText:J.default.Messages.OKAY},t),fe(x.default,{size:x.default.Sizes.SIZE_16},void 0,e.displayMessage))}))})).finally((function(){t.setState({disableDebugUpload:!1})}))}))};t.handleConnectionLogChange=function(e){d.setShouldRecordNextConnection(e)}
;t.handleOpenConnectionReplay=function(){d.openReplay()};t.handleOpenH264Change=function(e){s.default.setOpenH264(e);s.default.setHardwareH264(e)};t.handleEnableSoundshare=function(){s.default.enableSoundshare()};t.renderDeviceValue=function(e){return t.renderDevice(e[0])};t.renderDevice=function(e){var a,r=e.label,o=e.value;if(_.default.isCertified(o)){a=fe("img",{src:t.props.theme===q.ThemeTypes.LIGHT?n(956863):n(874638),alt:"Certified",className:ee.default.deviceOptionCertified})}return fe("span",{className:ee.default.deviceOption},o,fe("span",{className:ee.default.deviceOptionLabel},void 0,_.default.getCertifiedDeviceName(o,r)),a)};t.handleKrispLinkClick=function(e){var t=e.currentTarget;Y.default.track(q.AnalyticEvents.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{page:q.AnalyticsPages.USER_SETTINGS,section:q.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO}})};return t}var a=t.prototype;a.handleInputDeviceChange=function(e){s.default.setInputDevice(e,"Settings")}
;a.handleOutputDeviceChange=function(e){s.default.setOutputDevice(e,"Settings")};a.handleDownload=function(e){(0,j.openModal)((function(t){return r.createElement(E.default,se({source:e},t))}))};a.handleInputVolumeChange=function(e){s.default.setInputVolume((0,K.perceptualToAmplitude)(e))};a.handleOutputVolumeChange=function(e){s.default.setOutputVolume((0,K.perceptualToAmplitude)(e))};a.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"};a.handleVideoDeviceChange=function(e){s.default.setVideoDevice(e,q.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO)};a.handleNoiseSuppressionChange=function(e){s.default.setNoiseSuppression(e,{page:q.AnalyticsPages.USER_SETTINGS,section:q.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};a.handleNoiseCancellationChange=function(e){s.default.setNoiseCancellation(e,{page:q.AnalyticsPages.USER_SETTINGS,section:q.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};a.handleEchoCancellationChange=function(e){
s.default.setEchoCancellation(e,{page:q.AnalyticsPages.USER_SETTINGS,section:q.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};a.handleAutomaticGainControlChange=function(e){s.default.setAutomaticGainControl(e,{page:q.AnalyticsPages.USER_SETTINGS,section:q.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO})};a.handleExperimentalEncodersChange=function(e){s.default.setExperimentalEncoders(e)};a.handleSilenceWarningChange=function(e){s.default.setSilenceWarning(e)};a.handleVideoHookChange=function(e){s.default.setVideoHook(e)};a.handleExperimentalSoundshareChange=function(e){s.default.setExperimentalSoundshare(e)};a.handleQoSChanged=function(e){s.default.setQoS(e)};a.handleVoiceReset=function(){(0,j.openModal)((function(e){return r.createElement(G.default,se({header:J.default.Messages.RESET_VOICE_SETTINGS,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onConfirm:s.default.reset},e),fe(x.default,{size:x.default.Sizes.SIZE_16
},void 0,J.default.Messages.RESET_VOICE_SETTINGS_BODY))}))};a.handleAudioSubsystemChanged=function(e){(0,j.openModal)((function(t){return r.createElement(G.default,se({header:J.default.Messages.SWITCH_SUBSYSTEM,confirmText:J.default.Messages.OKAY,cancelText:J.default.Messages.CANCEL,onConfirm:function(){return s.default.setAudioSubsystem(e)}},t),fe(x.default,{size:x.default.Sizes.SIZE_16},void 0,J.default.Messages.SWITCH_SUBSYSTEM_BODY))}))};a.renderDevices=function(){var e,t,n=this.props,a=n.inputDevices,r=n.inputDeviceId,o=n.outputDeviceId,l=n.outputDevices,u=n.canSetInputDevice,s=n.canSetOutputDevice;u||(e=fe(B.default,{type:B.default.Types.DESCRIPTION,className:ne.default.marginTop8},void 0,J.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})));s||(t=fe(B.default,{type:B.default.Types.DESCRIPTION,className:ne.default.marginTop8},void 0,J.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({
onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var d=(0,i.default)(a).values().first(),f=null!=d?d.disabled:null!=e,c=(0,i.default)(l).values().first(),p=null!=c?c.disabled:null!=t;return fe(M.default,{className:ne.default.marginBottom20},void 0,fe(M.default.Child,{basis:"50%"},void 0,fe(F.default,{tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_INPUT_DEVICE),fe(H.SingleSelect,{value:r,onChange:this.handleInputDeviceChange,options:i.default.map(a,(function(e){return{value:e.id,label:e.name}})),isDisabled:f,renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),e),fe(M.default.Child,{basis:"50%"},void 0,fe(F.default,{tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_OUTPUT_DEVICE),fe(H.SingleSelect,{value:o,onChange:this.handleOutputDeviceChange,options:i.default.map(l,(function(e){return{value:e.id,label:e.name}})),isDisabled:p,
renderOptionValue:this.renderDeviceValue,renderOptionLabel:this.renderDevice}),t))};a.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return fe(M.default,{className:"volume"},void 0,fe(M.default.Child,{basis:"50%"},void 0,fe(F.default,{id:ve,tag:F.Tags.H5,className:ne.default.marginBottom4},void 0,J.default.Messages.FORM_LABEL_INPUT_VOLUME),fe(C.default,{initialValue:(0,K.amplitudeToPerceptual)(t),asValueChanges:this.handleInputVolumeChange,"aria-labelledby":ve})),fe(M.default.Child,{basis:"50%"},void 0,fe(F.default,{id:me,tag:F.Tags.H5,className:ne.default.marginBottom4},void 0,J.default.Messages.FORM_LABEL_OUTPUT_VOLUME),fe(C.default,{initialValue:(0,K.amplitudeToPerceptual)(n),maxValue:200,onValueRender:function(e){return e.toFixed(0)+"%"},asValueChanges:this.handleOutputVolumeChange,"aria-labelledby":me})))};a.renderMicTest=function(){return g.default.supports(X.Features.LOOPBACK)?fe("div",{className:ee.default.micTest},void 0,fe(c.default,{
title:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE,description:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION,notchBackground:c.NotchBackground.GRAY,captionVoice:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION,captionNoVoice:r.createElement(r.Fragment,null,J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,fe(I.default,{className:ee.default.micTestHelpLink,href:W.default.getArticleURL(q.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,J.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT)),buttonTest:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE,buttonStop:J.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE,buttonClassName:ee.default.micTestButton,buttonColor:N.default.Colors.BRAND,location:{page:q.AnalyticsPages.USER_SETTINGS,section:q.AnalyticsSections.SETTINGS_VOICE_AND_VIDEO}})):null};a.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,a=[{value:q.InputModes.VOICE_ACTIVITY,
name:J.default.Messages.INPUT_MODE_VAD},{value:q.InputModes.PUSH_TO_TALK,name:t?J.default.Messages.INPUT_MODE_PTT_LIMITED:J.default.Messages.INPUT_MODE_PTT}];return fe(U.default,{title:J.default.Messages.FORM_LABEL_INPUT_MODE,className:ne.default.marginBottom20},void 0,fe(b.default,{onChange:this.handleInputModeChange,options:a,value:n}))};a.renderPTTTools=function(){var e,t=this.props,n=t.inputMode,a=t.delay,r=t.shortcut;if(n!==q.InputModes.PUSH_TO_TALK)return null;e=z.isPlatformEmbedded||n!==q.InputModes.PUSH_TO_TALK?fe(B.default,{type:B.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.pttToolsMessage,ne.default.marginBottom8)},void 0,J.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return f.default.setSection(q.UserSettingsSections.KEYBINDS)}})):fe(B.default,{type:B.default.Types.DESCRIPTION,className:(0,o.default)(ee.default.pttToolsMessage,ee.default.pttToolsWarning,ne.default.marginBottom8)
},void 0,J.default.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")}));return fe("div",{className:ee.default.pttTools},void 0,fe(M.default,{},void 0,fe(M.default.Child,{basis:"50%"},void 0,fe(U.default,{title:J.default.Messages.FORM_LABEL_SHORTCUT},void 0,fe(p.default,{defaultValue:r,onChange:this.handleShortcutChange}))),fe(M.default.Child,{basis:"50%"},void 0,fe(U.default,{},void 0,fe(F.default,{id:Ee,tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY),fe(C.default,{initialValue:a,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:q.MAX_PTT_RELEASE_DELAY,"aria-labelledby":Ee})))),e)};a.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,a=e.vadAutoThreshold;return t!==q.InputModes.VOICE_ACTIVITY?null:fe(Oe,{inputMode:t,threshold:n,auto:a,onThresholdChange:this.handleThresholdChange})}
;a.renderVideoWarnings=function(){return fe(w.default,{type:A.Types.PRIMARY,title:J.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:J.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:fe(N.default,{size:N.default.Sizes.SMALL,className:ne.default.marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,J.default.Messages.DOWNLOAD_APP)})};a.renderNoiseCancellation=function(){var e=this.props,t=e.theme,a=e.noiseCancellation;if(e.noiseCancellationSupported){var r;r=t===q.ThemeTypes.LIGHT?n(235920):n(200824);return fe(k.default,{className:ne.default.marginBottom20},void 0,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:a,hideBorder:!0,onChange:this.handleNoiseCancellationChange,note:J.default.Messages.USER_SETTINGS_NOISE_CANCELLATION_DESCRIPTION},void 0,J.default.Messages.USER_SETTINGS_NOISE_CANCELLATION),fe(w.default,{className:ne.default.marginBottom20,type:w.Types.PRIMARY,imageData:{src:r,width:70,
height:40},align:M.default.Align.CENTER,body:fe(I.default,{href:W.default.getArticleURL(q.HelpdeskArticles.NOISE_SUPPRESSION),onClick:this.handleKrispLinkClick},void 0,J.default.Messages.LEARN_MORE)}))}};a.renderCodec=function(){var e;e=this.props.theme===q.ThemeTypes.LIGHT?n(396448):n(680664);return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE},void 0,fe(w.default,{className:ne.default.marginBottom20,type:w.Types.PRIMARY,imageData:{src:e,width:70,height:40},align:M.default.Align.CENTER,body:J.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION}))};a.renderVideoCodec=function(){if(!g.default.supports(X.Features.OPEN_H264))return null;var e,t=this.props,n=t.openH264,a=t.experimentalEncoders,r=t.hardwareH264;"stable"!==Q.default.releaseChannel&&g.default.isExperimentalEncodersSupported()&&(e=fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:a,
onChange:this.handleExperimentalEncodersChange,disabled:!1},void 0,J.default.Messages.EXPERIMENTAL_ENCODERS));return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.USER_SETTINGS_VOICE_VIDEO_CODEC_TITLE},void 0,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:n,onChange:this.handleOpenH264Change,disabled:!1,note:J.default.Messages.FORM_HELP_OPEN_H264},void 0,J.default.Messages.USER_SETTINGS_VOICE_OPEN_H264),fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:r,onChange:this.handleHardwareH264Change,disabled:!n,note:J.default.Messages.FORM_HELP_HARDWARE_H264},void 0,J.default.Messages.USER_SETTINGS_VOICE_HARDWARE_H264),e)};a.renderVoiceProcessing=function(){if(!g.default.supports(X.Features.VOICE_PROCESSING))return null
;var e,t,n=this.props,a=n.noiseSuppression,r=n.echoCancellation,i=n.automaticGainControl,l=n.inputDeviceId,u=n.noiseCancellation,s=n.vadUseKrisp,d=n.inputMode,f=n.vadAutoThreshold,c=n.advancedVoiceActivitySupported,p=_.default.hasEchoCancellation(l),S=_.default.hasNoiseSuppression(l),v=_.default.hasAutomaticGainControl(l);(p||p||v)&&(e=fe(B.default,{className:ne.default.marginBottom20,type:B.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING));if(c){var m=d===q.InputModes.VOICE_ACTIVITY&&f;t=fe(R.default,{value:s,onChange:this.handleAdvancedVoiceActivityChange,note:J.default.Messages.USER_SETTINGS_DISABLE_ADVANCED_VOICE_ACTIVITY,disabled:!m},void 0,J.default.Messages.ADVANCED_VOICE_ACTIVITY)}return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,e,fe(R.default,{className:(0,o.default)(ne.default.marginTop8,ne.default.marginBottom20),value:r,onChange:this.handleEchoCancellationChange,
disabled:p},void 0,J.default.Messages.ECHO_CANCELLATION),fe(R.default,{value:a,onChange:this.handleNoiseSuppressionChange,note:u&&J.default.Messages.USER_SETTINGS_DISABLE_NOISE_SUPPRESSION,disabled:S||u},void 0,J.default.Messages.NOISE_SUPPRESSION),t,fe(R.default,{className:"",value:i,onChange:this.handleAutomaticGainControlChange,disabled:v},void 0,J.default.Messages.AUTOMATIC_GAIN_CONTROL))};a.renderQoS=function(){if(!g.default.supports(X.Features.QOS))return null;var e=this.props.qosEnabled;return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_QOS},void 0,fe(R.default,{className:"",value:e,onChange:this.handleQoSChanged,note:J.default.Messages.FORM_HELP_QOS},void 0,J.default.Messages.FORM_CHECKBOX_QOS))};a.renderAttenutation=function(){if(!g.default.supports(X.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,a=e.attenuateWhileSpeakingOthers;return fe(k.default,{className:ne.default.marginBottom20
},void 0,fe(F.default,{id:_e,tag:F.Tags.H5,className:ne.default.marginBottom8},void 0,J.default.Messages.FORM_LABEL_ATTENUATION),fe(C.default,{initialValue:t,onValueChange:this.handleAttenuationChange,"aria-labelledby":_e}),fe(B.default,{className:ne.default.marginBottom20,type:B.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_ATTENUATION),fe(L.default,{className:ne.default.marginBottom20}),fe(R.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,J.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),fe(R.default,{className:"",value:a,onChange:this.handleAttenuateOthersChanged},void 0,J.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))};a.renderAudioSubsystem=function(){if(!g.default.supports(X.Features.LEGACY_AUDIO_SUBSYSTEM)&&!g.default.supports(X.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:X.AudioSubsystems.STANDARD,label:"Standard"}];g.default.supports(X.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:X.AudioSubsystems.LEGACY,
label:"Legacy"});g.default.supports(X.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:X.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props.audioSubsystem;return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_SUBSYSTEM},void 0,fe(H.SingleSelect,{className:ne.default.marginBottom20,value:t,options:e,onChange:this.handleAudioSubsystemChanged}),fe(L.default,{className:ne.default.marginBottom20}))};a.renderScreenshare=function(){if(!z.isPlatformEmbedded)return null;var e,t,n,a=this.props,r=a.videoHook,o=a.experimentalSoundshare,i=a.soundshareEnabled;g.default.supports(X.Features.VIDEO_HOOK)&&(e=fe(R.default,{value:r,onChange:this.handleVideoHookChange},void 0,J.default.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL));g.default.supportsExperimentalSoundshare()&&(t=fe(R.default,{value:o,onChange:this.handleExperimentalSoundshareChange},void 0,J.default.Messages.USER_SETTINGS_VOICE_EXPERIMENTAL_SOUNDSHARE_LABEL))
;if(g.default.supportsEnableSoundshare()){var l=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_NOT_ENABLED_LABEL;i===q.SoundshareEnableState.ENABLING?l=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLING_LABEL:i===q.SoundshareEnableState.ENABLED?l=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_ENABLED_LABEL:i===q.SoundshareEnableState.FAILED_TO_ENABLE&&(l=J.default.Messages.USER_SETTINGS_VOICE_SOUNDSHARE_FAILED_TO_ENABLE_LABEL);n=fe(U.default,{},void 0,fe(B.default,{className:ne.default.marginBottom20},void 0,l.format({helpdeskArticle:W.default.getArticleURL(q.HelpdeskArticles.OSX_SOUNDSHARE)})),fe(M.default,{},void 0,fe(M.default.Child,{grow:0,shrink:0},void 0,fe(N.default,{className:ne.default.marginBottom20,size:N.default.Sizes.SMALL,onClick:this.handleEnableSoundshare,disabled:i!==q.SoundshareEnableState.NOT_ENABLED},void 0,J.default.Messages.USER_SETTINGS_VOICE_INSTALL_LABEL))),fe(L.default,{className:ne.default.marginBottom20}))}
return null==e&&null==t&&null==n?null:fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_SCREENSHARE},void 0,e,t,n)};a.renderDiagnostics=function(){if(!z.isPlatformEmbedded)return null;var e=this.props.silenceWarning;return fe(k.default,{className:ne.default.marginBottom20,title:J.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,fe(R.default,{className:"",value:e,onChange:this.handleSilenceWarningChange},void 0,J.default.Messages.DISPLAY_SILENCE_WARNING))};a.renderDebugLogs=function(){if(z.isPlatformEmbedded&&g.default.supports(X.Features.DEBUG_LOGGING)&&null!=m.default.fileManager.readLogFiles){var e=this.props,t=e.debugLogging,n=e.aecDumpSupported,a=e.aecDumpEnabled,o=e.shouldRecordNextConnection,i=e.isStaff,l=this.state.disableDebugUpload,u=r.createElement(r.Fragment,null,fe(R.default,{hideBorder:!0,value:t,onChange:this.handleDebugLoggingChange,note:J.default.Messages.FORM_HELP_DEBUG_LOGGING
},void 0,J.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING)),s=n?r.createElement(r.Fragment,null,fe(R.default,{value:a,onChange:this.handleAecDumpChange,note:J.default.Messages.FORM_HELP_AEC_DUMP},void 0,J.default.Messages.FORM_CHECKBOX_AEC_DUMP)):null,d=("canary"===Q.default.releaseChannel||"development"===Q.default.releaseChannel)&&i&&g.default.supports(X.Features.CONNECTION_REPLAY)?r.createElement(r.Fragment,null,fe(R.default,{hideBorder:!0,value:o,onChange:this.handleConnectionLogChange,note:J.default.Messages.FORM_HELP_CONNECTION_LOG},void 0,J.default.Messages.FORM_CHECKBOX_CONNECTION_LOG),fe(U.default,{},void 0,fe(M.default,{className:ne.default.marginBottom20},void 0,fe(M.default.Child,{grow:0,shrink:0},void 0,fe(N.default,{size:N.default.Sizes.SMALL,onClick:this.handleOpenConnectionReplay},void 0,J.default.Messages.OPEN_CONNECTION_REPLAY))))):null;return fe(k.default,{className:ne.default.marginBottom40,title:J.default.Messages.FORM_LABEL_DEBUG
},void 0,s,d,u,fe(U.default,{},void 0,fe(M.default,{},void 0,fe(M.default.Child,{grow:0,shrink:0},void 0,fe(N.default,{disabled:l,size:N.default.Sizes.SMALL,onClick:this.handleUploadDebugFiles},void 0,J.default.Messages.UPLOAD)),fe(M.default.Child,{grow:0,shrink:0},void 0,fe(N.default,{size:N.default.Sizes.SMALL,onClick:this.handleShowVoiceModuleFolder},void 0,J.default.Messages.SHOW_FOLDER)))))}};a.renderResetVoiceSettings=function(){return fe(U.default,{},void 0,fe(N.default,{look:N.default.Looks.OUTLINED,color:N.default.Colors.RED,onClick:this.handleVoiceReset,size:N.default.Sizes.SMALL},void 0,J.default.Messages.RESET_VOICE_SETTINGS))};a.renderVideoSettings=function(){return fe("div",{},void 0,fe(F.default,{tag:F.Tags.H1,className:ne.default.marginBottom20},void 0,J.default.Messages.VIDEO_SETTINGS),g.default.supports(X.Features.VIDEO)?fe(Z.default,{previewEnabled:this.state.showCamera,onEnablePreview:this.handleShowCamera}):this.renderVideoWarnings(),fe(L.default,{className:(0,
o.default)(ne.default.marginBottom40,ne.default.marginTop40)}))};a.render=function(){var e=W.default.getArticleURL(q.HelpdeskArticles.VOICE_VIDEO_TROUBLESHOOTING)+"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-voice-video&utm_content=--t%3Apm";return fe(k.default,{className:ee.default.userSettingsVoice,tag:F.Tags.H1,title:J.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),fe(B.default,{className:ne.default.marginBottom20,type:B.default.Types.DESCRIPTION},void 0,J.default.Messages.FORM_HELP_VOICE_VIDEO_TROUBLESHOOTING_GUIDE.format({guideURL:e})),fe(L.default,{className:(0,o.default)(ne.default.marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),fe(L.default,{className:ne.default.marginBottom40}),this.renderVideoSettings(),fe(F.default,{tag:F.Tags.H1,className:ne.default.marginBottom20
},void 0,J.default.Messages.SETTINGS_ADVANCED),this.renderNoiseCancellation(),this.renderCodec(),this.renderVideoCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderScreenshare(),this.renderDiagnostics(),this.renderDebugLogs(),this.renderResetVoiceSettings())};return t}(r.PureComponent);Te.displayName="UserSettingsVoice";function he(){var e=(0,l.useStateFromStores)([T.default],(function(){return T.default.theme})),t=(0,l.useStateFromStores)([g.default],(function(){return g.default.supports(X.Features.AUDIO_INPUT_DEVICE)})),n=(0,l.useStateFromStores)([g.default],(function(){return g.default.supports(X.Features.AUDIO_OUTPUT_DEVICE)})),a=(0,l.useStateFromStores)([g.default],(function(){return g.default.getInputVolume()})),r=(0,l.useStateFromStores)([g.default],(function(){return g.default.getOutputVolume()})),o=(0,l.useStateFromStores)([g.default],(function(){return g.default.getInputDeviceId()})),i=(0,
l.useStateFromStores)([g.default],(function(){return g.default.getInputDevices()})),u=(0,l.useStateFromStores)([g.default],(function(){return g.default.getOutputDevices()})),s=(0,l.useStateFromStores)([g.default],(function(){return g.default.getOutputDeviceId()})),d=(0,l.useStateFromStores)([g.default],(function(){return g.default.getVideoDevices()})),f=(0,l.useStateFromStores)([g.default],(function(){return g.default.getVideoDeviceId()})),c=(0,l.useStateFromStores)([g.default],(function(){return g.default.getEchoCancellation()})),p=(0,l.useStateFromStores)([g.default],(function(){return g.default.getLoopback()})),S=(0,l.useStateFromStores)([g.default],(function(){return g.default.getNoiseSuppression()})),v=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAutomaticGainControl()})),m=(0,l.useStateFromStores)([g.default],(function(){return g.default.getNoiseCancellation()})),E=(0,l.useStateFromStores)([g.default],(function(){
return g.default.isNoiseCancellationSupported()})),O=(0,l.useStateFromStores)([g.default],(function(){return g.default.isAdvancedVoiceActivitySupported()})),I=(0,l.useStateFromStores)([g.default],(function(){return g.default.getMode()})),N=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().shortcut})),A=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().threshold})),M=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().autoThreshold})),b=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().vadUseKrisp})),C=(0,l.useStateFromStores)([g.default],(function(){return g.default.getModeOptions().delay})),P=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAttenuation()})),R=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAttenuateWhileSpeakingSelf()})),D=(0,l.useStateFromStores)([g.default],(function(){
return g.default.getAttenuateWhileSpeakingOthers()})),L=(0,l.useStateFromStores)([g.default],(function(){return g.default.getEnableSilenceWarning()})),U=(0,l.useStateFromStores)([g.default],(function(){return g.default.getDebugLogging()})),w=(0,l.useStateFromStores)([g.default],(function(){return g.default.getQoS()})),k=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAudioSubsystem()})),B=(0,l.useStateFromStores)([_.default],(function(){return _.default.getRevision()})),F=(0,l.useStateFromStores)([g.default],(function(){return g.default.getVideoHook()})),G=(0,l.useStateFromStores)([g.default],(function(){return g.default.getExperimentalSoundshare()})),j=(0,l.useStateFromStores)([g.default],(function(){return g.default.getOpenH264()})),H=(0,l.useStateFromStores)([g.default],(function(){return g.default.getExperimentalEncoders()})),x=(0,l.useStateFromStores)([g.default],(function(){return g.default.getHardwareH264()})),Y=(0,
l.useStateFromStores)([g.default],(function(){return g.default.isAecDumpSupported()})),V=(0,l.useStateFromStores)([g.default],(function(){return g.default.getAecDump()})),W=(0,l.useStateFromStores)([y.default],(function(){return y.default.shouldRecordNextConnection()})),K=(0,l.useStateFromStores)([h.default],(function(){var e;return!!(null===(e=h.default.getCurrentUser())||void 0===e?void 0:e.isStaff())})),Q=(0,l.useStateFromStores)([g.default],(function(){return g.default.getSoundshareEnabled()})),Z=$.AlwaysPreviewVideo.useSetting();return fe(Te,{theme:e,canSetInputDevice:t,canSetOutputDevice:n,inputVolume:a,outputVolume:r,inputDeviceId:o,inputDevices:i,outputDevices:u,outputDeviceId:s,videoDevices:d,videoDeviceId:f,echoCancellation:c,loopback:p,noiseSuppression:S,automaticGainControl:v,noiseCancellation:m,noiseCancellationSupported:E,advancedVoiceActivitySupported:O,inputMode:I,shortcut:N,vadThreshold:A,vadAutoThreshold:M,vadUseKrisp:b,delay:C,usePTTLimited:!z.isPlatformEmbedded,
attenuation:P,attenuateWhileSpeakingSelf:R,attenuateWhileSpeakingOthers:D,silenceWarning:L,debugLogging:U,qosEnabled:w,audioSubsystem:k,certifiedDeviceRevision:B,videoHook:F,experimentalSoundshare:G,openH264:j,experimentalEncoders:H,hardwareH264:x,aecDumpSupported:Y,aecDumpEnabled:V,shouldRecordNextConnection:W,isStaff:K,soundshareEnabled:Q,alwaysPreviewVideo:Z})}he.displayName="UserSettingsVoiceWrapper"},541247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=v(n(667294)),o=p(n(294184)),i=p(n(567668)),l=p(n(956303)),u=v(n(662197)),s=n(864489),d=p(n(922629)),f=p(n(247001)),c=p(n(380203));function p(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype)
;e.prototype.constructor=e;_(e,t)}(t,e);function t(t){var n;(n=e.call(this,t)||this).handleToggleOpenOnStartup=function(){var e=!n.state.openOnStartup;n.setState({openOnStartup:e});d.default.send("TOGGLE_OPEN_ON_STARTUP",e)};n.handleToggleStartMinimized=function(){var e=!n.state.startMinimized;n.setState({startMinimized:e});d.default.send("TOGGLE_START_MINIMIZED",e)};n.handleToggleMinimizeToTray=function(){var e=!n.state.minimizeToTray;n.setState({minimizeToTray:e});d.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};n.state={openOnStartup:!0,startMinimized:!1,minimizeToTray:!0};return n}var n=t.prototype;n.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this;e.next=3;return d.default.getSetting("OPEN_ON_STARTUP",!0);case 3:e.t1=e.sent;e.next=6;return d.default.getSetting("START_MINIMIZED",!1);case 6:e.t2=e.sent;e.next=9;return d.default.getSetting("MINIMIZE_TO_TRAY",!0);case 9:
e.t3=e.sent;e.t4={openOnStartup:e.t1,startMinimized:e.t2,minimizeToTray:e.t3};e.t0.setState.call(e.t0,e.t4);case 12:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){E(o,a,r,i,l,"next",e)}function l(e){E(o,a,r,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();n.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,a=e.minimizeToTray,r=(0,s.isLinux)()?f.default.Messages.USER_SETTINGS_LINUX_SETTINGS:f.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return m(l.default,{tag:u.Tags.H1,title:r},void 0,m(u.default,{},void 0,f.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),m(i.default,{className:c.default.marginBottom20,value:t,note:f.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,f.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),(0,s.isWindows)()?m(i.default,{disabled:!t,className:(0,
o.default)(c.default.marginTop8,c.default.marginBottom20),value:!!t&&n,note:f.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,f.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,m(u.default,{className:(0,o.default)(c.default.marginTop20,c.default.marginBottom8)},void 0,f.default.Messages.USER_SETTINGS_CLOSE_BUTTON),m(i.default,{className:c.default.marginBottom20,value:a,note:f.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,f.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))};return t}(r.PureComponent);g.displayName="UserSettingsWindows";var y=g;t.default=y},629598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=C;var a,r=O(n(667294)),o=n(536211),i=g(n(636602)),l=n(556470),u=n(659022),s=n(144594),d=n(700192),f=O(n(393198)),c=g(n(635014)),p=g(n(728429)),S=g(n(956117)),v=g(n(730977)),m=n(770348),E=g(n(247001)),_=g(n(471749))
;function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return T.apply(this,arguments)}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={
children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var A=387,M=218,b=h(f.FilterLoadingIndicator,{});function C(e){var t=e.previewEnabled,n=e.onEnablePreview,a=c.default.getCameraComponent(),g=I(r.useState((0,u.getLastUsedVideoBackgroundOption)(p.default.getCurrentUser())),2),y=g[0],O=g[1],N=r.useRef(!1),C=r.useRef(y),P=(0,l.useAnalyticsContext)(),R=(0,o.useStateFromStores)([c.default],(function(){return Object.values(c.default.getVideoDevices()).length>0}));r.useEffect((function(){return function(){N.current&&i.default.wait((function(){return(0,s.saveLastUsedBackgroundOption)(C.current)}))}}),[]);return h(f.default,{selectedBackgroundOption:y,onSelectBackgroundOption:function(e){N.current=!0;C.current=e;O(e);(0,d.applyBackgroundOptionLive)(e,{location:P.location
}).catch(m.NOOP)},renderCamera:function(e){return t?h("div",{className:_.default.cameraWrapper},void 0,h("div",{className:_.default.camera},void 0,h(a,{deviceId:e,width:A,height:M,disabled:!t}),b)):h("div",{className:_.default.cameraWrapper},void 0,h("div",{className:_.default.previewImage}),h(v.default,{text:R?null:E.default.Messages.CAMERA_UNAVAILABLE},void 0,(function(e){return r.createElement(S.default,T({},e,{onClick:n,disabled:!R}),E.default.Messages.TEST_VIDEO)})))}})}C.displayName="VideoSettingsCamera"},547342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=h;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(413577),l=E(n(956704)),u=E(n(16941)),s=E(n(665759)),d=n(688388),f=E(n(971639)),c=n(967965),p=E(n(776360)),S=E(n(571028)),v=n(109061),m=E(n(957372));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e){var t,n,a=y(r.useState(null!=e.descriptor),2),o=a[0],l=a[1],s=r.useCallback((function(){
l((function(e){return!e}))}),[]),f=(t=e.experiment.description,Array.isArray(t)?t:[t]),E=(0,v.getExperimentDateFromId)(e.experimentId);return g("div",{className:m.default.group},void 0,g(d.FormSection,{},void 0,g(u.default,{onClick:s},void 0,g(d.FormTitle,{tag:d.FormTitleTags.H3,className:m.default.title},void 0,g("div",{},void 0,g("span",{},void 0,e.experiment.title),g(p.default,{color:p.default.Colors.MUTED},void 0,e.experimentId)),g("span",{className:m.default.experimentDate},void 0,E))),o?g("div",{},void 0,g(d.FormItem,{title:"Bucket Override"},void 0,g(c.SingleSelect,{value:null!=e.descriptor?e.descriptor.bucket:null,clearable:null!=e.descriptor,options:(n=e.experiment.buckets,n.map((function(e){return{label:S.default.getExperimentBucketName(e),value:e}}))),onChange:function(t){(0,i.overrideBucket)(e.experimentId,t)}})),g("div",{className:m.default.description},void 0,f.map((function(e,t){return g(d.FormText,{type:d.FormTextTypes.DESCRIPTION},t,e," ")})))):null),g(d.FormDivider,{
className:m.default.divider}))}T.displayName="ExperimentGroup";function h(){var e=(0,o.useStateFromStoresObject)([l.default],(function(){return{experiments:l.default.getRegisteredExperiments(),overrides:l.default.getExperimentOverrides()}})),t=e.experiments,n=e.overrides,a=y(r.useState(""),2),i=a[0],u=a[1],c=(0,v.getBestMatches)((0,v.sortEntries)((0,v.getEntries)(t)),i);return g(d.FormSection,{tag:d.FormTitleTags.H1,title:"Experiments"},void 0,g(s.default,{size:s.default.Sizes.LARGE,query:i,onChange:u,onClear:function(){return u("")}}),c.length>0?c.map((function(e){return g(T,{experiment:e.experiment,experimentId:e.id,descriptor:n[e.id]},e.id)})):g("div",{className:m.default.emptyState},void 0,g(f.default,{size:f.default.Sizes.SIZE_16},void 0,"No Experiments Found")))}h.displayName="UserSettingsExperiments"},174128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=c;d(n(667294));var a,r=d(n(956117)),o=n(688388),i=u(n(247001)),l=u(n(983200))
;function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,
key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.className,n=e.currentUser,a=e.handleDisableAccount,u=e.handleDeleteAccount,s=n.isClaimed();return f(o.FormSection,{className:t,title:i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_SECTION},void 0,f(o.FormText,{className:l.default.description,type:o.FormText.Types.DESCRIPTION},void 0,s?i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION:i.default.Messages.USER_SETTINGS_ACCOUNT_REMOVAL_DESCRIPTION_UNCLAIMED),f("div",{className:l.default.buttonContainer},void 0,s?f(r.default,{className:l.default.disableButton,look:r.ButtonLooks.FILLED,color:r.ButtonColors.RED,size:r.ButtonSizes.SMALL,onClick:a},void 0,i.default.Messages.DISABLE_ACCOUNT):null,f(r.default,{look:r.ButtonLooks.OUTLINED,color:r.ButtonColors.RED,size:r.ButtonSizes.SMALL,onClick:u},void 0,i.default.Messages.DELETE_ACCOUNT)))}c.displayName="UserSettingsAccountDisableAccountSection"},954663:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=_;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=n(536211),i=n(825185),l=f(n(669879)),u=f(n(816624)),s=f(n(871778)),d=n(914905);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){
for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){S(o,a,r,i,l,"next",e)}function l(e){S(o,a,r,i,l,"throw",e)}i(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _(){var e=(0,o.useStateFromStores)([s.default],(function(){return s.default.theme})),t=(0,o.useStateFromStores)([u.default],(function(){return u.default.getIsDisableSubmit()})),n=m(r.useState(!1),2),a=n[0],f=n[1],c=r.useCallback(v(regeneratorRuntime.mark((function e(){var t,n,a,r,o,l,s,c,p,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0);t={};n=u.default.getAllPending(),a=n.pendingAvatar,r=n.pendingBanner,o=n.pendingBio,
l=n.pendingPronouns,s=n.pendingAccentColor,c=n.pendingAvatarDecoration;void 0!==a&&(t.avatar=a);void 0!==r&&(t.banner=r);null!=o&&(t.bio=o);null!=l&&(t.pronouns=l);void 0!==s&&(t.accentColor=s);void 0!==c&&(t.avatarDecoration=c);e.next=11;return(0,i.saveAccountChanges)(t);case 11:(null==(p=e.sent)?void 0:p.ok)?(0,i.resetAllPending)():null!=(null==p||null===(S=p.body)||void 0===S?void 0:S.username)&&(0,d.showInvalidUsernameToast)();f(!1);case 14:case"end":return e.stop()}}),e)}))),[]),S=r.useCallback((function(){(0,i.resetAllPending)()}),[]);return p(l.default,{theme:e,submitting:a,onSave:c,onReset:S,disabled:t})}_.displayName="UserSettingsAccountNotice"},319155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=te
;var a,r=j(n(667294)),o=F(n(294184)),i=F(n(441143)),l=n(536211),u=F(n(226800)),s=F(n(252149)),d=F(n(149342)),f=F(n(915539)),c=F(n(730487)),p=F(n(145122)),S=j(n(947472)),v=F(n(715419)),m=j(n(286004)),E=j(n(674356)),_=F(n(816624)),g=F(n(871778)),y=F(n(728429)),O=F(n(956117)),T=F(n(16941)),h=F(n(160629)),I=n(688388),N=F(n(775803)),A=n(194322),M=j(n(628551)),b=F(n(776360)),C=F(n(308920)),P=n(179495),R=F(n(922629)),D=n(894826),L=n(860238),U=n(770348),w=n(52656),k=F(n(247001)),B=F(n(517401));function F(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){
var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function H(){H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return H.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function V(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){V(o,a,r,i,l,"next",e)}function l(e){V(o,a,r,i,l,"throw",e)}i(void 0)}))}}function K(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}
if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=R.default.getEnableHardwareAcceleration()?M.AnimatedAvatar:M.default;function Q(e){var t=e.className,a=e.user,i=r.useRef(null),l=null!=i.current&&i.current.scrollWidth>i.current.clientWidth;return K("div",{className:(0,o.default)(B.default.field,t)},void 0,K("div",{className:B.default.constrainedRow},void 0,K("div",{className:B.default.usernameRow},void 0,K(I.FormTitle,{className:B.default.fieldTitle},void 0,k.default.Messages.USER_SETTINGS_LABEL_USERNAME),r.createElement("div",{className:B.default.usernameInnerRow,ref:i},K(b.default,{tag:"span",color:b.default.Colors.HEADER_PRIMARY,size:b.default.Sizes.SIZE_16},void 0,a.username),K(b.default,{tag:"span",color:b.default.Colors.HEADER_SECONDARY,size:b.default.Sizes.SIZE_16},void 0,"#",a.discriminator)))),K(O.default,{className:B.default.fieldButton,size:O.default.Sizes.SMALL,
color:O.default.Colors.PRIMARY,onClick:function(){return(0,A.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(97011)]).then(n.bind(n,197011));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}},void 0,l?k.default.Messages.DISAPPROVAL:k.default.Messages.EDIT))}Q.displayName="EditUsernameRow";function $(e){var t=e.text,n=e.censor,a=x(r.useState(!1),2),o=a[0],i=a[1],l=o?t:n(t);return r.createElement(r.Fragment,null,l,K(O.default,{look:O.default.Looks.LINK,size:O.default.Sizes.MIN,color:O.default.Colors.LINK,onClick:function(){return i(!o)}},void 0,o?k.default.Messages.HIDE:k.default.Messages.REVEAL))}function Z(e){var t,a=e.className,i=e.user;if(i.isClaimed())if(null==i.email)t={buttonText:k.default.Messages.ADD,buttonColor:O.default.Colors.PRIMARY,
valueMessage:k.default.Messages.USER_SETTINGS_NO_EMAIL_PLACEHOLDER,handleClick:function(){return(0,A.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}};else{var l=i.email;t={buttonText:k.default.Messages.EDIT,buttonColor:O.default.Colors.PRIMARY,valueMessage:K($,{text:l,censor:L.censorEmail}),handleClick:function(){return(0,A.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.all([n.e(40532),n.e(92253)]).then(n.bind(n,592253));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,e)}));case 5:case"end":return e.stop()}}),e)}))))}}
}else t={buttonText:k.default.Messages.CLAIM_ACCOUNT_SHORT,buttonColor:O.default.Colors.BRAND,valueMessage:k.default.Messages.USER_SETTINGS_ADD_EMAIL_CLAIM,handleClick:function(){return f.default.openClaimAccountModal()}};return K("div",{className:(0,o.default)(B.default.field,a)},void 0,K("div",{className:B.default.constrainedRow},void 0,K("div",{},void 0,K(I.FormTitle,{className:B.default.fieldTitle},void 0,k.default.Messages.USER_SETTINGS_LABEL_EMAIL),K("div",{},void 0,K(b.default,{tag:"span",color:b.default.Colors.HEADER_PRIMARY,size:b.default.Sizes.SIZE_16},void 0,t.valueMessage)))),K(O.default,{className:B.default.fieldButton,size:O.default.Sizes.SMALL,color:O.default.Colors.PRIMARY,onClick:t.handleClick},void 0,t.buttonText))}Z.displayName="EditEmailRow";function q(e){var t=e.className,a=e.user;if(!a.isClaimed())return null;var i,l=a.phone,u=a.email;i=null==l?k.default.Messages.USER_SETTINGS_NO_PHONE_PLACEHOLDER:K($,{text:l,censor:L.censorPhone});return K("div",{className:(0,
o.default)(B.default.field,t)},void 0,K("div",{className:B.default.constrainedRow},void 0,K("div",{},void 0,K(I.FormTitle,{className:B.default.fieldTitle},void 0,k.default.Messages.USER_SETTINGS_LABEL_PHONE_NUMBER),K("div",{},void 0,K(b.default,{tag:"span",color:b.default.Colors.HEADER_PRIMARY,size:b.default.Sizes.SIZE_16},void 0,i)))),K("div",{className:B.default.fieldButtonList},void 0,null!=l&&null!=u?K(O.default,{className:(0,o.default)(B.default.fieldButton,B.default.removeButton),size:O.default.Sizes.SMALL,look:O.default.Looks.LINK,color:O.default.Colors.PRIMARY,onClick:function(){(0,A.openModal)((function(e){return r.createElement(d.default,H({},e,{title:k.default.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_NUMBER_TITLE,children:a.hasFlag(U.UserFlags.MFA_SMS)?k.default.Messages.USER_SETTINGS_ACCOUNT_REMOVE_PHONE_SMS_BACKUP_WARNING:void 0,actionText:k.default.Messages.REMOVE,handleSubmit:function(e){return S.default.removePhone(e,S.ChangePhoneReason.USER_SETTINGS_UPDATE)}}))}))}
},void 0,k.default.Messages.REMOVE):null,K(O.default,{className:B.default.fieldButton,size:O.default.Sizes.SMALL,color:O.default.Colors.PRIMARY,onClick:function(){(0,A.openModalLazy)(W(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return Promise.resolve().then(n.bind(n,54725));case 2:t=e.sent;a=t.default;return e.abrupt("return",(function(e){return r.createElement(a,H({reason:S.ChangePhoneReason.USER_SETTINGS_UPDATE},e))}));case 5:case"end":return e.stop()}}),e)}))),{modalKey:w.PHONE_VERIFICATION_MODAL_KEY})}},void 0,null==l?k.default.Messages.ADD:k.default.Messages.EDIT)))}q.displayName="EditPhoneRow";function X(e){var t=e.user,n=(0,c.default)(t.id);return D.DeveloperMode.useSetting()&&P.SUPPORTS_COPY?K(h.default,{renderPopout:function(e){var t=e.closePopout;return K(p.default,{onClose:t,onSelect:void 0,navId:"copy-id","aria-label":k.default.Messages.USER_MORE_ACTIONS_MENU_LABEL},void 0,n)}
},void 0,(function(e){return r.createElement(T.default,H({},e,{className:B.default.overflowMenuButton,"aria-label":k.default.Messages.ACTIONS}),K(N.default,{className:B.default.overflowMenuIcon,height:24,width:24}))})):null}X.displayName="CopyUserIdMenu";function J(){u.default.setSection(U.UserSettingsSections.PROFILE_CUSTOMIZATION)}function ee(){C.default.track(U.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:U.AnalyticsPages.USER_SETTINGS,location_section:U.AnalyticsSections.SETTINGS_ACCOUNT,location_object:U.AnalyticsObjects.TOOLTIP});u.default.setSection(U.UserSettingsSections.PREMIUM)}function te(){var e,t=(0,l.useStateFromStores)([y.default],(function(){var e=y.default.getCurrentUser();(0,i.default)(null!=e,"UserSettingsAccountProfileCard: currentUser cannot be undefined");return e})),n=(0,l.useStateFromStores)([v.default],(function(){return v.default.getUserProfile(t.id)})),a=(0,l.useStateFromStores)([g.default],(function(){return g.default.status})),r=(0,
l.useStateFromStores)([_.default],(function(){return _.default.getErrors()})),o=null==r||null===(e=r.avatar)||void 0===e?void 0:e[0];return K("div",{className:B.default.accountProfileCard},void 0,K(m.default,{user:t,allowEdit:!1,guildId:void 0,bannerType:m.UserBannerTypes.SETTINGS}),K("div",{className:B.default.userInfo},void 0,K(z,{className:B.default.avatar,src:t.getAvatarURL(void 0,80,!0),status:a,size:M.default.Sizes.SIZE_80,"aria-label":t.username}),K("div",{},void 0,K("div",{className:B.default.profileCardUsernameRow},void 0,K(s.default,{user:t,className:B.default.userTag,discriminatorClass:B.default.discriminator}),K(X,{user:t})),K(E.default,{user:t,premiumSince:null==n?void 0:n.premiumSince,premiumGuildSince:null==n?void 0:n.premiumGuildSince,size:E.BadgeSizes.SIZE_22,openPremiumSettings:ee})),K(O.default,{onClick:J,size:O.default.Sizes.SMALL},void 0,k.default.Messages.USER_SETTINGS_EDIT_PROFILE)),K("div",{className:B.default.background},void 0,null!=o?K(b.default,{
className:B.default.avatarError,size:b.default.Sizes.SIZE_12,color:b.default.Colors.STATUS_RED},void 0,o):null,K("div",{className:B.default.fieldList},void 0,K(Q,{user:t}),K(Z,{className:B.default.fieldSpacer,user:t}),K(q,{className:B.default.fieldSpacer,user:t}))))}te.displayName="UserSettingsAccountProfileCard"},66272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=N;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a
}(n(667294)),o=n(536211),i=n(825185),l=_(n(816624)),u=_(n(956117)),s=_(n(279950)),d=n(354479),f=n(688388),c=n(3400),p=_(n(776360)),S=n(914905),v=n(371621),m=_(n(247001)),E=_(n(843204));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){
var o=e.apply(t,n);function i(e){O(o,a,r,i,l,"next",e)}function l(e){O(o,a,r,i,l,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e){var t,n,a=e.transitionState,_=e.onClose,g=(0,d.useUID)(),O=h(r.useState(""),2),I=O[0],N=O[1],A=h(r.useState(""),2),M=A[0],b=A[1],C=h(r.useState(""),2),P=C[0],R=C[1],D=h(r.useState(!1),2),L=D[0],U=D[1],w=h(r.useState(!1),2),k=w[0],B=w[1],F=(0,o.useStateFromStores)([l.default],(function(){return l.default.getErrors()})),G=r.useRef(null);r.useEffect((function(){if(a===v.ModalTransitionState.ENTERED){var e;null===(e=G.current)||void 0===e||e.focus();B(!1)}}),[a]);function j(){return(j=T(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();if(M===P){e.next=6;break}U(!0);return e.abrupt("return");case 6:U(!1);case 7:B(!0);e.next=10;return(0,i.saveAccountChanges)({password:I,newPassword:M});case 10:n=e.sent;B(!1)
;(null==n?void 0:n.ok)?_():null!=(null==n||null===(a=n.body)||void 0===a?void 0:a.username)&&(0,S.showInvalidUsernameToast)();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return y(c.ModalRoot,{transitionState:a,"aria-labelledby":g},void 0,y(c.ModalHeader,{id:g,separator:!1,className:E.default.header},void 0,y(p.default,{color:p.default.Colors.HEADER_PRIMARY,size:p.default.Sizes.SIZE_24,className:E.default.title},void 0,m.default.Messages.USER_SETTINGS_ACCOUNT_CHANGE_PASSWORD_TITLE_DESKTOP),y(p.default,{color:p.default.Colors.HEADER_SECONDARY,size:p.default.Sizes.SIZE_16,className:E.default.subtitle},void 0,m.default.Messages.USER_SETTINGS_ACCOUNT_CHANGE_PASSWORD_PROMPT_DESKTOP),y(c.ModalCloseButton,{onClick:_,className:E.default.modalCloseButton})),y("form",{onSubmit:function(e){return j.apply(this,arguments)}},void 0,y(c.ModalContent,{className:E.default.content},void 0,y(f.FormItem,{title:m.default.Messages.FORM_LABEL_CURRENT_PASSWORD,
error:null==F||null===(t=F.password)||void 0===t?void 0:t[0]},void 0,y(s.default,{type:"password",value:I,onChange:N,inputRef:G})),y(f.FormItem,{className:E.default.newPassword,title:m.default.Messages.FORM_LABEL_NEW_PASSWORD,error:null==F||null===(n=F.new_password)||void 0===n?void 0:n[0]},void 0,y(s.default,{type:"password",value:M,onChange:b})),y(f.FormItem,{className:E.default.newPassword,title:m.default.Messages.FORM_LABEL_CONFIRM_NEW_PASSWORD,error:L?m.default.Messages.FORM_LABEL_NEW_PASSWORD_MISMATCH:void 0},void 0,y(s.default,{type:"password",value:P,onChange:R}))),y(c.ModalFooter,{},void 0,y(u.default,{type:"submit",color:u.default.Colors.BRAND,size:u.default.Sizes.MEDIUM,submitting:k},void 0,m.default.Messages.DONE),y(u.default,{className:E.default.cancel,look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:_},void 0,m.default.Messages.CANCEL))))}N.displayName="ChangePasswordModal"},55181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;t.default=function(){var e=(0,i.useStateFromStores)([l.default],(function(){return l.default.getSubsection()})),t=r.createRef(),n=(0,i.useStateFromStoresObject)([c.default],(function(){return c.default.getEmailSettings()})),a=n.categories,s=n.initialized;r.useEffect((function(){if(null==s)(0,f.fetchEmailSettings)();else if(e===p.EMAILS_SUBSECTION.toUpperCase()){var n;null==t||null===(n=t.current)||void 0===n||n.scrollIntoView(!0)}}),[s,t,e]);var E=p.MarketingEmailCategories.reduce((function(e,t){return e||!!a[t]}),!1);return s?r.createElement(r.Fragment,null,r.createElement("div",{ref:t}),y(d.FormSection,{className:(0,o.default)(m.default.marginTop40),tag:d.FormTitleTags.H1,title:S.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS},void 0,p.EmailCategoriesList.map((function(e){var t=e.category,n=e.label,r=e.subLabel;return y(O,{label:n(),subLabel:r(),enabled:a[t],onChange:function(e){return function(e,t){(0,f.updateEmailSetting)(e,t)}(t,e)}},n())})),y(u.default,{
className:v.default.marketingUnsubscribeButton,disabled:!E,look:u.ButtonLooks.LINK,color:u.ButtonColors.LINK,onClick:f.updateMarketingEmailSettings},void 0,S.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING),y(d.FormText,{type:d.FormTextTypes.DESCRIPTION},void 0,S.default.Messages.USER_SETTINGS_EMAIL_NOTIFICATIONS_UNSUB_MARKETING_DESCRIPTION),y(d.FormDivider,{className:(0,o.default)(m.default.marginTop40,m.default.marginBottom40)}))):null};var a,r=g(n(667294)),o=E(n(294184)),i=n(536211),l=E(n(516818)),u=g(n(956117)),s=E(n(567668)),d=n(688388),f=n(781900),c=E(n(421010)),p=n(969299),S=E(n(247001)),v=E(n(55386)),m=E(n(380203));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){var t=e.label,n=e.onChange,a=e.enabled,r=e.subLabel;return y(s.default,{value:!!a,onChange:n,note:r},void 0,t)}O.displayName="CategorySwitch"},229024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=H
;var a,r=k(n(667294)),o=U(n(441143)),i=n(235234),l=n(536211),u=U(n(636602)),s=n(825185),d=U(n(226800)),f=U(n(524791)),c=U(n(135631)),p=k(n(125478)),S=n(832215),v=n(100618),m=U(n(468532)),E=U(n(845176)),_=U(n(482117)),g=U(n(96194)),y=U(n(498163)),O=U(n(561511)),T=U(n(431676)),h=U(n(777018)),I=U(n(663303)),N=U(n(816624)),A=U(n(728429)),M=U(n(308920)),b=U(n(838583)),C=U(n(427588)),P=U(n(267309)),R=n(770348),D=U(n(247001)),L=U(n(944641));function U(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function B(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return F.apply(this,arguments)}function G(){M.default.track(R.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:R.AnalyticsPages.USER_SETTINGS,location_section:R.AnalyticsSections.SETTINGS_ACCOUNT,location_object:R.AnalyticsObjects.BADGE});d.default.setSection(R.UserSettingsSections.PREMIUM)}
var j=B(f.default,{});function H(){var e,t=(0,l.useStateFromStores)([A.default],(function(){var e=A.default.getCurrentUser();(0,o.default)(null!=e,"UserSettingsProfileCustomization: user cannot be undefined");return e})),n=(0,l.useStateFromStores)([I.default],(function(){return I.default.hidePersonalInformation})),a=(0,l.useStateFromStoresObject)([N.default],(function(){return F({},N.default.getAllPending(),{errors:N.default.getErrors()})})),d=a.pendingAvatar,f=a.pendingBanner,M=a.pendingBio,U=a.pendingPronouns,w=a.pendingAccentColor,k=a.errors,H=b.default.canUsePremiumProfileCustomization(t),x=void 0===d?t.getAvatarURL(void 0,80):d,Y=null!==(e=(0,i.hex2int)((0,p.default)(x,R.Colors.PRIMARY_DARK_530,p.ColorFormats.HEX)))&&void 0!==e?e:0,V=void 0===w?t.accentColor:w,W=void 0===d?null!=t.avatar:null!=d,K=void 0===f?null!=t.banner:null!=f,z=(0,S.useGlobalHasAvatarDecorations)().canUseAvatarDecorations,Q=c.default.useExperiment({}).showPronouns;r.useEffect((function(){return function(){
return u.default.wait(s.resetAllPending)}}),[]);return n?j:B(m.default,{customizationSections:[B(y.default,{onAvatarChange:s.setPendingAvatar,showRemoveAvatarButton:W,errors:k.avatar,sectionTitle:D.default.Messages.USER_SETTINGS_AVATAR},"avatar"),z?B(g.default,{user:t},"decoration"):null,B(T.default,{defaultAvatarColor:Y,savedUserColor:t.accentColor,pendingColor:w,setPendingAccentColor:s.setPendingAccentColor},"color"),B(O.default,{sectionTitle:D.default.Messages.USER_SETTINGS_PROFILE_BANNER,canUsePremiumCustomization:H,showRemoveBannerButton:K,errors:k.banner,upsellButton:B(P.default,{user:t}),onBannerChange:s.setPendingBanner},"banner"),Q&&B(h.default,{sectionTitle:D.default.Messages.USER_SETTINGS_PRONOUNS,errors:k.pronouns,onPronounsChange:s.setPendingPronouns,pendingPronouns:U,currentPronouns:t.pronouns}),B(_.default,{sectionTitle:D.default.Messages.USER_SETTINGS_ABOUT_ME,errors:k.bio,onBioChange:function(e){(0,v.setNewPendingUserBio)(e,t.bio);(0,
s.setDisableSubmit)(null!=e&&e.length>R.BIO_MAX_LENGTH)},pendingBio:M,currentBio:t.bio},"bio")],title:D.default.Messages.USER_SETTINGS_USER_PROFILE,description:B("div",{className:L.default.divider}),profilePreview:B(E.default,{user:t,canUsePremiumCustomization:H,bannerColor:null!=V?V:Y,onUpsellClick:C.default,onAvatarChange:s.setPendingAvatar,onBannerChange:s.setPendingBanner,pendingBanner:f,pendingBio:M,pendingPronouns:U,pendingAvatar:d,openPremiumSettings:G})})}H.displayName="UserSettingsProfileCustomization"},267309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=S(n(956117)),i=S(n(60097)),l=S(n(41024)),u=S(n(308920)),s=S(n(427588)),d=n(770348),f=n(265517),c=S(n(247001)),p=S(n(430099));function S(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){
var t=e.user.premiumType===d.PremiumTypes.TIER_1?c.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPGRADE_UPSELL:c.default.Messages.USER_SETTINGS_CUSTOMIZATION_UPSELL;r.useEffect((function(){u.default.track(d.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:f.PremiumUpsellTypes.CUSTOM_PROFILE_SETTINGS_BANNER_BUTTON,location:{page:d.AnalyticsPages.USER_SETTINGS,section:d.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,object:d.AnalyticsObjects.BUTTON_CTA}})}),[]);return m(i.default,{color:o.default.Colors.GREEN,onClick:s.default,innerClassName:p.default.nitroUpsellButtonInner},void 0,m(l.default,{className:p.default.nitroUpsellButtonWheel}),t)}E.displayName="UserSettingsProfileUpsellButton"},427588:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){(0,r.openModalLazy)(s(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return n.e(87096).then(n.bind(n,887096));case 2:
t=e.sent;r=t.default;return e.abrupt("return",(function(e){return a.createElement(r,l({},e,{source:{page:o.AnalyticsPages.USER_SETTINGS,section:o.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,object:o.AnalyticsObjects.BUTTON_CTA,type:o.AnalyticsObjectTypes.BUY}}))}));case 5:case"end":return e.stop()}}),e)}))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),r=n(194322),o=n(770348);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(){l=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return l.apply(this,arguments)}function u(e,t,n,a,r,o,i){try{var l=e[o](i),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){u(o,a,r,i,l,"next",e)}function l(e){u(o,a,r,i,l,"throw",e)}i(void 0)}))}}},451646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a=d(n(821896)),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(685677)),o=d(n(713293)),i=d(n(590418)),l=d(n(510966)),u=n(770348);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var p=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}(t,e);t.createFromServer=function(e){var n=null!=e.payment_source?o.default.createFromServer(e.payment_source):null,a=null!=e.sku?i.default.createFromServer(e.sku):null,r=null!=e.subscription?l.default.createFromServer(e.subscription):null;return new t({id:e.id,createdAt:new Date(e.created_at),
currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:n,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:r,skuId:e.sku_id,skuPrice:e.sku_price,sku:a,downloadableInvoice:e.downloadable_invoice,downloadableRefundInvoices:e.downloadable_refund_invoices,premiumRefundDisqualificationReasons:e.premium_refund_disqualification_reasons})};function t(t){var n;(n=e.call(this)||this).id=t.id;n.amount=t.amount;n.amountRefunded=t.amountRefunded;n.createdAt=t.createdAt;n.currency=t.currency;n.description=t.description;n.paymentSource=t.paymentSource;n.status=t.status;n.tax=t.tax;n.taxInclusive=t.taxInclusive;n.subscription=t.subscription;n.skuId=t.skuId;n.skuPrice=t.skuPrice;n.sku=t.sku;n.flags=t.flags;n.downloadableInvoice=t.downloadableInvoice;n.downloadableRefundInvoices=t.downloadableRefundInvoices
;n.premiumRefundDisqualificationReasons=t.premiumRefundDisqualificationReasons;return n}!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"isPurchasedViaApple",get:function(){return this.paymentGateway===u.PaymentGateways.APPLE}},{key:"isPurchasedViaGoogle",get:function(){return this.paymentGateway===u.PaymentGateways.GOOGLE}},{key:"isPurchasedExternally",get:function(){return this.isPurchasedViaApple||this.isPurchasedViaGoogle}},{key:"isSubscription",get:function(){return null!=this.subscription}},{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&u.PREMIUM_PLANS.has(this.subscription.planId)}},{key:"isPremiumGuildSubscription",get:function(){return null!=this.subscription&&null!=this.subscription.additionalPlans.find((function(e){var t=e.planId;return u.PREMIUM_GUILD_SUBSCRIPTION_PLANS.has(t)}))}},{key:"isGift",get:function(){return r.hasFlag(this.flags,u.PaymentFlags.GIFT)}},{key:"isPremiumGift",
get:function(){return this.isGift&&Object.values(u.PremiumSubscriptionSKUs).includes(this.skuId)}},{key:"isPreorder",get:function(){return r.hasFlag(this.flags,u.PaymentFlags.PREORDER)}}]);return t}(a.default);t.default=p},753304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=s(n(496486)),o=s(n(653795)),i=s(n(536211)),l=s(n(636602)),u=n(770348);function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(e,a.key,a)}}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var c=!1,p=[],S="",v={viewNonce:"",regenerateNonce:""};var m=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getVerificationKey=function(){return S}
;n.getBackupCodes=function(){return p};n.getNonces=function(){return v};!function(e,t,n){t&&d(e.prototype,t);n&&d(e,n);Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"togglingSMS",get:function(){return c}}]);return t}(i.default.Store);m.displayName="MFAStore";var E=new m(l.default,((a={})[u.ActionTypes.MFA_ENABLE_SUCCESS]=function(e){var t=e.token,n=e.codes;o.default.setToken(t);p=n},a[u.ActionTypes.MFA_DISABLE_SUCCESS]=function(e){var t=e.token;o.default.setToken(t)},a[u.ActionTypes.MFA_SMS_TOGGLE]=function(){c=!0},a[u.ActionTypes.MFA_SMS_TOGGLE_COMPLETE]=function(){c=!1},a[u.ActionTypes.MFA_CLEAR_BACKUP_CODES]=function(){p=[]},a[u.ActionTypes.MFA_VIEW_BACKUP_CODES]=function(e){var t=e.codes,n=e.key;p=r.default.sortBy(t,"code");S=n},a[u.ActionTypes.MFA_SEND_VERIFICATION_KEY]=function(e){var t=e.nonces;v=t},a));t.default=E},490931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var a,r=u(n(536211)),o=u(n(636602)),i=u(n(451646)),l=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}function d(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=[];function S(e){
var t=e.payment,n=i.default.createFromServer(t),a=p.findIndex((function(e){return e.id===t.id}));if(-1===a){p.push(n);p.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}))}else p[a]=n;p=d(p)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.getPayment=function(e){return p.find((function(t){return t.id===e}))};n.getPayments=function(){return p};return t}(r.default.Store);v.displayName="PaymentStore";var m=new v(o.default,((a={})[l.ActionTypes.BILLING_PAYMENTS_FETCH_SUCCESS]=function(e){for(var t,n=function(){var e=t.value,n=i.default.createFromServer(e),a=p.findIndex((function(t){return t.id===e.id}));-1!==a?p[a]=n:p.push(n)},a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0
;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.payments);!(t=a()).done;)n();p.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()}));p=d(p)},a[l.ActionTypes.PAYMENT_UPDATE]=S,a[l.ActionTypes.BILLING_PAYMENT_FETCH_SUCCESS]=S,a[l.ActionTypes.LOGOUT]=function(){p=[]},a));t.default=m},542618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}
a.default=e;n&&n.set(e,a);return a}(n(667294)),o=u(n(294184)),i=u(n(530250)),l=u(n(124047));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t=e.children,n=e.className,a=e.splashArtURL;return f(i.default,{className:(0,o.default)(l.default.header,n),align:i.default.Align.CENTER},void 0,f("div",{className:l.default.splashArt,
style:null!=a?{backgroundImage:"url("+a+")"}:void 0}),t)};c.displayName="ActivityFeedCardHeader";var p=function(e){var t=e.children,n=e.className;return f("div",{className:(0,o.default)(l.default.body,n)},void 0,t)};p.displayName="ActivityFeedCardBody";var S=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.onMouseEnter,r=e.onMouseLeave;return f("div",{className:(0,o.default)(l.default.card,n),onMouseEnter:a,onMouseLeave:r},void 0,t)};return t}(r.PureComponent);S.displayName="ActivityFeedCard";S.Header=c;S.Body=p;var v=S;t.default=v},477797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e)
;var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=c(n(294184)),i=c(n(16941)),l=c(n(916417)),u=c(n(863771)),s=c(n(247001)),d=c(n(282230)),f=["currentPageIndex","numPages","onChangePage","children","className","showPageCount"];function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return S.apply(this,arguments)}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=r.forwardRef((function(e,t){var n,a,c=e.currentPageIndex,p=e.numPages,m=e.onChangePage,E=e.children,_=e.className,g=e.showPageCount,y=void 0===g||g,O=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,f),T=c<=0,h=c>=p-1;return r.createElement("div",S({className:(0,o.default)(d.default.paginator,_),ref:t},O),E,v("div",{className:d.default.pageActions},void 0,v(i.default,{className:(0,o.default)(d.default.pageButtonPrev,(n={},n[d.default.disabled]=T,n)),tabIndex:T?-1:0,onClick:T?void 0:function(){return m(c-1)}},void 0,v(l.default,{className:d.default.pageButtonIcon,
"aria-label":s.default.Messages.PAGINATION_PREVIOUS})),v("div",{className:d.default.pageIndicator},void 0,y?s.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:c+1,numPages:p}):s.default.Messages.PAGINATOR_CURRENT_PAGE.format({currentPage:c+1})),v(i.default,{className:(0,o.default)(d.default.pageButtonNext,(a={},a[d.default.disabled]=h,a)),tabIndex:h?-1:0,onClick:h?void 0:function(){return m(c+1)}},void 0,v(u.default,{className:d.default.pageButtonIcon,"aria-label":s.default.Messages.PAGINATION_NEXT}))))}));t.default=m},638707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null
;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),o=f(n(294184)),i=n(682937),l=f(n(365211)),u=f(n(596178)),s=n(770348),d=f(n(387070));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}var v=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}(t,e)
;function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.renderIcon=function(e){return e===s.BoostedGuildTiers.NONE?p(u.default,{tier:s.BoostedGuildTiers.TIER_1,className:d.default.gemWithoutLabel}):p(u.default,{tier:e,className:d.default.gemWithLabel})};n.render=function(){var e=this.props,t=e.className,n=e.guildId,a=e.subscriberCount,r=(0,i.getGuildTierFromAppliedBoostCount)(a,n),u=(0,i.getNextGuildTierFromAppliedBoostCount)(a,n),s=null!=u?(0,i.getAppliedGuildBoostsRequired)(n)[u]:null,f=null!=s&&s>0?a/s*100:100;return p(l.default,{background:d.default.progressBackground,percent:f,strokeSize:l.default.StrokeSizes.SMALL,className:(0,o.default)(d.default.gemIndicatorProgressCircle,t)},void 0,p("div",{className:d.default.gemIndicatorContainer},void 0,this.renderIcon(r),p("div",{className:d.default.tierLabel},void 0,(0,i.getTierName)(r))))};return t}(r.Component);v.displayName="PremiumGuildGemIndicator";var m=v;t.default=m},675044:(e,t,n)=>{"use strict"
;Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var a,r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),i=(a=n(468205))&&a.__esModule?a:{default:a},l=["width","height","color","foreground"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return s.apply(this,arguments)}function d(e,t,n,a){
r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,a=e.height,r=void 0===a?24:a,u=e.color,f=void 0===u?"currentColor":u,c=e.foreground,p=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,l);return o.createElement("svg",s({},(0,i.default)(p),{width:n,height:r,viewBox:"0 0 24 24"}),d("path",{className:c,fill:f,id:"a",
d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H8.9V6zM16 16h-3v3h-2v-3H8v-2h3v-3h2v3h3v2z"}))}f.displayName="SecureLock"},526432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var a,r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}(n(667294)),i=(a=n(468205))&&a.__esModule?a:{default:a},l=["width","height","color"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t
})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return s.apply(this,arguments)}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.width,n=void 0===t?24:t,a=e.height,r=void 0===a?24:a,u=e.color,f=void 0===u?"currentColor":u,c=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++){n=o[a];t.indexOf(n)>=0||(r[n]=e[n])}return r}(e,l);return o.createElement("svg",s({width:n,height:r},(0,i.default)(c),{viewBox:"0 0 24 24"}),d("path",{
d:"M13.8003 3.59643V7.86267C13.8003 9.15683 14.8448 10.2011 16.1393 10.2011H20.4067C20.9334 10.2011 21.2012 9.56739 20.8263 9.19253L14.8091 3.17694C14.4341 2.80208 13.8003 3.06092 13.8003 3.59643Z",fill:f}),d("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9727 7.88073C11.9727 10.1692 13.8304 12.0269 16.1189 12.0269H20.9471V19.2064C20.9471 20.1936 20.1394 21.0013 19.1523 21.0013H4.79318C3.80599 21.0013 2.99829 20.1936 2.99829 19.2064V4.84737C2.99829 3.86019 3.80599 3.05249 4.79318 3.05249H11.9727V7.88073ZM13.8 14C13.8 14.9941 12.9941 15.8 12 15.8C11.0059 15.8 10.2 14.9941 10.2 14H9C9 15.6569 10.3431 17 12 17C13.6569 17 15 15.6569 15 14H13.8ZM7 15C7 15.5523 6.55228 16 6 16C5.44772 16 5 15.5523 5 15C5 14.4477 5.44772 14 6 14C6.55228 14 7 14.4477 7 15ZM18 16C18.5523 16 19 15.5523 19 15C19 14.4477 18.5523 14 18 14C17.4477 14 17 14.4477 17 15C17 15.5523 17.4477 16 18 16Z",fill:f}))}f.displayName="StickerPadded"},738858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{
value:!0});t.default=void 0;var a,r=v(n(667294)),o=p(n(294184)),i=p(n(314234)),l=v(n(37241)),u=p(n(110583)),s=n(770348),d=p(n(247001)),f=p(n(115479)),c=p(n(380203));function p(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e;n&&n.set(e,a);return a}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),
1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done);i=!0){o.push(a.value);if(t&&o.length===t)break}}catch(e){l=!0;r=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=0,y=function(e){switch(e){case s.OverlayNotificationPositions.TOP_LEFT:return d.default.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case s.OverlayNotificationPositions.TOP_RIGHT:return d.default.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case s.OverlayNotificationPositions.BOTTOM_LEFT:return d.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case s.OverlayNotificationPositions.BOTTOM_RIGHT:return d.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return d.default.Messages.OVERLAY_NOTIFICATIONS_DISABLED}
},O=[s.OverlayNotificationPositions.DISABLED,s.OverlayNotificationPositions.TOP_LEFT,s.OverlayNotificationPositions.TOP_RIGHT,s.OverlayNotificationPositions.BOTTOM_LEFT,s.OverlayNotificationPositions.BOTTOM_RIGHT];function T(e){var t,n=e.position,a=e.onChange,p=E(r.useState((function(){return"notification-position-selector-"+g++})),1)[0],S=n===s.OverlayNotificationPositions.DISABLED?d.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:d.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:y(n)});return m("div",{},void 0,m(i.default,{within:!0,offset:-2},void 0,m("div",{className:(0,o.default)(f.default.wrapper,(t={},t[f.default.disabledSelected]=n===s.OverlayNotificationPositions.DISABLED,t))},void 0,O.map((function(e){var t;return m("label",{className:(0,o.default)((t={},t[f.default.selected]=e===n,t[f.default.disabled]=e===s.OverlayNotificationPositions.DISABLED,t[f.default.topRight]=e===s.OverlayNotificationPositions.TOP_RIGHT,
t[f.default.topLeft]=e===s.OverlayNotificationPositions.TOP_LEFT,t[f.default.bottomRight]=e===s.OverlayNotificationPositions.BOTTOM_RIGHT,t[f.default.bottomLeft]=e===s.OverlayNotificationPositions.BOTTOM_LEFT,t))},e,y(e),e===s.OverlayNotificationPositions.DISABLED?m(u.default,{className:f.default.disabledIcon}):null,m("input",{type:"radio",name:p,value:e,onChange:function(t){return a(t,e)},className:f.default.hiddenInput}))})))),m(l.default,{type:l.Types.DESCRIPTION,className:c.default.marginTop8},void 0,S))}T.displayName="NotificationSettings";T.Positions=s.OverlayNotificationPositions;var h=T;t.default=h},581894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;t.formatExpiration=a;var n=/[^0-9/]/g;function a(e){var t=e.replace(n,"").split("/"),a=t[0],r=t[1],o=[];parseInt(a,10)>12&&(a=a.substring(0,1));o.push(a);(parseInt(a,10)>1||2===a.length||null!=r&&""!==r)&&o.push("/");null!=r&&""!==r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2));o.push(r)
;return o.join("")}var r={formatExpiration:a};t.default=r},35570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRandomHouse=t.getQuestions=t.getHouseNameFromHouseID=void 0;var a=i(n(441143)),r=n(770348),o=i(n(247001));function i(e){return e&&e.__esModule?e:{default:e}}t.getRandomHouse=function(){var e=Object.keys(r.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]};t.getQuestions=function(){
var e=[r.HypeSquadHouses.HOUSE_1,r.HypeSquadHouses.HOUSE_2,r.HypeSquadHouses.HOUSE_3,r.RANDOM_HYPESQUAD_HOUSE],t=[o.default.Messages.HYPESQUAD_QUESTION_0_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_1_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_2_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_3_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_4_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_5_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_6_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_7_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_8_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_9_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_10_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_11_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_12_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_13_PROMPT,o.default.Messages.HYPESQUAD_QUESTION_14_PROMPT],n=[[o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_0_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_1_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_2_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_3_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_4_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_5_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_6_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_7_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_8_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_9_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_10_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_11_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_12_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_13_RESPONSE_D],[o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_A,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_B,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_C,o.default.Messages.HYPESQUAD_QUESTION_14_RESPONSE_D]]
;return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map((function(r){var o=t[r],i=n[r];(0,a.default)(null!=o&&null!=i,"Invalid HypeSquad quiz question index");return{prompt:o,options:i.map((function(t,n){var r=e[n];(0,a.default)(null!==r,"Invalid HypeSquad quiz question option index");return{copy:t,house:r}}))}}))};t.getHouseNameFromHouseID=function(e){var t;return((t={})[r.HypeSquadHouses.HOUSE_1]=o.default.Messages.HYPESQUAD_HOUSE_1,t[r.HypeSquadHouses.HOUSE_2]=o.default.Messages.HYPESQUAD_HOUSE_2,t[r.HypeSquadHouses.HOUSE_3]=o.default.Messages.HYPESQUAD_HOUSE_3,t)[e]}},135628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.encodeTotpSecret=d;t.encodeTotpSecretAsUrl=function(e,t,n){void 0===n&&(n="Discord");return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+d(t)+"&issuer="+encodeURIComponent(n)};t.generateTotpSecret=function(){return e=function(e){void 0===e&&(e=10)
;return u.getRandomValues(new Uint8Array(e))}(),l.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e};t.hasCrypto=void 0;var a,r,o,i,l=(a=n(925017))&&a.__esModule?a:{default:a};var u=null!==(r=null===(o=window)||void 0===o?void 0:o.crypto)&&void 0!==r?r:null===(i=window)||void 0===i?void 0:i.msCrypto,s=null!=u&&"getRandomValues"in u&&"Uint8Array"in window;t.hasCrypto=s;function d(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}},374699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.computeFlags=function(e){var t;if(e[l.FriendSourceFlagKeys.ALL]){var n;return(n={})[l.FriendSourceFlagKeys.ALL]=!0,n[l.FriendSourceFlagKeys.FRIENDS]=!0,n[l.FriendSourceFlagKeys.GUILDS]=!0,n}return(t={})[l.FriendSourceFlagKeys.ALL]=!1,t[l.FriendSourceFlagKeys.FRIENDS]=!!e[l.FriendSourceFlagKeys.FRIENDS],t[l.FriendSourceFlagKeys.GUILDS]=!!e[l.FriendSourceFlagKeys.GUILDS],t};t.getSanitizedRestrictedGuilds=function(){
var e=o.default.restrictedGuilds;0===a.default.totalUnavailableGuilds&&(e=e.filter((function(e){return null!=r.default.getGuild(e)})));return e};t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()};t.trackPaneViewed=function(e,t){i.default.track(l.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",destination_pane:e,source:t})};var a=u(n(250650)),r=u(n(30098)),o=u(n(871778)),i=u(n(308920)),l=n(770348);function u(e){return e&&e.__esModule?e:{default:e}}var s=864e5*l.REQUEST_DATA_LIMIT_DAYS},336751:(e,t,n)=>{e.exports=n.p+"983ff3d2eb4a69afbc94645b36da6cf7.svg"},182765:(e,t,n)=>{e.exports=n.p+"092b071c3b3141a58787415450c27857.png"},921912:(e,t,n)=>{e.exports=n.p+"350e1c6739823620f031d023a48ac9d4.svg"},964766:(e,t,n)=>{e.exports=n.p+"3123277eb2e7083fde983985dcd209a6.svg"},3874:(e,t,n)=>{e.exports=n.p+"c115d59ca13c0f942965a82a0f05bf01.svg"},302255:(e,t,n)=>{
e.exports=n.p+"ad530d02033b87bb89752f915c2fbe3c.svg"},117399:(e,t,n)=>{e.exports=n.p+"f1e026332f1d6e902bcbbc07892bc849.svg"},408056:(e,t,n)=>{e.exports=n.p+"fd65da49c3073002049383baeb24e658.svg"},498913:(e,t,n)=>{e.exports=n.p+"beec347635d7597215747fcaf461e569.svg"},598150:(e,t,n)=>{e.exports=n.p+"9581653a5a4d0b7b56187044a9db301a.svg"},656470:(e,t,n)=>{e.exports=n.p+"12d9bda733d6432d605e8011c22c3e56.svg"},789885:(e,t,n)=>{e.exports=n.p+"8de4b17bb44ad5ef9f21f2f6f16aa8d1.svg"},549933:(e,t,n)=>{e.exports=n.p+"8bf5f8aa37e778466fa7091c79cd7dbe.png"},709804:(e,t,n)=>{e.exports=n.p+"37cf72199c4e106407223a1edaf34460.svg"},392544:(e,t,n)=>{e.exports=n.p+"55b367aaef0b83c837ac6c3bfe01da4c.svg"},350672:(e,t,n)=>{e.exports=n.p+"6e97f6643e7df29b26571d96430e92f4.svg"},24264:(e,t,n)=>{e.exports=n.p+"55b941d7bba0d84f06c05db34b7c9aab.svg"},874638:(e,t,n)=>{e.exports=n.p+"187bc0709ea0cecffe622a50993d012c.svg"},956863:(e,t,n)=>{e.exports=n.p+"c096c74c5685ce049b779f7ce3591bab.svg"},903049:(e,t,n)=>{
e.exports=n.p+"d5d75eacea4086ed5f38048b74851f43.svg"},188374:(e,t,n)=>{e.exports=n.p+"42b60052f80abd9c2bdd8fc24cf97988.svg"},789621:(e,t,n)=>{e.exports=n.p+"9167182d6b74446a1c818615c135c289.svg"},273361:(e,t,n)=>{e.exports=n.p+"67430d140a79af95585a19d304731dc5.svg"},129428:(e,t,n)=>{e.exports=n.p+"d6779172ed9209b5ad49df923ea7820c.svg"},566300:(e,t,n)=>{e.exports=n.p+"c11b69c74029b5deaca9ca7ce1e987b1.svg"},235920:(e,t,n)=>{e.exports=n.p+"23e073eb0ee21f94de11e5d0a7eec50e.svg"},200824:(e,t,n)=>{e.exports=n.p+"f69210154879227d0ede0308465cf388.svg"},680664:(e,t,n)=>{e.exports=n.p+"41a1814ec63404eb722ce88d1c28b4f4.png"},396448:(e,t,n)=>{e.exports=n.p+"8e5a6ee1fce31ef5c5800b7646a94d98.png"},178598:function(e,t,n){var a,r=r||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e
},a=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in a,o=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),i=e.webkitRequestFileSystem,l=e.requestFileSystem||i||e.mozRequestFileSystem,u=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},s="application/octet-stream",d=0,f=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e,t,n){for(var a=(t=[].concat(t)).length;a--;){var r=e["on"+t[a]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){u(e)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["",e],{type:e.type}):e},S=function(t,u,S){S||(t=p(t));var v,m,E,_=this,g=t.type,y=!1,O=function(){c(_,"writestart progress write writeend".split(" "))},T=function(){if(m&&o&&"undefined"!=typeof FileReader){var a=new FileReader;a.onloadend=function(){var e=a.result;m.location.href="data:attachment/file"+e.slice(e.search(/[,;]/))
;_.readyState=_.DONE;O()};a.readAsDataURL(t);_.readyState=_.INIT}else{!y&&v||(v=n().createObjectURL(t));if(m)m.location.href=v;else{void 0===e.open(v,"_blank")&&o&&(e.location.href=v)}_.readyState=_.DONE;O();f(v)}},h=function(e){return function(){if(_.readyState!==_.DONE)return e.apply(this,arguments)}},I={create:!0,exclusive:!1};_.readyState=_.INIT;u||(u="download");if(r){v=n().createObjectURL(t);setTimeout((function(){a.href=v;a.download=u;e=a,t=new MouseEvent("click"),e.dispatchEvent(t);var e,t;O();f(v);_.readyState=_.DONE}))}else{if(e.chrome&&g&&g!==s){E=t.slice||t.webkitSlice;t=E.call(t,0,t.size,s);y=!0}i&&"download"!==u&&(u+=".download");(g===s||i)&&(m=e);if(l){d+=t.size;l(e.TEMPORARY,d,h((function(e){e.root.getDirectory("saved",I,h((function(e){var n=function(){e.getFile(u,I,h((function(e){e.createWriter(h((function(n){n.onwriteend=function(t){m.location.href=e.toURL();_.readyState=_.DONE;c(_,"writeend",t);f(e)};n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&T()}
;"writestart progress write abort".split(" ").forEach((function(e){n["on"+e]=_["on"+e]}));n.write(t);_.abort=function(){n.abort();_.readyState=_.DONE};_.readyState=_.WRITING})),T)})),T)};e.getFile(u,{create:!1},h((function(e){e.remove();n()})),h((function(e){e.code===e.NOT_FOUND_ERR?n():T()})))})),T)})),T)}else T()}},v=S.prototype;if("undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob)return function(e,t,n){n||(e=p(e));return navigator.msSaveOrOpenBlob(e,t||"download")};v.abort=function(){var e=this;e.readyState=e.DONE;c(e,"abort")};v.readyState=v.INIT=0;v.WRITING=1;v.DONE=2;v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null;return function(e,t,n){return new S(e,t,n)}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports.saveAs=r:null!==n.amdD&&null!==n.amdO&&void 0!==(a=function(){return r}.apply(t,[]))&&(e.exports=a)},925017:(e,t,n)=>{var a=n(780883);t.encode=a.encode;t.decode=a.decode},
780883:(e,t,n)=>{var a=n(348764).Buffer,r=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];t.encode=function(e){a.isBuffer(e)||(e=new a(e));for(var t,n,r=0,o=0,i=0,l=0,u=new a(8*(t=e,n=Math.floor(t.length/5),t.length%5==0?n:n+1));r<e.length;){var s=e[r];if(i>3){l=(l=s&255>>i)<<(i=(i+5)%8)|(r+1<e.length?e[r+1]:0)>>8-i;r++}else{l=s>>8-(i+5)&31;0==(i=(i+5)%8)&&r++}u[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(l);o++}for(r=o;r<u.length;r++)u[r]=61;return u};t.decode=function(e){var t,n=0,o=0,i=0;a.isBuffer(e)||(e=new a(e));for(var l=new a(Math.ceil(5*e.length/8)),u=0;u<e.length&&61!=e[u];u++){var s=e[u]-48;if(!(s<r.length))throw new Error("Invalid input - it is not base32 encoded string");o=r[s];if(n<=3)if(0==(n=(n+5)%8)){t|=o;l[i]=t;i++;t=0}else t|=255&o<<8-n;else{t|=255&o>>>(n=(n+5)%8)
;l[i]=t;i++;t=255&o<<8-n}}return l.slice(0,i)}}}]);
//# sourceMappingURL=c40811bf86ff965cbeb6.js.map